(()=>{var e,t,r,n,a,s={40863:(e,t,r)=>{e.exports={default:r(72066),__esModule:!0}},63850:(e,t,r)=>{e.exports={default:r(53336),__esModule:!0}},88759:(e,t,r)=>{e.exports={default:r(81471),__esModule:!0}},12424:(e,t,r)=>{"use strict";t.__esModule=!0;var n=s(r(40863)),a=s(r(26378));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,s=!1,i=void 0;try{for(var o,l=(0,a.default)(e);!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},72066:(e,t,r)=>{r(46740),r(83036),e.exports=r(50861)},53336:(e,t,r)=>{r(58380),e.exports=r(94731).Number.isSafeInteger},81471:(e,t,r)=>{r(4561);var n=r(94731).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},27169:(e,t,r)=>{var n=r(89151),a=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e}},50861:(e,t,r)=>{var n=r(93965),a=r(25346)("iterator"),s=r(33135);e.exports=r(94731).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||s.hasOwnProperty(n(t))}},58380:(e,t,r)=>{var n=r(49901),a=r(27169),s=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&s(e)<=9007199254740991}})},4561:(e,t,r)=>{r(44903)("getOwnPropertyNames",(function(){return r(42029).f}))},53112:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},96291:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},253:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},13783:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},28447:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},98629:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},11931:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},27113:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},17757:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timothÃ©e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},25328:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},23906:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},13236:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},45190:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},67339:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},3517:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},55091:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},15021:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},86664:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},83935:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},1857:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},78960:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},58038:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},79194:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var a=r(2633);t.threezerotwofour=n(a);var s=r(53112);t.apathy=n(s);var i=r(96291);t.ashes=n(i);var o=r(253);t.atelierDune=n(o);var l=r(13783);t.atelierForest=n(l);var u=r(28447);t.atelierHeath=n(u);var d=r(98629);t.atelierLakeside=n(d);var c=r(11931);t.atelierSeaside=n(c);var h=r(27113);t.bespin=n(h);var f=r(17757);t.brewer=n(f);var p=r(25328);t.bright=n(p);var m=r(23906);t.chalk=n(m);var b=r(13236);t.codeschool=n(b);var y=r(45190);t.colors=n(y);var g=r(67339);t.default=n(g);var v=r(3517);t.eighties=n(v);var _=r(55091);t.embers=n(_);var E=r(15021);t.flat=n(E);var T=r(86664);t.google=n(T);var w=r(83935);t.grayscale=n(w);var C=r(1857);t.greenscreen=n(C);var S=r(78960);t.harmonic=n(S);var R=r(58038);t.hopscotch=n(R);var x=r(30971);t.isotope=n(x);var A=r(8764);t.marrakesh=n(A);var I=r(65364);t.mocha=n(I);var O=r(55610);t.monokai=n(O);var D=r(94646);t.ocean=n(D);var N=r(58466);t.paraiso=n(N);var P=r(35708);t.pop=n(P);var M=r(1834);t.railscasts=n(M);var q=r(45410);t.shapeshifter=n(q);var Z=r(27427);t.solarized=n(Z);var k=r(63013);t.summerfruit=n(k);var L=r(86706);t.tomorrow=n(L);var j=r(19028);t.tube=n(j);var U=r(71899);t.twilight=n(U)},30971:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},8764:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},65364:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},55610:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},94646:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},58466:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},35708:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},1834:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},45410:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},27427:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},63013:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},2633:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},86706:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},19028:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},71899:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},44431:function(e,t,r){var n;!function(a){"use strict";var s,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,l=Math.floor,u="[BigNumber Error] ",d=u+"Number primitive has more than 15 significant digits: ",c=1e14,h=14,f=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,b=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,r,n=1,a=e.length,s=e[0]+"";n<a;){for(t=e[n++]+"",r=h-t.length;r--;t="0"+t);s+=t}for(a=s.length;48===s.charCodeAt(--a););return s.slice(0,a+1||1)}function v(e,t){var r,n,a=e.c,s=t.c,i=e.s,o=t.s,l=e.e,u=t.e;if(!i||!o)return null;if(r=a&&!a[0],n=s&&!s[0],r||n)return r?n?0:-o:i;if(i!=o)return i;if(r=i<0,n=l==u,!a||!s)return n?0:!a^r?1:-1;if(!n)return l>u^r?1:-1;for(o=(l=a.length)<(u=s.length)?l:u,i=0;i<o;i++)if(a[i]!=s[i])return a[i]>s[i]^r?1:-1;return l==u?0:l>u^r?1:-1}function _(e,t,r,n){if(e<t||e>r||e!==l(e))throw Error(u+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function E(e){var t=e.c.length-1;return y(e.e/h)==t&&e.c[t]%2!=0}function T(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,a;if(t<0){for(a=r+".";++t;a+=r);e=a+e}else if(++t>(n=e.length)){for(a=r,t-=n;--t;a+=r);e+=a}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function e(t){var r,n,a,s,C,S,R,x,A,I,O=W.prototype={constructor:W,toString:null,valueOf:null},D=new W(1),N=20,P=4,M=-7,q=21,Z=-1e7,k=1e7,L=!1,j=1,U=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz";function W(e,t){var r,s,o,u,c,p,m,b,y=this;if(!(y instanceof W))return new W(e,t);if(null==t){if(e&&!0===e._isBigNumber)return y.s=e.s,void(!e.c||e.e>k?y.c=y.e=null:e.e<Z?y.c=[y.e=0]:(y.e=e.e,y.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(y.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,c=e;c>=10;c/=10,u++);return void(u>k?y.c=y.e=null:(y.e=u,y.c=[e]))}b=String(e)}else{if(!i.test(b=String(e)))return a(y,b,p);y.s=45==b.charCodeAt(0)?(b=b.slice(1),-1):1}(u=b.indexOf("."))>-1&&(b=b.replace(".","")),(c=b.search(/e/i))>0?(u<0&&(u=c),u+=+b.slice(c+1),b=b.substring(0,c)):u<0&&(u=b.length)}else{if(_(t,2,B.length,"Base"),10==t)return z(y=new W(e),N+y.e+1,P);if(b=String(e),p="number"==typeof e){if(0*e!=0)return a(y,b,p,t);if(y.s=1/e<0?(b=b.slice(1),-1):1,W.DEBUG&&b.replace(/^0\.0*|\./,"").length>15)throw Error(d+e)}else y.s=45===b.charCodeAt(0)?(b=b.slice(1),-1):1;for(r=B.slice(0,t),u=c=0,m=b.length;c<m;c++)if(r.indexOf(s=b.charAt(c))<0){if("."==s){if(c>u){u=m;continue}}else if(!o&&(b==b.toUpperCase()&&(b=b.toLowerCase())||b==b.toLowerCase()&&(b=b.toUpperCase()))){o=!0,c=-1,u=0;continue}return a(y,String(e),p,t)}p=!1,(u=(b=n(b,t,10,y.s)).indexOf("."))>-1?b=b.replace(".",""):u=b.length}for(c=0;48===b.charCodeAt(c);c++);for(m=b.length;48===b.charCodeAt(--m););if(b=b.slice(c,++m)){if(m-=c,p&&W.DEBUG&&m>15&&(e>f||e!==l(e)))throw Error(d+y.s*e);if((u=u-c-1)>k)y.c=y.e=null;else if(u<Z)y.c=[y.e=0];else{if(y.e=u,y.c=[],c=(u+1)%h,u<0&&(c+=h),c<m){for(c&&y.c.push(+b.slice(0,c)),m-=h;c<m;)y.c.push(+b.slice(c,c+=h));c=h-(b=b.slice(c)).length}else c-=m;for(;c--;b+="0");y.c.push(+b)}}else y.c=[y.e=0]}function Q(e,t,r,n){var a,s,i,o,l;if(null==r?r=P:_(r,0,8),!e.c)return e.toString();if(a=e.c[0],i=e.e,null==t)l=g(e.c),l=1==n||2==n&&(i<=M||i>=q)?T(l,i):w(l,i,"0");else if(s=(e=z(new W(e),t,r)).e,o=(l=g(e.c)).length,1==n||2==n&&(t<=s||s<=M)){for(;o<t;l+="0",o++);l=T(l,s)}else if(t-=i,l=w(l,s,"0"),s+1>o){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=s-o)>0)for(s+1==o&&(l+=".");t--;l+="0");return e.s<0&&a?"-"+l:l}function F(e,t){for(var r,n=1,a=new W(e[0]);n<e.length;n++){if(!(r=new W(e[n])).s){a=r;break}t.call(a,r)&&(a=r)}return a}function Y(e,t,r){for(var n=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,n++);return(r=n+r*h-1)>k?e.c=e.e=null:r<Z?e.c=[e.e=0]:(e.e=r,e.c=t),e}function z(e,t,r,n){var a,s,i,u,d,f,m,b=e.c,y=p;if(b){e:{for(a=1,u=b[0];u>=10;u/=10,a++);if((s=t-a)<0)s+=h,i=t,m=(d=b[f=0])/y[a-i-1]%10|0;else if((f=o((s+1)/h))>=b.length){if(!n)break e;for(;b.length<=f;b.push(0));d=m=0,a=1,i=(s%=h)-h+1}else{for(d=u=b[f],a=1;u>=10;u/=10,a++);m=(i=(s%=h)-h+a)<0?0:d/y[a-i-1]%10|0}if(n=n||t<0||null!=b[f+1]||(i<0?d:d%y[a-i-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(s>0?i>0?d/y[a-i]:0:b[f-1])%10&1||r==(e.s<0?8:7)),t<1||!b[0])return b.length=0,n?(t-=e.e+1,b[0]=y[(h-t%h)%h],e.e=-t||0):b[0]=e.e=0,e;if(0==s?(b.length=f,u=1,f--):(b.length=f+1,u=y[h-s],b[f]=i>0?l(d/y[a-i]%y[i])*u:0),n)for(;;){if(0==f){for(s=1,i=b[0];i>=10;i/=10,s++);for(i=b[0]+=u,u=1;i>=10;i/=10,u++);s!=u&&(e.e++,b[0]==c&&(b[0]=1));break}if(b[f]+=u,b[f]!=c)break;b[f--]=0,u=1}for(s=b.length;0===b[--s];b.pop());}e.e>k?e.c=e.e=null:e.e<Z&&(e.c=[e.e=0])}return e}function H(e){var t,r=e.e;return null===r?e.toString():(t=g(e.c),t=r<=M||r>=q?T(t,r):w(t,r,"0"),e.s<0?"-"+t:t)}return W.clone=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(_(r=e[t],0,b,t),N=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(_(r=e[t],0,8,t),P=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(_(r[0],-b,0,t),_(r[1],0,b,t),M=r[0],q=r[1]):(_(r,-b,b,t),M=-(q=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)_(r[0],-b,-1,t),_(r[1],1,b,t),Z=r[0],k=r[1];else{if(_(r,-b,b,t),!r)throw Error(u+t+" cannot be zero: "+r);Z=-(k=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(u+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!r,Error(u+"crypto unavailable");L=r}else L=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(_(r=e[t],0,9,t),j=r),e.hasOwnProperty(t="POW_PRECISION")&&(_(r=e[t],0,b,t),U=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(u+t+" not an object: "+r);$=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);B=r}}return{DECIMAL_PLACES:N,ROUNDING_MODE:P,EXPONENTIAL_AT:[M,q],RANGE:[Z,k],CRYPTO:L,MODULO_MODE:j,POW_PRECISION:U,FORMAT:$,ALPHABET:B}},W.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!W.DEBUG)return!0;var t,r,n=e.c,a=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&a>=-b&&a<=b&&a===l(a)){if(0===n[0]){if(0===a&&1===n.length)return!0;break e}if((t=(a+1)%h)<1&&(t+=h),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==l(r))break e;if(0!==r)return!0}}}else if(null===n&&null===a&&(null===s||1===s||-1===s))return!0;throw Error(u+"Invalid BigNumber: "+e)},W.maximum=W.max=function(){return F(arguments,O.lt)},W.minimum=W.min=function(){return F(arguments,O.gt)},W.random=(s=9007199254740992,C=Math.random()*s&2097151?function(){return l(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,s,i=0,d=[],c=new W(D);if(null==e?e=N:_(e,0,b),a=o(e/h),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));i<a;)(s=131072*t[i]+(t[i+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[i]=r[0],t[i+1]=r[1]):(d.push(s%1e14),i+=2);i=a/2}else{if(!crypto.randomBytes)throw L=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(a*=7);i<a;)(s=281474976710656*(31&t[i])+1099511627776*t[i+1]+4294967296*t[i+2]+16777216*t[i+3]+(t[i+4]<<16)+(t[i+5]<<8)+t[i+6])>=9e15?crypto.randomBytes(7).copy(t,i):(d.push(s%1e14),i+=7);i=a/7}if(!L)for(;i<a;)(s=C())<9e15&&(d[i++]=s%1e14);for(a=d[--i],e%=h,a&&e&&(s=p[h-e],d[i]=l(a/s)*s);0===d[i];d.pop(),i--);if(i<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=h);for(i=1,s=d[0];s>=10;s/=10,i++);i<h&&(n-=h-i)}return c.e=n,c.c=d,c}),W.sum=function(){for(var e=1,t=arguments,r=new W(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var a,s,i=[0],o=0,l=e.length;o<l;){for(s=i.length;s--;i[s]*=t);for(i[0]+=n.indexOf(e.charAt(o++)),a=0;a<i.length;a++)i[a]>r-1&&(null==i[a+1]&&(i[a+1]=0),i[a+1]+=i[a]/r|0,i[a]%=r)}return i.reverse()}return function(n,a,s,i,o){var l,u,d,c,h,f,p,m,b=n.indexOf("."),y=N,v=P;for(b>=0&&(c=U,U=0,n=n.replace(".",""),f=(m=new W(a)).pow(n.length-b),U=c,m.c=t(w(g(f.c),f.e,"0"),10,s,e),m.e=m.c.length),d=c=(p=t(n,a,s,o?(l=B,e):(l=e,B))).length;0==p[--c];p.pop());if(!p[0])return l.charAt(0);if(b<0?--d:(f.c=p,f.e=d,f.s=i,p=(f=r(f,m,y,v,s)).c,h=f.r,d=f.e),b=p[u=d+y+1],c=s/2,h=h||u<0||null!=p[u+1],h=v<4?(null!=b||h)&&(0==v||v==(f.s<0?3:2)):b>c||b==c&&(4==v||h||6==v&&1&p[u-1]||v==(f.s<0?8:7)),u<1||!p[0])n=h?w(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(p.length=u,h)for(--s;++p[--u]>s;)p[u]=0,u||(++d,p=[1].concat(p));for(c=p.length;!p[--c];);for(b=0,n="";b<=c;n+=l.charAt(p[b++]));n=w(n,d,l.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,a,s,i,o=0,l=e.length,u=t%m,d=t/m|0;for(e=e.slice();l--;)o=((a=u*(s=e[l]%m)+(n=d*s+(i=e[l]/m|0)*u)%m*m+o)/r|0)+(n/m|0)+d*i,e[l]=a%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var a,s;if(r!=n)s=r>n?1:-1;else for(a=s=0;a<r;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function r(e,t,r,n){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,a,s,i,o){var u,d,f,p,m,b,g,v,_,E,T,w,C,S,R,x,A,I=n.s==a.s?1:-1,O=n.c,D=a.c;if(!(O&&O[0]&&D&&D[0]))return new W(n.s&&a.s&&(O?!D||O[0]!=D[0]:D)?O&&0==O[0]||!D?0*I:I/0:NaN);for(_=(v=new W(I)).c=[],I=s+(d=n.e-a.e)+1,o||(o=c,d=y(n.e/h)-y(a.e/h),I=I/h|0),f=0;D[f]==(O[f]||0);f++);if(D[f]>(O[f]||0)&&d--,I<0)_.push(1),p=!0;else{for(S=O.length,x=D.length,f=0,I+=2,(m=l(o/(D[0]+1)))>1&&(D=e(D,m,o),O=e(O,m,o),x=D.length,S=O.length),C=x,T=(E=O.slice(0,x)).length;T<x;E[T++]=0);A=D.slice(),A=[0].concat(A),R=D[0],D[1]>=o/2&&R++;do{if(m=0,(u=t(D,E,x,T))<0){if(w=E[0],x!=T&&(w=w*o+(E[1]||0)),(m=l(w/R))>1)for(m>=o&&(m=o-1),g=(b=e(D,m,o)).length,T=E.length;1==t(b,E,g,T);)m--,r(b,x<g?A:D,g,o),g=b.length,u=1;else 0==m&&(u=m=1),g=(b=D.slice()).length;if(g<T&&(b=[0].concat(b)),r(E,b,T,o),T=E.length,-1==u)for(;t(D,E,x,T)<1;)m++,r(E,x<T?A:D,T,o),T=E.length}else 0===u&&(m++,E=[0]);_[f++]=m,E[0]?E[T++]=O[C]||0:(E=[O[C]],T=1)}while((C++<S||null!=E[0])&&I--);p=null!=E[0],_[0]||_.splice(0,1)}if(o==c){for(f=1,I=_[0];I>=10;I/=10,f++);z(v,s+(v.e=f+d*h-1)+1,i,p)}else v.e=d,v.r=+p;return v}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,x=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,a=function(e,t,r,n){var a,s=r?t:t.replace(I,"");if(A.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(S,(function(e,t,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=a?e:t})),n&&(a=n,s=s.replace(R,"$1").replace(x,"0.$1")),t!=s))return new W(s,a);if(W.DEBUG)throw Error(u+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},O.absoluteValue=O.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return v(this,new W(e,t))},O.decimalPlaces=O.dp=function(e,t){var r,n,a,s=this;if(null!=e)return _(e,0,b),null==t?t=P:_(t,0,8),z(new W(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((a=r.length-1)-y(this.e/h))*h,a=r[a])for(;a%10==0;a/=10,n--);return n<0&&(n=0),n},O.dividedBy=O.div=function(e,t){return r(this,new W(e,t),N,P)},O.dividedToIntegerBy=O.idiv=function(e,t){return r(this,new W(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var r,n,a,s,i,d,c,f,p=this;if((e=new W(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+H(e));if(null!=t&&(t=new W(t)),i=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new W(Math.pow(+H(p),i?2-E(e):+H(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new W(NaN);(n=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||i&&p.c[1]>=24e7:p.c[0]<8e13||i&&p.c[0]<=9999975e7)))return s=p.s<0&&E(e)?-0:0,p.e>-1&&(s=1/s),new W(d?1/s:s);U&&(s=o(U/h+2))}for(i?(r=new W(.5),d&&(e.s=1),c=E(e)):c=(a=Math.abs(+H(e)))%2,f=new W(D);;){if(c){if(!(f=f.times(p)).c)break;s?f.c.length>s&&(f.c.length=s):n&&(f=f.mod(t))}if(a){if(0===(a=l(a/2)))break;c=a%2}else if(z(e=e.times(r),e.e+1,1),e.e>14)c=E(e);else{if(0==(a=+H(e)))break;c=a%2}p=p.times(p),s?p.c&&p.c.length>s&&(p.c.length=s):n&&(p=p.mod(t))}return n?f:(d&&(f=D.div(f)),t?f.mod(t):s?z(f,U,P,void 0):f)},O.integerValue=function(e){var t=new W(this);return null==e?e=P:_(e,0,8),z(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===v(this,new W(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return v(this,new W(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=v(this,new W(e,t)))||0===t},O.isInteger=function(){return!!this.c&&y(this.e/h)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return v(this,new W(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=v(this,new W(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var r,n,a,s,i=this,o=i.s;if(t=(e=new W(e,t)).s,!o||!t)return new W(NaN);if(o!=t)return e.s=-t,i.plus(e);var l=i.e/h,u=e.e/h,d=i.c,f=e.c;if(!l||!u){if(!d||!f)return d?(e.s=-t,e):new W(f?i:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new W(d[0]?i:3==P?-0:0)}if(l=y(l),u=y(u),d=d.slice(),o=l-u){for((s=o<0)?(o=-o,a=d):(u=l,a=f),a.reverse(),t=o;t--;a.push(0));a.reverse()}else for(n=(s=(o=d.length)<(t=f.length))?o:t,o=t=0;t<n;t++)if(d[t]!=f[t]){s=d[t]<f[t];break}if(s&&(a=d,d=f,f=a,e.s=-e.s),(t=(n=f.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=c-1;n>o;){if(d[--n]<f[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=c}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?Y(e,d,u):(e.s=3==P?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var n,a,s=this;return e=new W(e,t),!s.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||s.c&&!s.c[0]?new W(s):(9==j?(a=e.s,e.s=1,n=r(s,e,0,3),e.s=a,n.s*=a):n=r(s,e,0,j),(e=s.minus(n.times(e))).c[0]||1!=j||(e.s=s.s),e)},O.multipliedBy=O.times=function(e,t){var r,n,a,s,i,o,l,u,d,f,p,b,g,v,_,E=this,T=E.c,w=(e=new W(e,t)).c;if(!(T&&w&&T[0]&&w[0]))return!E.s||!e.s||T&&!T[0]&&!w||w&&!w[0]&&!T?e.c=e.e=e.s=null:(e.s*=E.s,T&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=y(E.e/h)+y(e.e/h),e.s*=E.s,(l=T.length)<(f=w.length)&&(g=T,T=w,w=g,a=l,l=f,f=a),a=l+f,g=[];a--;g.push(0));for(v=c,_=m,a=f;--a>=0;){for(r=0,p=w[a]%_,b=w[a]/_|0,s=a+(i=l);s>a;)r=((u=p*(u=T[--i]%_)+(o=b*u+(d=T[i]/_|0)*p)%_*_+g[s]+r)/v|0)+(o/_|0)+b*d,g[s--]=u%v;g[s]=r}return r?++n:g.splice(0,1),Y(e,g,n)},O.negated=function(){var e=new W(this);return e.s=-e.s||null,e},O.plus=function(e,t){var r,n=this,a=n.s;if(t=(e=new W(e,t)).s,!a||!t)return new W(NaN);if(a!=t)return e.s=-t,n.minus(e);var s=n.e/h,i=e.e/h,o=n.c,l=e.c;if(!s||!i){if(!o||!l)return new W(a/0);if(!o[0]||!l[0])return l[0]?e:new W(o[0]?n:0*a)}if(s=y(s),i=y(i),o=o.slice(),a=s-i){for(a>0?(i=s,r=l):(a=-a,r=o),r.reverse();a--;r.push(0));r.reverse()}for((a=o.length)-(t=l.length)<0&&(r=l,l=o,o=r,t=a),a=0;t;)a=(o[--t]=o[t]+l[t]+a)/c|0,o[t]=c===o[t]?0:o[t]%c;return a&&(o=[a].concat(o),++i),Y(e,o,i)},O.precision=O.sd=function(e,t){var r,n,a,s=this;if(null!=e&&e!==!!e)return _(e,1,b),null==t?t=P:_(t,0,8),z(new W(s),e,t);if(!(r=s.c))return null;if(n=(a=r.length-1)*h+1,a=r[a]){for(;a%10==0;a/=10,n--);for(a=r[0];a>=10;a/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},O.shiftedBy=function(e){return _(e,-9007199254740991,f),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,n,a,s,i=this,o=i.c,l=i.s,u=i.e,d=N+4,c=new W("0.5");if(1!==l||!o||!o[0])return new W(!l||l<0&&(!o||o[0])?NaN:o?i:1/0);if(0==(l=Math.sqrt(+H(i)))||l==1/0?(((t=g(o)).length+u)%2==0&&(t+="0"),l=Math.sqrt(+t),u=y((u+1)/2)-(u<0||u%2),n=new W(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new W(l+""),n.c[0])for((l=(u=n.e)+d)<3&&(l=0);;)if(s=n,n=c.times(s.plus(r(i,s,d,1))),g(s.c).slice(0,l)===(t=g(n.c)).slice(0,l)){if(n.e<u&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(n,n.e+N+2,1),e=!n.times(n).eq(i));break}if(!a&&(z(s,s.e+N+2,0),s.times(s).eq(i))){n=s;break}d+=4,l+=4,a=1}return z(n,n.e+N+1,P,e)},O.toExponential=function(e,t){return null!=e&&(_(e,0,b),e++),Q(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(_(e,0,b),e=e+this.e+1),Q(this,e,t)},O.toFormat=function(e,t,r){var n,a=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=$;else if("object"!=typeof r)throw Error(u+"Argument not an object: "+r);if(n=a.toFixed(e,t),a.c){var s,i=n.split("."),o=+r.groupSize,l=+r.secondaryGroupSize,d=r.groupSeparator||"",c=i[0],h=i[1],f=a.s<0,p=f?c.slice(1):c,m=p.length;if(l&&(s=o,o=l,l=s,m-=s),o>0&&m>0){for(s=m%o||o,c=p.substr(0,s);s<m;s+=o)c+=d+p.substr(s,o);l>0&&(c+=d+p.slice(s)),f&&(c="-"+c)}n=h?c+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):c}return(r.prefix||"")+n+(r.suffix||"")},O.toFraction=function(e){var t,n,a,s,i,o,l,d,c,f,m,b,y=this,v=y.c;if(null!=e&&(!(l=new W(e)).isInteger()&&(l.c||1!==l.s)||l.lt(D)))throw Error(u+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+H(l));if(!v)return new W(y);for(t=new W(D),c=n=new W(D),a=d=new W(D),b=g(v),i=t.e=b.length-y.e-1,t.c[0]=p[(o=i%h)<0?h+o:o],e=!e||l.comparedTo(t)>0?i>0?t:c:l,o=k,k=1/0,l=new W(b),d.c[0]=0;f=r(l,t,0,1),1!=(s=n.plus(f.times(a))).comparedTo(e);)n=a,a=s,c=d.plus(f.times(s=c)),d=s,t=l.minus(f.times(s=t)),l=s;return s=r(e.minus(n),a,0,1),d=d.plus(s.times(c)),n=n.plus(s.times(a)),d.s=c.s=y.s,m=r(c,a,i*=2,P).minus(y).abs().comparedTo(r(d,n,i,P).minus(y).abs())<1?[c,a]:[d,n],k=o,m},O.toNumber=function(){return+H(this)},O.toPrecision=function(e,t){return null!=e&&_(e,1,b),Q(this,e,t,2)},O.toString=function(e){var t,r=this,a=r.s,s=r.e;return null===s?a?(t="Infinity",a<0&&(t="-"+t)):t="NaN":(null==e?t=s<=M||s>=q?T(g(r.c),s):w(g(r.c),s,"0"):10===e?t=w(g((r=z(new W(r),N+s+1,P)).c),r.e,"0"):(_(e,2,B.length,"Base"),t=n(w(g(r.c),s,"0"),10,e,a,!0)),a<0&&r.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){return H(this)},O._isBigNumber=!0,null!=t&&W.set(t),W}(),s.default=s.BigNumber=s,void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},60695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDateTimeComponent=t.mergeDateTimeResult=void 0;const n=r(72174);function a(e,t){const r=e.clone();return t.isCertain("hour")?(r.assign("hour",t.get("hour")),r.assign("minute",t.get("minute")),t.isCertain("second")?(r.assign("second",t.get("second")),t.isCertain("millisecond")?r.assign("millisecond",t.get("millisecond")):r.imply("millisecond",t.get("millisecond"))):(r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond")))):(r.imply("hour",t.get("hour")),r.imply("minute",t.get("minute")),r.imply("second",t.get("second")),r.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&r.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?r.assign("meridiem",t.get("meridiem")):null!=t.get("meridiem")&&null==r.get("meridiem")&&r.imply("meridiem",t.get("meridiem")),r.get("meridiem")==n.Meridiem.PM&&r.get("hour")<12&&(t.isCertain("hour")?r.assign("hour",r.get("hour")+12):r.imply("hour",r.get("hour")+12)),r}t.mergeDateTimeResult=function(e,t){const r=e.clone(),n=e.start,s=t.start;if(r.start=a(n,s),null!=e.end||null!=t.end){const n=a(null==e.end?e.start:e.end,null==t.end?t.start:t.end);null==e.end&&n.date().getTime()<r.start.date().getTime()&&(n.isCertain("day")?n.assign("day",n.get("day")+1):n.imply("day",n.get("day")+1)),r.end=n}return r},t.mergeDateTimeComponent=a},5578:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toDayJSClosestWeekday=t.toDayJSWeekday=void 0;const a=n(r(27484));function s(e,t){let r=a.default(e);const n=r.day();return r=Math.abs(t-7-n)<Math.abs(t-n)?r.day(t-7):Math.abs(t+7-n)<Math.abs(t-n)?r.day(t+7):r.day(t),r}t.toDayJSWeekday=function(e,t,r){if(!r)return s(e,t);let n=a.default(e);switch(r){case"this":n=n.day(t);break;case"next":n=n.day(t+7);break;case"last":n=n.day(t-7)}return n},t.toDayJSClosestWeekday=s},29739:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.findYearClosestToRef=t.findMostLikelyADYear=void 0;const a=n(r(27484));t.findMostLikelyADYear=function(e){return e<100&&(e+=e>50?1900:2e3),e},t.findYearClosestToRef=function(e,t,r){const n=a.default(e);let s=n;s=s.month(r-1),s=s.date(t),s=s.year(n.year());const i=s.add(1,"y"),o=s.add(-1,"y");return Math.abs(i.diff(n))<Math.abs(s.diff(n))?s=i:Math.abs(o.diff(n))<Math.abs(s.diff(n))&&(s=o),s.year()}},62469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingContext=t.Chrono=void 0;const n=r(78151),a=r(27678);class s{constructor(e){e=e||a.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new s({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,r){const n=this.parse(e,t,r);return n.length>0?n[0].start.date():null}parse(e,t,r){const n=new i(e,t||new Date,r||{});let a=[];return this.parsers.forEach((e=>{const t=s.executeParser(n,e);a=a.concat(t)})),a.sort(((e,t)=>e.index-t.index)),this.refiners.forEach((function(e){a=e.refine(n,a)})),a}static executeParser(e,t){const r=[],a=t.pattern(e),s=e.text;let i=e.text,o=a.exec(i);for(;o;){const l=o.index+s.length-i.length;o.index=l;const u=t.extract(e,o);if(!u){i=s.substring(o.index+1),o=a.exec(i);continue}let d=null;u instanceof n.ParsingResult?d=u:u instanceof n.ParsingComponents?(d=e.createParsingResult(o.index,o[0]),d.start=u):d=e.createParsingResult(o.index,o[0],u),e.debug((()=>console.log(`${t.constructor.name} extracted result ${d}`))),r.push(d),i=s.substring(l+d.text.length),o=a.exec(i)}return r}}t.Chrono=s;class i{constructor(e,t,r){this.text=e,this.refDate=t,this.option=r}createParsingComponents(e){return e instanceof n.ParsingComponents?e:new n.ParsingComponents(this.refDate,e)}createParsingResult(e,t,r,a){const s="string"==typeof t?t:this.text.substring(e,t),i=r?this.createParsingComponents(r):null,o=a?this.createParsingComponents(a):null;return new n.ParsingResult(this.refDate,e,s,i,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}t.ParsingContext=i},59886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergingRefiner=t.Filter=void 0,t.Filter=class{refine(e,t){return t.filter((t=>this.isValid(e,t)))}},t.MergingRefiner=class{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0],a=null;for(let s=1;s<t.length;s++){a=t[s];const i=e.text.substring(n.index+n.text.length,a.index);if(this.shouldMergeResults(i,n,a,e)){const t=n,r=a,s=this.mergeResults(i,t,r,e);e.debug((()=>{console.log(`${this.constructor.name} merged ${t} and ${r} into ${s}`)})),n=s}else r.push(n),n=a}return null!=n&&r.push(n),r}}},4519:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tonight=t.tomorrow=t.yesterday=t.today=t.now=void 0;const a=r(78151),s=n(r(27484)),i=r(25763),o=r(72174);t.now=function(e){const t=s.default(e),r=new a.ParsingComponents(e,{});return i.assignSimilarDate(r,t),i.assignSimilarTime(r,t),r},t.today=function(e){const t=s.default(e),r=new a.ParsingComponents(e,{});return i.assignSimilarDate(r,t),i.implySimilarTime(r,t),r},t.yesterday=function(e){let t=s.default(e);const r=new a.ParsingComponents(e,{});return t=t.add(-1,"day"),i.assignSimilarDate(r,t),i.implySimilarTime(r,t),r},t.tomorrow=function(e){const t=s.default(e),r=new a.ParsingComponents(e,{});return i.assignTheNextDay(r,t),r},t.tonight=function(e,t=22){const r=s.default(e),n=new a.ParsingComponents(e,{});return n.imply("hour",t),n.imply("meridiem",o.Meridiem.PM),i.assignSimilarDate(n,r),n}},15857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractParserWithWordBoundaryChecking=void 0,t.AbstractParserWithWordBoundaryChecking=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}pattern(e){const t=this.innerPattern(e);return t==this.cachedInnerPattern||(this.cachedPattern=new RegExp(`(\\W|^)${t.source}`,t.flags),this.cachedInnerPattern=t),this.cachedPattern}extract(e,t){const r=t[1];t.index=t.index+r.length,t[0]=t[0].substring(r.length);for(let e=2;e<t.length;e++)t[e-1]=t[e];return this.innerExtract(e,t)}}},22786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTimeExpressionParser=void 0;const n=r(72174);t.AbstractTimeExpressionParser=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const r=this.extractPrimaryTimeComponents(e,t);if(!r)return t.index+=t[0].length,null;const n=t.index+t[1].length,a=t[0].substring(t[1].length),s=e.createParsingResult(n,a,r);t.index+=t[0].length;const i=e.text.substring(t.index),o=this.getFollowingTimePatternThroughCache().exec(i);return!o||o[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(s):(s.end=this.extractFollowingTimeComponents(e,o,s),s.end&&(s.text+=o[0]),this.checkAndReturnWithFollowingPattern(s))}extractPrimaryTimeComponents(e,t,r=!1){const a=e.createParsingComponents();let s=0,i=null,o=parseInt(t[2]);if(o>100){if(this.strictMode||null!=t[3])return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(null!=t[3]){if(1==t[3].length&&!t[6])return null;s=parseInt(t[3])}if(s>=60)return null;if(o>12&&(i=n.Meridiem.PM),null!=t[6]){if(o>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(i=n.Meridiem.AM,12==o&&(o=0)),"p"==e&&(i=n.Meridiem.PM,12!=o&&(o+=12))}if(a.assign("hour",o),a.assign("minute",s),null!==i?a.assign("meridiem",i):o<12?a.imply("meridiem",n.Meridiem.AM):a.imply("meridiem",n.Meridiem.PM),null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;a.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;a.assign("second",e)}return a}extractFollowingTimeComponents(e,t,r){const a=e.createParsingComponents();if(null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;a.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;a.assign("second",e)}let s=parseInt(t[2]),i=0,o=-1;if(null!=t[3]?i=parseInt(t[3]):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60||s>24)return null;if(s>=12&&(o=n.Meridiem.PM),null!=t[6]){if(s>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(o=n.Meridiem.AM,12==s&&(s=0,a.isCertain("day")||a.imply("day",a.get("day")+1))),"p"==e&&(o=n.Meridiem.PM,12!=s&&(s+=12)),r.start.isCertain("meridiem")||(o==n.Meridiem.AM?(r.start.imply("meridiem",n.Meridiem.AM),12==r.start.get("hour")&&r.start.assign("hour",0)):(r.start.imply("meridiem",n.Meridiem.PM),12!=r.start.get("hour")&&r.start.assign("hour",r.start.get("hour")+12)))}return a.assign("hour",s),a.assign("minute",i),o>=0?a.assign("meridiem",o):r.start.isCertain("meridiem")&&r.start.get("hour")>12?r.start.get("hour")-12>s?a.imply("meridiem",n.Meridiem.AM):s<=12&&(a.assign("hour",s+12),a.assign("meridiem",n.Meridiem.PM)):s>12?a.imply("meridiem",n.Meridiem.PM):s<=12&&a.imply("meridiem",n.Meridiem.AM),a.date().getTime()<r.start.date().getTime()&&a.imply("day",a.get("day")+1),a}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const e=t[1];if(this.strictMode)return null;if(e.includes(".")&&!e.match(/\d(\.\d{2})+$/))return null;if(parseInt(e)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const e=t[1],r=t[2];if(r.includes(".")&&!r.match(/\d(\.\d{2})+$/))return null;const n=parseInt(r),a=parseInt(e);if(n>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t||(this.cachedPrimaryTimePattern=function(e,t){return new RegExp(`(^|\\s|T|\\b)${e}(\\d{1,4})(?:(?:\\.|\\:|\\ï¼)(\\d{1,2})(?:(?:\\:|\\ï¼)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}(e,t),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t),this.cachedPrimaryTimePattern}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t||(this.cachedFollowingTimePatten=function(e,t){return new RegExp(`^(${e})(\\d{1,4})(?:(?:\\.|\\:|\\ï¼)(\\d{1,2})(?:(?:\\.|\\:|\\ï¼)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t),this.cachedFollowingTimePatten}}},24414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15857),a=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i");class s extends n.AbstractParserWithWordBoundaryChecking{innerPattern(){return a}innerExtract(e,t){const r={};if(r.year=parseInt(t[1]),r.month=parseInt(t[2]),r.day=parseInt(t[3]),null!=t[4])if(r.hour=parseInt(t[4]),r.minute=parseInt(t[5]),null!=t[6]&&(r.second=parseInt(t[6])),null!=t[7]&&(r.millisecond=parseInt(t[7])),null==t[8])r.timezoneOffset=0;else{const e=parseInt(t[8]);let n=0;null!=t[9]&&(n=parseInt(t[9]));let a=60*e;a<0?a-=n:a+=n,r.timezoneOffset=a}return r}}t.default=s},63938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i");t.default=class{constructor(e){this.groupNumberMonth=e?3:2,this.groupNumberDay=e?2:3}pattern(){return a}extract(e,t){if("/"==t[1]||"/"==t[5])return void(t.index+=t[0].length);const r=t.index+t[1].length,a=t[0].substr(t[1].length,t[0].length-t[1].length-t[5].length);if(a.match(/^\d\.\d$/)||a.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/))return;if(!t[4]&&t[0].indexOf("/")<0)return;const s=e.createParsingResult(r,a);let i=parseInt(t[this.groupNumberMonth]),o=parseInt(t[this.groupNumberDay]);if((i<1||i>12)&&i>12){if(!(o>=1&&o<=12&&i<=31))return null;[o,i]=[i,o]}if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",i),t[4]){const e=parseInt(t[4]),r=n.findMostLikelyADYear(e);s.start.assign("year",r)}else{const t=n.findYearClosestToRef(e.refDate,o,i);s.start.imply("year",t)}return s}}},17529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59886);class a extends n.MergingRefiner{shouldMergeResults(e,t,r){return!t.end&&!r.end&&null!=e.match(this.patternBetween())}mergeResults(e,t,r){if(t.start.isOnlyWeekdayComponent()||r.start.isOnlyWeekdayComponent()||(r.start.getCertainComponents().forEach((e=>{t.start.isCertain(e)||t.start.assign(e,r.start.get(e))})),t.start.getCertainComponents().forEach((e=>{r.start.isCertain(e)||r.start.assign(e,t.start.get(e))}))),t.start.date().getTime()>r.start.date().getTime()){let e=t.start.dayjs(),n=r.start.dayjs();t.start.isOnlyWeekdayComponent()&&e.add(-7,"days").isBefore(n)?(e=e.add(-7,"days"),t.start.imply("day",e.date()),t.start.imply("month",e.month()+1),t.start.imply("year",e.year())):r.start.isOnlyWeekdayComponent()&&n.add(7,"days").isAfter(e)?(n=n.add(7,"days"),r.start.imply("day",n.date()),r.start.imply("month",n.month()+1),r.start.imply("year",n.year())):[r,t]=[t,r]}const n=t.clone();return n.start=t.start,n.end=r.start,n.index=Math.min(t.index,r.index),t.index<r.index?n.text=t.text+e+r.text:n.text=r.text+e+t.text,n}}t.default=a},6747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59886),a=r(60695);class s extends n.MergingRefiner{shouldMergeResults(e,t,r){return(t.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&t.start.isOnlyTime())&&null!=e.match(this.patternBetween())}mergeResults(e,t,r){const n=t.start.isOnlyDate()?a.mergeDateTimeResult(t,r):a.mergeDateTimeResult(r,t);return n.index=t.index,n.text=t.text+e+r.text,n}}t.default=s},84774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new RegExp("^\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),n={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};t.default=class{constructor(e){this.timezone=Object.assign(Object.assign({},n),e)}refine(e,t){var n;const a=null!==(n=e.option.timezones)&&void 0!==n?n:{};return t.forEach((t=>{var n,s;const i=e.text.substring(t.index+t.text.length),o=r.exec(i);if(!o)return;const l=o[1].toUpperCase(),u=null!==(s=null!==(n=a[l])&&void 0!==n?n:this.timezone[l])&&void 0!==s?s:null;if(null===u)return;e.debug((()=>{console.log(`Extracting timezone: '${l}' into : ${u}`)}));const d=t.start.get("timezoneOffset");null!==d&&u!=d||(t.text+=o[0],t.start.isCertain("timezoneOffset")||t.start.assign("timezoneOffset",u),null==t.end||t.end.isCertain("timezoneOffset")||t.end.assign("timezoneOffset",u))})),t}}},45673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new RegExp("^\\s*(?:(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?","i");t.default=class{refine(e,t){return t.forEach((function(t){if(t.start.isCertain("timezoneOffset"))return;const n=e.text.substring(t.index+t.text.length),a=r.exec(n);if(!a)return;e.debug((()=>{console.log(`Extracting timezone: '${a[0]}' into : ${t}`)}));let s=60*parseInt(a[2])+parseInt(a[3]||"0");"-"===a[1]&&(s=-s),null!=t.end&&t.end.assign("timezoneOffset",s),t.start.assign("timezoneOffset",s),t.text+=a[0]})),t}}},87141:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(27484));t.default=class{refine(e,t){return e.option.forwardDate?(t.forEach((function(t){let r=a.default(e.refDate);if(t.start.isOnlyDayMonthComponent()&&r.isAfter(t.start.dayjs()))for(let n=0;n<3&&r.isAfter(t.start.dayjs());n++)t.start.imply("year",t.start.get("year")+1),e.debug((()=>{console.log(`Forward yearly adjusted for ${t} (${t.start})`)})),t.end&&!t.end.isCertain("year")&&(t.end.imply("year",t.end.get("year")+1),e.debug((()=>{console.log(`Forward yearly adjusted for ${t} (${t.end})`)})));t.start.isOnlyWeekdayComponent()&&r.isAfter(t.start.dayjs())&&(r=r.day()>t.start.get("weekday")?r.day(t.start.get("weekday")+7):r.day(t.start.get("weekday")),t.start.imply("day",r.date()),t.start.imply("month",r.month()+1),t.start.imply("year",r.year()),e.debug((()=>{console.log(`Forward weekly adjusted for ${t} (${t.start})`)})),t.end&&t.end.isOnlyWeekdayComponent()&&(r=r.day()>t.end.get("weekday")?r.day(t.end.get("weekday")+7):r.day(t.end.get("weekday")),t.end.imply("day",r.date()),t.end.imply("month",r.month()+1),t.end.imply("year",r.year()),e.debug((()=>{console.log(`Forward weekly adjusted for ${t} (${t.end})`)}))))})),t):t}}},78371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59886);class a extends n.MergingRefiner{mergeResults(e,t,r){const n=r.clone();return n.index=t.index,n.text=t.text+e+n.text,n.start.assign("weekday",t.start.get("weekday")),n.end&&n.end.assign("weekday",t.start.get("weekday")),n}shouldMergeResults(e,t,r){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&r.start.isCertain("day")&&null!=e.match(/^,?\s*$/)}}t.default=a},54851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0];for(let e=1;e<t.length;e++){const a=t[e];a.index<n.index+n.text.length?a.text.length>n.text.length&&(n=a):(r.push(n),n=a)}return null!=n&&r.push(n),r}}},55149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59886);class a extends n.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug((()=>{console.log(`Removing unlikely result '${t.text}'`)})),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug((()=>{console.log(`Removing invalid result: ${t} (${t.end})`)})),!1):!this.strictMode||this.isStrictModeValid(e,t):(e.debug((()=>{console.log(`Removing invalid result: ${t} (${t.start})`)})),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug((()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)})),!1):!!(!t.start.isOnlyTime()||t.start.isCertain("hour")&&t.start.isCertain("minute"))||(e.debug((()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)})),!1)}}t.default=a},97468:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.includeCommonConfiguration=void 0;const a=n(r(84774)),s=n(r(45673)),i=n(r(54851)),o=n(r(87141)),l=n(r(55149)),u=n(r(24414)),d=n(r(78371));t.includeCommonConfiguration=function(e,t=!1){return e.parsers.unshift(new u.default),e.refiners.unshift(new d.default),e.refiners.unshift(new a.default),e.refiners.unshift(new s.default),e.refiners.unshift(new i.default),e.refiners.push(new i.default),e.refiners.push(new o.default),e.refiners.push(new l.default(t)),e}},72174:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parseDate=t.parse=t.casual=t.strict=t.nl=t.pt=t.ja=t.fr=t.de=t.Meridiem=t.Chrono=t.en=void 0;const i=s(r(27678));t.en=i;const o=r(62469);var l;Object.defineProperty(t,"Chrono",{enumerable:!0,get:function(){return o.Chrono}}),(l=t.Meridiem||(t.Meridiem={}))[l.AM=0]="AM",l[l.PM=1]="PM";const u=s(r(34400));t.de=u;const d=s(r(69846));t.fr=d;const c=s(r(21628));t.ja=c;const h=s(r(59860));t.pt=h;const f=s(r(23570));t.nl=f,t.strict=i.strict,t.casual=i.casual,t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)}},94160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTimeUnits=t.TIME_UNITS_PATTERN=t.parseYear=t.YEAR_PATTERN=t.parseNumberPattern=t.NUMBER_PATTERN=t.TIME_UNIT_DICTIONARY=t.INTEGER_WORD_DICTIONARY=t.MONTH_DICTIONARY=t.WEEKDAY_DICTIONARY=void 0;const n=r(95801),a=r(29739);function s(e){const r=e.toLowerCase();return void 0!==t.INTEGER_WORD_DICTIONARY[r]?t.INTEGER_WORD_DICTIONARY[r]:"a"===r||"an"===r?1:r.match(/few/)?3:r.match(/half/)?.5:r.match(/couple/)?2:r.match(/several/)?7:parseFloat(r)}t.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6},t.MONTH_DICTIONARY={januar:1,jan:1,"jan.":1,februar:2,feb:2,"feb.":2,mÃ¤rz:3,maerz:3,mÃ¤r:3,"mÃ¤r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12},t.INTEGER_WORD_DICTIONARY={eins:1,zwei:2,drei:3,vier:4,fÃ¼nf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zwÃ¶lf:12,zwoelf:12},t.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",y:"year",yr:"year",year:"year",years:"year"},t.NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`,t.parseNumberPattern=s,t.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*C(?:hr)?\\.?)?)",t.parseYear=function(e){if(/v/i.test(e))return-parseInt(e.replace(/[^0-9]+/gi,""));if(/n/i.test(e))return parseInt(e.replace(/[^0-9]+/gi,""));const t=parseInt(e);return a.findMostLikelyADYear(t)};const i=`(${t.NUMBER_PATTERN})\\s{0,5}(${n.matchAnyPattern(t.TIME_UNIT_DICTIONARY)})\\s{0,5}`,o=new RegExp(i,"i");function l(e,r){const n=s(r[1]);e[t.TIME_UNIT_DICTIONARY[r[2].toLowerCase()]]=n}t.TIME_UNITS_PATTERN=n.repeatedTimeunitPattern("",i),t.parseTimeUnits=function(e){const t={};let r=e,n=o.exec(r);for(;n;)l(t,n),r=r.substring(n[0].length),n=o.exec(r);return t}},34400:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const a=r(97468),s=r(62469),i=n(r(63938)),o=n(r(24414)),l=n(r(36633)),u=n(r(5909)),d=n(r(54262)),c=n(r(81305)),h=n(r(96276)),f=n(r(88171)),p=n(r(15054));function m(e=!0){const t=b(!1,e);return t.parsers.unshift(new f.default),t.parsers.unshift(new h.default),t}function b(e=!0,t=!0){return a.includeCommonConfiguration({parsers:[new o.default,new i.default(t),new l.default,new p.default,new u.default],refiners:[new d.default,new c.default]},e)}t.casual=new s.Chrono(m()),t.strict=new s.Chrono(b(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=m,t.createConfiguration=b},96276:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(27484)),l=r(15857),u=r(25763),d=i(r(88171)),c=s(r(4519)),h=new RegExp("(jetzt|heute|morgen|Ã¼bermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i");class f extends l.AbstractParserWithWordBoundaryChecking{innerPattern(e){return h}innerExtract(e,t){let r=o.default(e.refDate);const n=(t[1]||"").toLowerCase(),a=(t[2]||"").toLowerCase();let s=e.createParsingComponents();switch(n){case"jetzt":s=c.now(e.refDate);break;case"heute":s=c.today(e.refDate);break;case"morgen":u.assignTheNextDay(s,r);break;case"Ã¼bermorgen":case"uebermorgen":r=r.add(1,"day"),u.assignTheNextDay(s,r);break;case"gestern":r=r.add(-1,"day"),u.assignSimilarDate(s,r),u.implySimilarTime(s,r);break;case"vorgestern":r=r.add(-2,"day"),u.assignSimilarDate(s,r),u.implySimilarTime(s,r);break;default:n.match(/letzte\s*nacht/)&&(r.hour()>6&&(r=r.add(-1,"day")),u.assignSimilarDate(s,r),s.imply("hour",0))}return a&&(s=d.default.extractTimeComponents(s,a)),s}}t.default=f},88171:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(27484)),s=r(72174),i=r(15857),o=r(25763),l=r(50180);class u extends i.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){const r=a.default(e.refDate),n=t[2].toLowerCase(),s=e.createParsingComponents();return o.implySimilarTime(s,r),u.extractTimeComponents(s,n)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=l.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM)}return e}}t.default=u},15054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(94160),s=r(94160),i=r(95801),o=r(15857),l=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\â|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${i.matchAnyPattern(a.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${s.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");class u extends o.AbstractParserWithWordBoundaryChecking{innerPattern(){return l}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),i=a.MONTH_DICTIONARY[t[3].toLowerCase()],o=parseInt(t[1]);if(o>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",i),r.start.assign("day",o),t[4]){const e=s.parseYear(t[4]);r.start.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,o,i);r.start.imply("year",t)}if(t[2]){const e=parseInt(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}}t.default=u},36633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22786),a=r(72174);class s extends n.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\â|\\~|\\ã|bis)\\s*"}primarySuffix(){return"(?:\\s*uhr)?(?:\\s*(?:morgens|vormittags|nachmittags|abends|nachts))?(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const r=super.extractPrimaryTimeComponents(e,t);return r&&((t[0].endsWith("morgens")||t[0].endsWith("vormittags"))&&(r.assign("meridiem",a.Meridiem.AM),r.get("hour")<12&&r.assign("hour",r.get("hour"))),(t[0].endsWith("nachmittags")||t[0].endsWith("abends")||t[0].endsWith("nachts"))&&(r.assign("meridiem",a.Meridiem.PM),r.get("hour")<12&&r.assign("hour",r.get("hour")+12))),r}}t.default=s},5909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(94160),a=r(95801),s=r(15857),i=r(5578),o=new RegExp(`(?:(?:\\,|\\(|\\ï¼)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:Ã¤|ae)chste[mn])\\s*)?(${a.matchAnyPattern(n.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\ï¼))?(?:\\s*(diese|letzte|n(?:Ã¤|ae)chste)\\s*woche)?(?=\\W|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[2].toLowerCase(),a=n.WEEKDAY_DICTIONARY[r],s=t[1],o=t[3];let l=s||o;l=l||"",l=l.toLowerCase();let u=null;l.match(/letzte/)?u="last":l.match(/chste/)?u="next":l.match(/diese/)&&(u="this");const d=i.toDayJSWeekday(e.refDate,a,u);return e.createParsingComponents().assign("weekday",a).imply("day",d.date()).imply("month",d.month()+1).imply("year",d.year())}}t.default=l},54262:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}}t.default=s},81305:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(6747));class s extends a.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}}t.default=s},64942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTimeUnits=t.TIME_UNITS_PATTERN=t.parseYear=t.YEAR_PATTERN=t.parseOrdinalNumberPattern=t.ORDINAL_NUMBER_PATTERN=t.parseNumberPattern=t.NUMBER_PATTERN=t.TIME_UNIT_DICTIONARY=t.ORDINAL_WORD_DICTIONARY=t.INTEGER_WORD_DICTIONARY=t.MONTH_DICTIONARY=t.FULL_MONTH_NAME_DICTIONARY=t.WEEKDAY_DICTIONARY=void 0;const n=r(95801),a=r(29739);function s(e){const r=e.toLowerCase();return void 0!==t.INTEGER_WORD_DICTIONARY[r]?t.INTEGER_WORD_DICTIONARY[r]:"a"===r||"an"===r?1:r.match(/few/)?3:r.match(/half/)?.5:r.match(/couple/)?2:r.match(/several/)?7:parseFloat(r)}t.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},t.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},t.MONTH_DICTIONARY=Object.assign(Object.assign({},t.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12}),t.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},t.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},t.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",y:"year",yr:"year",year:"year",years:"year"},t.NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`,t.parseNumberPattern=s,t.ORDINAL_NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`,t.parseOrdinalNumberPattern=function(e){let r=e.toLowerCase();return void 0!==t.ORDINAL_WORD_DICTIONARY[r]?t.ORDINAL_WORD_DICTIONARY[r]:(r=r.replace(/(?:st|nd|rd|th)$/i,""),parseInt(r))},t.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:BE|AD|BC)|[1-2][0-9]{3}|[5-9][0-9])",t.parseYear=function(e){if(/BE/i.test(e))return e=e.replace(/BE/i,""),parseInt(e)-543;if(/BC/i.test(e))return e=e.replace(/BC/i,""),-parseInt(e);if(/AD/i.test(e))return e=e.replace(/AD/i,""),parseInt(e);const t=parseInt(e);return a.findMostLikelyADYear(t)};const i=`(${t.NUMBER_PATTERN})\\s{0,5}(${n.matchAnyPattern(t.TIME_UNIT_DICTIONARY)})\\s{0,5}`,o=new RegExp(i,"i");function l(e,r){const n=s(r[1]);e[t.TIME_UNIT_DICTIONARY[r[2].toLowerCase()]]=n}t.TIME_UNITS_PATTERN=n.repeatedTimeunitPattern("(?:(?:about|around)\\s*)?",i),t.parseTimeUnits=function(e){const t={};let r=e,n=o.exec(r);for(;n;)l(t,n),r=r.substring(n[0].length),n=o.exec(r);return t}},27678:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.GB=t.strict=t.casual=void 0;const a=n(r(76484)),s=n(r(11163)),i=n(r(4826)),o=n(r(70935)),l=n(r(46324)),u=n(r(46638)),d=n(r(77579)),c=n(r(15372)),h=n(r(28713)),f=n(r(62656)),p=n(r(42974)),m=r(97468),b=n(r(44709)),y=n(r(48872)),g=n(r(21946)),v=n(r(66099)),_=r(62469),E=n(r(63938)),T=n(r(17597));function w(e=!1){const t=C(!1,e);return t.parsers.unshift(new b.default),t.parsers.unshift(new y.default),t.parsers.unshift(new o.default),t.parsers.unshift(new v.default),t.parsers.unshift(new T.default),t}function C(e=!0,t=!1){return m.includeCommonConfiguration({parsers:[new E.default(t),new a.default,new s.default,new i.default,new g.default,new l.default,new u.default,new d.default(e),new c.default(e),new h.default(e)],refiners:[new p.default,new f.default]},e)}t.casual=new _.Chrono(w(!1)),t.strict=new _.Chrono(C(!0,!1)),t.GB=new _.Chrono(C(!1,!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=w,t.createConfiguration=C},44709:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(27484)),l=r(15857),u=r(25763),d=s(r(4519)),c=/(now|today|tonight|tomorrow|tmr|yesterday|last\s*night)(?=\W|$)/i;class h extends l.AbstractParserWithWordBoundaryChecking{innerPattern(e){return c}innerExtract(e,t){let r=o.default(e.refDate);const n=t[0].toLowerCase(),a=e.createParsingComponents();switch(n){case"now":return d.now(e.refDate);case"today":return d.today(e.refDate);case"yesterday":return d.yesterday(e.refDate);case"tomorrow":case"tmr":return d.tomorrow(e.refDate);case"tonight":return d.tonight(e.refDate);default:n.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),u.assignSimilarDate(a,r),a.imply("hour",0))}return a}}t.default=h},48872:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(72174),s=r(15857),i=n(r(27484)),o=r(25763),l=/(?:this)?\s*(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i;class u extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return l}innerExtract(e,t){const r=i.default(e.refDate),n=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"evening":case"night":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",20);break;case"midnight":o.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"morning":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"noon":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}t.default=u},46324:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(95801),s=r(15857),i=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${a.matchAnyPattern(n.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i");class o extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return i}innerExtract(e,t){const r=t[3]?parseInt(t[3]):n.MONTH_DICTIONARY[t[2].toLowerCase()];if(r<1||r>12)return null;const a=parseInt(t[1]);return{day:parseInt(t[4]),month:r,year:a}}}t.default=o},11163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(64942),s=r(64942),i=r(64942),o=r(95801),l=r(15857),u=new RegExp(`(?:on\\s*?)?(${i.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:to|\\-|\\â|until|through|till|\\s)\\s*(${i.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+o.matchAnyPattern(a.MONTH_DICTIONARY)+")(?:(?:-|/|,?\\s*)"+`(${s.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");class d extends l.AbstractParserWithWordBoundaryChecking{innerPattern(){return u}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),o=a.MONTH_DICTIONARY[t[3].toLowerCase()],l=i.parseOrdinalNumberPattern(t[1]);if(l>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",o),r.start.assign("day",l),t[4]){const e=s.parseYear(t[4]);r.start.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,l,o);r.start.imply("year",t)}if(t[2]){const e=i.parseOrdinalNumberPattern(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}}t.default=d},4826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(64942),s=r(64942),i=r(64942),o=r(95801),l=r(15857),u=new RegExp(`(${o.matchAnyPattern(a.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${s.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${s.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${i.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i");class d extends l.AbstractParserWithWordBoundaryChecking{innerPattern(){return u}innerExtract(e,t){const r=a.MONTH_DICTIONARY[t[1].toLowerCase()],o=s.parseOrdinalNumberPattern(t[2]);if(o>31)return null;const l=e.createParsingComponents({day:o,month:r});if(t[4]){const e=i.parseYear(t[4]);l.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,o,r);l.imply("year",t)}if(!t[3])return l;const u=s.parseOrdinalNumberPattern(t[3]),d=e.createParsingResult(t.index,t[0]);return d.start=l,d.end=l.clone(),d.end.assign("day",u),d}}t.default=d},70935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(29739),s=r(95801),i=r(64942),o=r(15857),l=new RegExp(`((?:in)\\s*)?(${s.matchAnyPattern(n.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${i.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");class u extends o.AbstractParserWithWordBoundaryChecking{innerPattern(){return l}innerExtract(e,t){const r=t[2].toLowerCase();if(t[0].length<=3&&!n.FULL_MONTH_NAME_DICTIONARY[r])return null;const s=e.createParsingResult(t.index+(t[1]||"").length,t.index+t[0].length);s.start.imply("day",1);const o=n.MONTH_DICTIONARY[r];if(s.start.assign("month",o),t[3]){const e=i.parseYear(t[3]);s.start.assign("year",e)}else{const t=a.findYearClosestToRef(e.refDate,1,o);s.start.imply("year",t)}return s}}t.default=u},66099:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(64942),s=r(78151),i=n(r(27484)),o=r(15857),l=r(95801),u=new RegExp(`(this|next|last|past)\\s*(${l.matchAnyPattern(a.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i");class d extends o.AbstractParserWithWordBoundaryChecking{innerPattern(){return u}innerExtract(e,t){const r=t[1].toLowerCase(),n=t[2].toLowerCase(),o=a.TIME_UNIT_DICTIONARY[n];if("next"==r){const t={};return t[o]=1,s.ParsingComponents.createRelativeFromRefDate(e.refDate,t)}if("last"==r||"past"==r){const t={};return t[o]=-1,s.ParsingComponents.createRelativeFromRefDate(e.refDate,t)}const l=e.createParsingComponents();let u=i.default(e.refDate);return n.match(/week/i)?(u=u.add(-u.get("d"),"d"),l.imply("day",u.date()),l.imply("month",u.month()+1),l.imply("year",u.year())):n.match(/month/i)?(u=u.add(1-u.date(),"d"),l.imply("day",u.date()),l.assign("year",u.year()),l.assign("month",u.month()+1)):n.match(/year/i)&&(u=u.add(1-u.date(),"d"),u=u.add(-u.month(),"month"),l.imply("day",u.date()),l.imply("month",u.month()+1),l.assign("year",u.year())),l}}t.default=d},46638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15857),a=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i");class s extends n.AbstractParserWithWordBoundaryChecking{innerPattern(){return a}innerExtract(e,t){const r=parseInt(t[2]),n=parseInt(t[1]);return e.createParsingComponents().imply("day",1).assign("month",n).assign("year",r)}}t.default=s},77579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72174),a=r(22786);class s extends a.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\â|\\~|\\ã|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const r=super.extractPrimaryTimeComponents(e,t);if(r){if(t[0].endsWith("night")){const e=r.get("hour");e>=6&&e<12?(r.assign("hour",r.get("hour")+12),r.assign("meridiem",n.Meridiem.PM)):e<6&&r.assign("meridiem",n.Meridiem.AM)}if(t[0].endsWith("afternoon")){r.assign("meridiem",n.Meridiem.PM);const e=r.get("hour");e>=0&&e<=6&&r.assign("hour",r.get("hour")+12)}t[0].endsWith("morning")&&(r.assign("meridiem",n.Meridiem.AM),r.get("hour")<12&&r.assign("hour",r.get("hour")))}return r}}t.default=s},15372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(78151),s=r(15857),i=r(50180),o=new RegExp("("+n.TIME_UNITS_PATTERN+")(?:ago|before|earlier)(?=(?:\\W|$))","i"),l=new RegExp("("+n.TIME_UNITS_PATTERN+")ago(?=(?:\\W|$))","i");class u extends s.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?l:o}innerExtract(e,t){const r=n.parseTimeUnits(t[1]),s=i.reverseTimeUnits(r);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,s)}}t.default=u},17597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(78151),s=r(15857),i=r(50180),o=new RegExp(`(this|last|past|next|\\+|-)\\s*(${n.TIME_UNITS_PATTERN})(?=\\W|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[1].toLowerCase();let s=n.parseTimeUnits(t[2]);switch(r){case"last":case"past":case"-":s=i.reverseTimeUnits(s)}return a.ParsingComponents.createRelativeFromRefDate(e.refDate,s)}}t.default=l},28713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(78151),s=r(15857),i=new RegExp("("+n.TIME_UNITS_PATTERN+")(later|after|from now|henceforth|forward|out)(?=(?:\\W|$))","i"),o=new RegExp("("+n.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i");class l extends s.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?o:i}innerExtract(e,t){const r=n.parseTimeUnits(t[1]);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,r)}}t.default=l},76484:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(78151),s=r(15857),i=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${n.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),o=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${n.TIME_UNITS_PATTERN})(?=\\W|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?o:i}innerExtract(e,t){const r=n.parseTimeUnits(t[1]);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,r)}}t.default=l},21946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(64942),a=r(95801),s=r(15857),i=r(5578),o=new RegExp(`(?:(?:\\,|\\(|\\ï¼)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${a.matchAnyPattern(n.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\ï¼))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[2].toLowerCase(),a=n.WEEKDAY_DICTIONARY[r],s=t[1],o=t[3];let l=s||o;l=l||"",l=l.toLowerCase();let u=null;"last"==l||"past"==l?u="last":"next"==l?u="next":"this"==l&&(u="this");const d=i.toDayJSWeekday(e.refDate,a,u);return e.createParsingComponents().assign("weekday",a).imply("day",d.date()).imply("month",d.month()+1).imply("year",d.year())}}t.default=l},62656:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(to|-)\s*$/i}}t.default=s},42974:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(6747));class s extends a.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}}t.default=s},59279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTimeUnits=t.TIME_UNITS_PATTERN=t.parseYear=t.YEAR_PATTERN=t.parseOrdinalNumberPattern=t.ORDINAL_NUMBER_PATTERN=t.parseNumberPattern=t.NUMBER_PATTERN=t.TIME_UNIT_DICTIONARY=t.INTEGER_WORD_DICTIONARY=t.MONTH_DICTIONARY=t.WEEKDAY_DICTIONARY=void 0;const n=r(95801);function a(e){const r=e.toLowerCase();return void 0!==t.INTEGER_WORD_DICTIONARY[r]?t.INTEGER_WORD_DICTIONARY[r]:"une"===r||"un"===r?1:r.match(/quelques?/)?3:r.match(/demi-?/)?.5:parseFloat(r)}t.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6},t.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,fÃ©vrier:2,fÃ©v:2,"fÃ©v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,aoÃ»t:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,dÃ©cembre:12,decembre:12,dec:12,"dec.":12},t.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13},t.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",annÃ©e:"year",annÃ©es:"year"},t.NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?|quelques?|demi-?)`,t.parseNumberPattern=a,t.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)",t.parseOrdinalNumberPattern=function(e){let t=e.toLowerCase();return t=t.replace(/(?:er)$/i,""),parseInt(t)},t.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])",t.parseYear=function(e){if(/AC/i.test(e))return e=e.replace(/BC/i,""),-parseInt(e);if(/AD/i.test(e)||/C/i.test(e))return e=e.replace(/[^\d]+/i,""),parseInt(e);let t=parseInt(e);return t<100&&(t+=t>50?1900:2e3),t};const s=`(${t.NUMBER_PATTERN})\\s{0,5}(${n.matchAnyPattern(t.TIME_UNIT_DICTIONARY)})\\s{0,5}`,i=new RegExp(s,"i");function o(e,r){const n=a(r[1]);e[t.TIME_UNIT_DICTIONARY[r[2].toLowerCase()]]=n}t.TIME_UNITS_PATTERN=n.repeatedTimeunitPattern("",s),t.parseTimeUnits=function(e){const t={};let r=e,n=i.exec(r);for(;n;)o(t,n),r=r.substring(n[0].length),n=i.exec(r);return t}},69846:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const a=r(97468),s=r(62469),i=n(r(57265)),o=n(r(51e3)),l=n(r(63938)),u=n(r(95695)),d=n(r(62393)),c=n(r(96376)),h=n(r(89936)),f=n(r(1886)),p=n(r(46381)),m=n(r(65117)),b=n(r(78528)),y=n(r(3809));function g(e=!0){const t=v(!1,e);return t.parsers.unshift(new i.default),t.parsers.unshift(new o.default),t.parsers.unshift(new y.default),t}function v(e=!0,t=!0){return a.includeCommonConfiguration({parsers:[new l.default(t),new p.default,new u.default,new f.default,new m.default,new b.default,new h.default],refiners:[new d.default,new c.default]},e)}t.casual=new s.Chrono(g()),t.strict=new s.Chrono(v(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=g,t.createConfiguration=v},57265:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(27484)),l=r(72174),u=r(15857),d=r(25763),c=s(r(4519));class h extends u.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let r=o.default(e.refDate);const n=t[0].toLowerCase(),a=e.createParsingComponents();switch(n){case"maintenant":return c.now(e.refDate);case"aujourd'hui":return c.today(e.refDate);case"hier":return c.yesterday(e.refDate);case"demain":return c.tomorrow(e.refDate);default:n.match(/cette\s*nuit/)?(d.assignSimilarDate(a,r),a.imply("hour",22),a.imply("meridiem",l.Meridiem.PM)):n.match(/la\s*veille/)&&(r=r.add(-1,"day"),d.assignSimilarDate(a,r),a.imply("hour",0))}return a}}t.default=h},51e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72174),a=r(15857);class s extends a.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|aprÃ¨s-midi|aprem|a midi|Ã  minuit)(?=\W|$)/i}innerExtract(e,t){const r=t[2].toLowerCase(),a=e.createParsingComponents();switch(r){case"aprÃ¨s-midi":case"aprem":a.imply("hour",14),a.imply("minute",0),a.imply("meridiem",n.Meridiem.PM);break;case"soir":a.imply("hour",18),a.imply("minute",0),a.imply("meridiem",n.Meridiem.PM);break;case"matin":a.imply("hour",8),a.imply("minute",0),a.imply("meridiem",n.Meridiem.AM);break;case"a midi":a.imply("hour",12),a.imply("minute",0),a.imply("meridiem",n.Meridiem.AM);break;case"Ã  minuit":a.imply("hour",0),a.imply("meridiem",n.Meridiem.AM)}return a}}t.default=s},46381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(59279),s=r(59279),i=r(59279),o=r(95801),l=r(15857),u=new RegExp(`(?:on\\s*?)?(${i.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\â|jusqu'au?|\\s)\\s*(${i.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${o.matchAnyPattern(a.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${s.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");class d extends l.AbstractParserWithWordBoundaryChecking{innerPattern(){return u}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),o=a.MONTH_DICTIONARY[t[3].toLowerCase()],l=i.parseOrdinalNumberPattern(t[1]);if(l>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",o),r.start.assign("day",l),t[4]){const e=s.parseYear(t[4]);r.start.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,l,o);r.start.imply("year",t)}if(t[2]){const e=i.parseOrdinalNumberPattern(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}}t.default=d},1886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72174),a=new RegExp("(^|\\s|T)(?:(?:[Ã a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),s=new RegExp("^\\s*(\\-|\\â|\\~|\\ã|[Ã a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i");class i{pattern(e){return a}extract(e,t){const r=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(r.text.match(/^\d{4}$/))return t.index+=t[0].length,null;if(r.start=i.extractTimeComponent(r.start.clone(),t),!r.start)return t.index+=t[0].length,null;const n=e.text.substring(t.index+t[0].length),a=s.exec(n);return a&&(r.end=i.extractTimeComponent(r.start.clone(),a),r.end&&(r.text+=a[0])),r}static extractTimeComponent(e,t){let r=0,a=0,s=null;if(r=parseInt(t[2]),null!=t[3]&&(a=parseInt(t[3])),a>=60||r>24)return null;if(r>=12&&(s=n.Meridiem.PM),null!=t[5]){if(r>12)return null;const e=t[5][0].toLowerCase();"a"==e&&(s=n.Meridiem.AM,12==r&&(r=0)),"p"==e&&(s=n.Meridiem.PM,12!=r&&(r+=12))}if(e.assign("hour",r),e.assign("minute",a),null!==s?e.assign("meridiem",s):r<12?e.imply("meridiem",n.Meridiem.AM):e.imply("meridiem",n.Meridiem.PM),null!=t[4]){const r=parseInt(t[4]);if(r>=60)return null;e.assign("second",r)}return e}}t.default=i},95695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22786);class a extends n.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[Ã a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\â|\\~|\\ã|[Ã a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}}t.default=a},65117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59279),a=r(78151),s=r(15857),i=r(50180);class o extends s.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${n.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){const r=n.parseTimeUnits(t[1]),s=i.reverseTimeUnits(r);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,s)}}t.default=o},3809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59279),a=r(78151),s=r(15857),i=r(50180),o=r(95801);class l extends s.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${n.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[eÃ¨]re?s?|pass[Ã©e]e?s?|pr[Ã©e]c[Ã©e]dents?|suivante?s?))?\\s*(${o.matchAnyPattern(n.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[eÃ¨]re?s?|pass[Ã©e]e?s?|pr[Ã©e]c[Ã©e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){const r=t[1]?n.parseNumberPattern(t[1]):1;let s={};s[n.TIME_UNIT_DICTIONARY[t[3].toLowerCase()]]=r;let o=t[2]||t[4]||"";if(o=o.toLowerCase(),o)return(/derni[eÃ¨]re?s?/.test(o)||/pass[Ã©e]e?s?/.test(o)||/pr[Ã©e]c[Ã©e]dents?/.test(o))&&(s=i.reverseTimeUnits(s)),a.ParsingComponents.createRelativeFromRefDate(e.refDate,s)}}t.default=l},78528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59279),a=r(78151),s=r(15857);class i extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant)\\s*(${n.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){const r=n.parseTimeUnits(t[1]);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,r)}}t.default=i},89936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59279),a=r(95801),s=r(15857),i=r(5578),o=new RegExp(`(?:(?:\\,|\\(|\\ï¼)\\s*)?(?:(?:ce)\\s*)?(${a.matchAnyPattern(n.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\ï¼))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[1].toLowerCase(),a=n.WEEKDAY_DICTIONARY[r];if(void 0===a)return null;let s=t[2];s=s||"",s=s.toLowerCase();let o=null;"dernier"==s?o="last":"prochain"==s&&(o="next");const l=i.toDayJSWeekday(e.refDate,a,o);return e.createParsingComponents().assign("weekday",a).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}}t.default=l},96376:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(Ã |a|-)\s*$/i}}t.default=s},62393:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(6747));class s extends a.default{patternBetween(){return new RegExp("^\\s*(T|Ã |a|vers|de|,|-)?\\s*$")}}t.default=s},10978:(e,t)=>{"use strict";function r(e){return String.fromCharCode(e.charCodeAt(0)-65248)}Object.defineProperty(t,"__esModule",{value:!0}),t.toHankaku=void 0,t.toHankaku=function(e){return String(e).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"Â¥").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,r)}},21628:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const a=n(r(54799)),s=n(r(57891)),i=n(r(61751)),o=r(62469);function l(){const e=u();return e.parsers.unshift(new i.default),e}function u(){return{parsers:[new a.default],refiners:[new s.default]}}t.casual=new o.Chrono(l()),t.strict=new o.Chrono(u()),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=l,t.createConfiguration=u},61751:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(27484)),l=r(72174),u=s(r(4519)),d=/ä»æ¥|å½æ¥|æ¨æ¥|ææ¥|ä»å¤|ä»å¤|ä»æ©|ä»æ/i;t.default=class{pattern(){return d}extract(e,t){const r=t[0],n=o.default(e.refDate),a=e.createParsingComponents();switch(r){case"æ¨æ¥":return u.yesterday(e.refDate);case"ææ¥":return u.tomorrow(e.refDate);case"ä»æ¥":case"å½æ¥":return u.today(e.refDate)}return"ä»å¤"==r||"ä»å¤"==r||"ä»æ©"==r?(a.imply("hour",22),a.assign("meridiem",l.Meridiem.PM)):r.match("ä»æ")&&(a.imply("hour",6),a.assign("meridiem",l.Meridiem.AM)),a.assign("day",n.date()),a.assign("month",n.month()+1),a.assign("year",n.year()),a}}},54799:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(10978),s=r(29739),i=n(r(27484)),o=/(?:(?:([åä»æ¬])|((æ­å|å¹³æ|ä»¤å)?([0-9ï¼-ï¼]{1,4}|å)))å¹´\s*)?([0-9ï¼-ï¼]{1,2})æ\s*([0-9ï¼-ï¼]{1,2})æ¥/i;t.default=class{pattern(){return o}extract(e,t){const r=parseInt(a.toHankaku(t[5])),n=parseInt(a.toHankaku(t[6])),o=e.createParsingComponents({day:n,month:r});if(t[1]&&t[1].match("å|ä»|æ¬")){const t=i.default(e.refDate);o.assign("year",t.year())}if(t[2]){const e=t[4];let r="å"==e?1:parseInt(a.toHankaku(e));"ä»¤å"==t[3]?r+=2018:"å¹³æ"==t[3]?r+=1988:"æ­å"==t[3]&&(r+=1925),o.assign("year",r)}else{const t=s.findYearClosestToRef(e.refDate,n,r);o.imply("year",t)}return o}}},57891:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(ãã|ã¼|-)\s*$/i}}t.default=s},12682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTimeUnits=t.TIME_UNITS_PATTERN=t.parseYear=t.YEAR_PATTERN=t.parseOrdinalNumberPattern=t.ORDINAL_NUMBER_PATTERN=t.parseNumberPattern=t.NUMBER_PATTERN=t.TIME_UNIT_DICTIONARY=t.ORDINAL_WORD_DICTIONARY=t.INTEGER_WORD_DICTIONARY=t.MONTH_DICTIONARY=t.WEEKDAY_DICTIONARY=void 0;const n=r(95801),a=r(29739);function s(e){const r=e.toLowerCase();return void 0!==t.INTEGER_WORD_DICTIONARY[r]?t.INTEGER_WORD_DICTIONARY[r]:"een"===r?1:r.match(/halve?/)?.5:parseFloat(r)}t.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6},t.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12},t.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12},t.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,tweeÃ«ntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31},t.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuten:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"},t.NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|een?|halve?)`,t.parseNumberPattern=s,t.ORDINAL_NUMBER_PATTERN=`(?:${n.matchAnyPattern(t.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`,t.parseOrdinalNumberPattern=function(e){let r=e.toLowerCase();return void 0!==t.ORDINAL_WORD_DICTIONARY[r]?t.ORDINAL_WORD_DICTIONARY[r]:(r=r.replace(/(?:ste|de)$/i,""),parseInt(r))},t.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])",t.parseYear=function(e){if(/voor Christus/i.test(e))return e=e.replace(/voor Christus/i,""),-parseInt(e);if(/na Christus/i.test(e))return e=e.replace(/na Christus/i,""),parseInt(e);const t=parseInt(e);return a.findMostLikelyADYear(t)};const i=`(${t.NUMBER_PATTERN})\\s{0,5}(${n.matchAnyPattern(t.TIME_UNIT_DICTIONARY)})\\s{0,5}`,o=new RegExp(i,"i");function l(e,r){const n=s(r[1]);e[t.TIME_UNIT_DICTIONARY[r[2].toLowerCase()]]=n}t.TIME_UNITS_PATTERN=n.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",i),t.parseTimeUnits=function(e){const t={};let r=e,n=o.exec(r);for(;n;)l(t,n),r=r.substring(n[0].length),n=o.exec(r);return t}},23570:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const a=r(97468),s=r(62469),i=n(r(39638)),o=n(r(1185)),l=n(r(55270)),u=n(r(65428)),d=n(r(63938)),c=n(r(15931)),h=n(r(14363)),f=n(r(91780)),p=n(r(26229)),m=n(r(60556)),b=n(r(80301)),y=n(r(80461)),g=n(r(1955));function v(e=!0){const t=_(!1,e);return t.parsers.unshift(new l.default),t.parsers.unshift(new u.default),t.parsers.unshift(new g.default),t}function _(e=!0,t=!0){return a.includeCommonConfiguration({parsers:[new d.default(t),new f.default,new p.default,new b.default,new c.default,new m.default,new h.default,new y.default],refiners:[new o.default,new i.default]},e)}t.casual=new s.Chrono(v()),t.strict=new s.Chrono(_(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=v,t.createConfiguration=_},55270:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(15857),o=s(r(4519));class l extends i.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){const r=t[0].toLowerCase(),n=e.createParsingComponents();switch(r){case"nu":return o.now(e.refDate);case"vandaag":return o.today(e.refDate);case"morgen":case"morgend":return o.tomorrow(e.refDate);case"gisteren":return o.yesterday(e.refDate)}return n}}t.default=l},1955:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(15857),s=r(72174),i=r(25763),o=n(r(27484));class l extends a.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){const r=t[1].toLowerCase(),n=t[2].toLowerCase(),a=e.createParsingComponents(),l=o.default(e.refDate);switch(r){case"gisteren":i.assignSimilarDate(a,l.add(-1,"day"));break;case"van":i.assignSimilarDate(a,l);break;case"morgen":i.assignTheNextDay(a,l)}switch(n){case"ochtend":a.imply("meridiem",s.Meridiem.AM),a.imply("hour",6);break;case"middag":a.imply("meridiem",s.Meridiem.AM),a.imply("hour",12);break;case"namiddag":a.imply("meridiem",s.Meridiem.PM),a.imply("hour",15);break;case"avond":a.imply("meridiem",s.Meridiem.PM),a.imply("hour",20)}return a}}t.default=l},65428:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(72174),s=r(15857),i=n(r(27484)),o=r(25763);class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){const r=i.default(e.refDate),n=e.createParsingComponents();switch("deze"===t[1]&&(n.assign("day",e.refDate.getDate()),n.assign("month",e.refDate.getMonth()+1),n.assign("year",e.refDate.getFullYear())),t[2].toLowerCase()){case"namiddag":case"'s namiddags":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"avond":case"'s avonds'":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",20);break;case"middernacht":o.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"ochtend":case"'s ochtends":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"middag":case"'s middags":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}t.default=l},80461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12682),a=r(95801),s=r(15857),i=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${a.matchAnyPattern(n.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i");class o extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return i}innerExtract(e,t){const r=t[3]?parseInt(t[3]):n.MONTH_DICTIONARY[t[2].toLowerCase()];if(r<1||r>12)return null;const a=parseInt(t[1]);return{day:parseInt(t[4]),month:r,year:a}}}t.default=o},91780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(12682),s=r(12682),i=r(12682),o=r(95801),l=r(15857),u=new RegExp(`(?:on\\s*?)?(${s.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\â|until|through|till|\\s)\\s*(${s.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+o.matchAnyPattern(a.MONTH_DICTIONARY)+")(?:(?:-|/|,?\\s*)"+`(${i.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");class d extends l.AbstractParserWithWordBoundaryChecking{innerPattern(){return u}innerExtract(e,t){const r=a.MONTH_DICTIONARY[t[3].toLowerCase()],o=s.parseOrdinalNumberPattern(t[1]);if(o>31)return t.index=t.index+t[1].length,null;const l=e.createParsingComponents({day:o,month:r});if(t[4]){const e=i.parseYear(t[4]);l.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,o,r);l.imply("year",t)}if(!t[2])return l;const u=s.parseOrdinalNumberPattern(t[2]),d=e.createParsingResult(t.index,t[0]);return d.start=l,d.end=l.clone(),d.end.assign("day",u),d}}t.default=d},26229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12682),a=r(29739),s=r(95801),i=r(12682),o=r(15857),l=new RegExp(`(${s.matchAnyPattern(n.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${i.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");class u extends o.AbstractParserWithWordBoundaryChecking{innerPattern(){return l}innerExtract(e,t){const r=e.createParsingComponents();r.imply("day",1);const s=t[1],o=n.MONTH_DICTIONARY[s.toLowerCase()];if(r.assign("month",o),t[2]){const e=i.parseYear(t[2]);r.assign("year",e)}else{const t=a.findYearClosestToRef(e.refDate,1,o);r.imply("year",t)}return r}}t.default=u},60556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15857),a=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i");class s extends n.AbstractParserWithWordBoundaryChecking{innerPattern(){return a}innerExtract(e,t){const r=parseInt(t[2]),n=parseInt(t[1]);return e.createParsingComponents().imply("day",1).assign("month",n).assign("year",r)}}t.default=s},80301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22786);class a extends n.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\â|\\~|\\ã|om|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}}t.default=a},15931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12682),a=r(78151),s=r(15857);class i extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+n.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){const r=n.parseTimeUnits(t[1]);return a.ParsingComponents.createRelativeFromRefDate(e.refDate,r)}}t.default=i},14363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12682),a=r(95801),s=r(15857),i=r(5578),o=new RegExp(`(?:(?:\\,|\\(|\\ï¼)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${a.matchAnyPattern(n.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[2].toLowerCase(),a=n.WEEKDAY_DICTIONARY[r],s=t[1],o=t[3];let l=s||o;l=l||"",l=l.toLowerCase();let u=null;"vorige"==l?u="last":"volgende"==l?u="next":"deze"==l&&(u="this");const d=i.toDayJSWeekday(e.refDate,a,u);return e.createParsingComponents().assign("weekday",a).imply("day",d.date()).imply("month",d.month()+1).imply("year",d.year())}}t.default=l},39638:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(tot|-)\s*$/i}}t.default=s},1185:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(6747));class s extends a.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}}t.default=s},24606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseYear=t.YEAR_PATTERN=t.MONTH_DICTIONARY=t.WEEKDAY_DICTIONARY=void 0,t.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,terÃ§a:2,"terÃ§a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,sÃ¡bado:6,sabado:6,sab:6},t.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,marÃ§o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12},t.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?",t.parseYear=function(e){if(e.match(/^[0-9]{1,4}$/)){let t=parseInt(e);return t<100&&(t+=t>50?1900:2e3),t}return e.match(/a\.?\s*c\.?/i)?(e=e.replace(/a\.?\s*c\.?/i,""),-parseInt(e)):parseInt(e)}},59860:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const a=r(97468),s=r(62469),i=n(r(63938)),o=n(r(33961)),l=n(r(41671)),u=n(r(73446)),d=n(r(56040)),c=n(r(85773)),h=n(r(29313)),f=n(r(40550));function p(e=!0){const t=m(!1,e);return t.parsers.push(new h.default),t.parsers.push(new f.default),t}function m(e=!0,t=!0){return a.includeCommonConfiguration({parsers:[new i.default(t),new o.default,new l.default,new c.default],refiners:[new u.default,new d.default]},e)}t.casual=new s.Chrono(p()),t.strict=new s.Chrono(m(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=p,t.createConfiguration=m},29313:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(15857),o=s(r(4519));class l extends i.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhÃ£|ontem)(?=\W|$)/i}innerExtract(e,t){const r=t[0].toLowerCase(),n=e.createParsingComponents();switch(r){case"agora":return o.now(e.refDate);case"hoje":return o.today(e.refDate);case"amanha":case"amanhÃ£":return o.tomorrow(e.refDate);case"ontem":return o.yesterday(e.refDate)}return n}}t.default=l},40550:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(72174),s=r(15857),i=r(25763),o=n(r(27484));class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhÃ£|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){const r=o.default(e.refDate),n=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"noite":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",22);break;case"manha":case"manhÃ£":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"meia-noite":i.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"meio-dia":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}t.default=l},85773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29739),a=r(24606),s=r(24606),i=r(95801),o=r(15857),l=new RegExp(`([0-9]{1,2})(?:Âº|Âª|Â°)?(?:\\s*(?:desde|de|\\-|\\â|ao?|\\s)\\s*([0-9]{1,2})(?:Âº|Âª|Â°)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${i.matchAnyPattern(a.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${s.YEAR_PATTERN}))?(?=\\W|$)`,"i");class u extends o.AbstractParserWithWordBoundaryChecking{innerPattern(){return l}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),i=a.MONTH_DICTIONARY[t[3].toLowerCase()],o=parseInt(t[1]);if(o>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",i),r.start.assign("day",o),t[4]){const e=s.parseYear(t[4]);r.start.assign("year",e)}else{const t=n.findYearClosestToRef(e.refDate,o,i);r.start.imply("year",t)}if(t[2]){const e=parseInt(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}}t.default=u},41671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22786);class a extends n.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|Ã s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\â|\\~|\\ã|a(?:o)?|\\?)\\s*"}}t.default=a},33961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24606),a=r(95801),s=r(15857),i=r(5578),o=new RegExp(`(?:(?:\\,|\\(|\\ï¼)\\s*)?(?:(este|esta|passado|pr[oÃ³]ximo)\\s*)?(${a.matchAnyPattern(n.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\ï¼))?(?:\\s*(este|esta|passado|pr[Ã³o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i");class l extends s.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=t[2].toLowerCase(),a=n.WEEKDAY_DICTIONARY[r];if(void 0===a)return null;const s=t[1],o=t[3];let l=s||o||"";l=l.toLowerCase();let u=null;"passado"==l?u="this":"prÃ³ximo"==l||"proximo"==l?u="next":"este"==l&&(u="this");const d=i.toDayJSWeekday(e.refDate,a,u);return e.createParsingComponents().assign("weekday",a).imply("day",d.date()).imply("month",d.month()+1).imply("year",d.year())}}t.default=l},56040:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(17529));class s extends a.default{patternBetween(){return/^\s*(?:-)\s*$/i}}t.default=s},73446:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(6747));class s extends a.default{patternBetween(){return new RegExp("^\\s*(?:,|Ã )?\\s*$")}}t.default=s},78151:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingResult=t.ParsingComponents=void 0;const a=n(r(96671)),s=n(r(27484)),i=r(25763);s.default.extend(a.default);class o{constructor(e,t){if(this.knownValues={},this.impliedValues={},t)for(const e in t)this.knownValues[e]=t[e];const r=s.default(e);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues||(this.impliedValues[e]=t),this}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new o(new Date);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.isCertain("timezoneOffset")?this.dateWithoutTimezoneAdjustment():this.date();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||null!=this.get("hour")&&e.getHours()!=this.get("hour")||null!=this.get("minute")&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}]`}dayjs(){return s.default(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+6e4*this.getTimezoneAdjustmentMinute(e))}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getTimezoneAdjustmentMinute(e){var t;const r=-(e=null!=e?e:new Date).getTimezoneOffset();return r-(null!==(t=this.get("timezoneOffset"))&&void 0!==t?t:r)}static createRelativeFromRefDate(e,t){let r=s.default(e);for(const e in t)r=r.add(t[e],e);const n=new o(e);return t.hour||t.minute||t.second?(i.assignSimilarTime(n,r),i.assignSimilarDate(n,r)):(i.implySimilarTime(n,r),t.d?(n.assign("day",r.date()),n.assign("month",r.month()+1),n.assign("year",r.year())):(t.week&&n.imply("weekday",r.day()),n.imply("day",r.date()),t.month?(n.assign("month",r.month()+1),n.assign("year",r.year())):(n.imply("month",r.month()+1),t.year?n.assign("year",r.year()):n.imply("year",r.year())))),n}}t.ParsingComponents=o;class l{constructor(e,t,r,n,a){this.refDate=e,this.index=t,this.text=r,this.start=n||new o(this.refDate),this.end=a}clone(){const e=new l(this.refDate,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}}t.ParsingResult=l},25763:(e,t)=>{"use strict";function r(e,t){e.assign("day",t.date()),e.assign("month",t.month()+1),e.assign("year",t.year())}function n(e,t){e.imply("hour",t.hour()),e.imply("minute",t.minute()),e.imply("second",t.second()),e.imply("millisecond",t.millisecond()),e.imply("timezoneOffset",t.utcOffset())}Object.defineProperty(t,"__esModule",{value:!0}),t.implySimilarTime=t.assignSimilarTime=t.assignSimilarDate=t.assignTheNextDay=void 0,t.assignTheNextDay=function(e,t){r(e,t=t.add(1,"day")),n(e,t)},t.assignSimilarDate=r,t.assignSimilarTime=function(e,t){e.assign("hour",t.hour()),e.assign("minute",t.minute()),e.assign("second",t.second()),e.assign("millisecond",t.millisecond()),e.assign("timezoneOffset",t.utcOffset())},t.implySimilarTime=n},95801:(e,t)=>{"use strict";function r(e){let t;return t=e instanceof Array?[...e]:e instanceof Map?Array.from(e.keys()):Object.keys(e),t}Object.defineProperty(t,"__esModule",{value:!0}),t.matchAnyPattern=t.extractTerms=t.repeatedTimeunitPattern=void 0,t.repeatedTimeunitPattern=function(e,t){const r=t.replace(/\((?!\?)/g,"(?:");return`${e}${r}\\s*(?:,?\\s{0,5}${r}){0,10}`},t.extractTerms=r,t.matchAnyPattern=function(e){return`(?:${r(e).sort(((e,t)=>t.length-e.length)).join("|").replace(/\./g,"\\.")})`}},50180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addImpliedTimeUnits=t.reverseTimeUnits=void 0,t.reverseTimeUnits=function(e){const t={};for(const r in e)t[r]=-e[r];return t},t.addImpliedTimeUnits=function(e,t){const r=e.clone();let n=e.dayjs();for(const e in t)n=n.add(t[e],e);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(r.imply("day",n.date()),r.imply("month",n.month()+1),r.imply("year",n.year())),("second"in t||"minute"in t||"hour"in t)&&(r.imply("second",n.second()),r.imply("minute",n.minute()),r.imply("hour",n.hour())),r}},27484:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",a="minute",s="hour",i="day",o="week",l="month",u="quarter",d="year",c="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:b,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,l),s=r-a<0,i=t.clone().add(n+(s?-1:1),l);return+(-(n+(r-a)/(s?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:o,d:i,D:c,h:s,m:a,s:n,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",v={};v[g]=m;var _=function(e){return e instanceof C},E=function(e,t,r){var n;if(!e)return g;if("string"==typeof e)v[e]&&(n=e),t&&(v[e]=t,n=e);else{var a=e.name;v[a]=e,n=a}return!r&&n&&(g=n),n||!r&&g},T=function(e,t){if(_(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new C(r)},w=y;w.l=E,w.i=_,w.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=E(e.locale,null,!0),this.parse(e)}var b=m.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var a=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return w},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var r=T(e);return this.startOf(t)<=r&&r<=this.endOf(t)},b.isAfter=function(e,t){return T(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<T(e)},b.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var r=this,u=!!w.u(t)||t,h=w.p(e),f=function(e,t){var n=w.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?n:n.endOf(i)},p=function(e,t){return w.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},m=this.$W,b=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case d:return u?f(1,0):f(31,11);case l:return u?f(1,b):f(0,b+1);case o:var v=this.$locale().weekStart||0,_=(m<v?m+7:m)-v;return f(u?y-_:y+(6-_),b);case i:case c:return p(g+"Hours",0);case s:return p(g+"Minutes",1);case a:return p(g+"Seconds",2);case n:return p(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var o,u=w.p(e),h="set"+(this.$u?"UTC":""),f=(o={},o[i]=h+"Date",o[c]=h+"Date",o[l]=h+"Month",o[d]=h+"FullYear",o[s]=h+"Hours",o[a]=h+"Minutes",o[n]=h+"Seconds",o[r]=h+"Milliseconds",o)[u],p=u===i?this.$D+(t-this.$W):t;if(u===l||u===d){var m=this.clone().set(c,1);m.$d[f](p),m.init(),this.$d=m.set(c,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[w.p(e)]()},b.add=function(r,u){var c,h=this;r=Number(r);var f=w.p(u),p=function(e){var t=T(h);return w.w(t.date(t.date()+Math.round(e*r)),h)};if(f===l)return this.set(l,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===i)return p(1);if(f===o)return p(7);var m=(c={},c[a]=e,c[s]=t,c[n]=1e3,c)[f]||1,b=this.$d.getTime()+r*m;return w.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),s=this.$H,i=this.$m,o=this.$M,l=r.weekdays,u=r.months,d=function(e,r,a,s){return e&&(e[r]||e(t,n))||a[r].substr(0,s)},c=function(e){return w.s(s%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:d(r.monthsShort,o,u,3),MMMM:d(u,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:d(r.weekdaysMin,this.$W,l,2),ddd:d(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:w.s(s,2,"0"),h:c(1),hh:c(2),a:f(s,i,!0),A:f(s,i,!1),m:String(i),mm:w.s(i,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:a};return n.replace(p,(function(e,t){return t||m[e]||a.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,c,h){var f,p=w.p(c),m=T(r),b=(m.utcOffset()-this.utcOffset())*e,y=this-m,g=w.m(this,m);return g=(f={},f[d]=g/12,f[l]=g,f[u]=g/3,f[o]=(y-b)/6048e5,f[i]=(y-b)/864e5,f[s]=y/t,f[a]=y/e,f[n]=y/1e3,f)[p]||y,h?g:w.a(g)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return v[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=E(e,t,!0);return n&&(r.$L=n),r},b.clone=function(){return w.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},m}(),S=C.prototype;return T.prototype=S,[["$ms",r],["$s",n],["$m",a],["$H",s],["$W",i],["$M",l],["$y",d],["$D",c]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,C,T),e.$i=!0),T},T.locale=E,T.isDayjs=_,T.unix=function(e){return T(1e3*e)},T.en=v[g],T.Ls=v,T.p={},T}()},96671:function(e){e.exports=function(){"use strict";var e="month",t="quarter";return function(r,n){var a=n.prototype;a.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var s=a.add;a.add=function(r,n){return r=Number(r),this.$utils().p(n)===t?this.add(3*r,e):s.bind(this)(r,n)};var i=a.startOf;a.startOf=function(r,n){var a=this.$utils(),s=!!a.u(n)||n;if(a.p(r)===t){var o=this.quarter()-1;return s?this.month(3*o).startOf(e).startOf("day"):this.month(3*o+2).endOf(e).endOf("day")}return i.bind(this)(r,n)}}}()},98141:(e,t,r)=>{"use strict";var n=r(95318);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=n(r(90404));e.exports=t.default},90404:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},10602:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,r){e.classList?e.classList.remove(r):"string"==typeof e.className?e.className=t(e.className,r):e.setAttribute("class",t(e.className&&e.className.baseVal||"",r))}},50139:(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},44825:(e,t,r)=>{"use strict";var n=r(95318);t.__esModule=!0,t.default=function(e){if((!a&&0!==a||e)&&s.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),a=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return a};var a,s=n(r(50139));e.exports=t.default},4400:(e,t,r)=>{var n=r(54123).stringify,a=r(26813);e.exports=function(e){return{parse:a(e),stringify:n}},e.exports.parse=a(),e.exports.stringify=n},26813:(e,t,r)=>{var n=null;const a=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,s=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`);t.protoAction=e.protoAction}}var i,o,l,u,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c=function(e){throw{name:"SyntaxError",message:e,at:i,text:l}},h=function(e){return e&&e!==o&&c("Expected '"+e+"' instead of '"+o+"'"),o=l.charAt(i),i+=1,o},f=function(){var e,a="";for("-"===o&&(a="-",h("-"));o>="0"&&o<="9";)a+=o,h();if("."===o)for(a+=".";h()&&o>="0"&&o<="9";)a+=o;if("e"===o||"E"===o)for(a+=o,h(),"-"!==o&&"+"!==o||(a+=o,h());o>="0"&&o<="9";)a+=o,h();if(e=+a,isFinite(e))return null==n&&(n=r(44431)),a.length>15?t.storeAsString?a:t.useNativeBigInt?BigInt(a):new n(a):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;c("Bad number")},p=function(){var e,t,r,n="";if('"'===o)for(var a=i;h();){if('"'===o)return i-1>a&&(n+=l.substring(a,i-1)),h(),n;if("\\"===o){if(i-1>a&&(n+=l.substring(a,i-1)),h(),"u"===o){for(r=0,t=0;t<4&&(e=parseInt(h(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof d[o])break;n+=d[o]}a=i}}c("Bad string")},m=function(){for(;o&&o<=" ";)h()};return u=function(){switch(m(),o){case"{":return function(){var e,r=Object.create(null);if("{"===o){if(h("{"),m(),"}"===o)return h("}"),r;for(;o;){if(e=p(),m(),h(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&c('Duplicate key "'+e+'"'),!0===a.test(e)?"error"===t.protoAction?c("Object contains forbidden prototype property"):"ignore"===t.protoAction?u():r[e]=u():!0===s.test(e)?"error"===t.constructorAction?c("Object contains forbidden constructor property"):"ignore"===t.constructorAction?u():r[e]=u():r[e]=u(),m(),"}"===o)return h("}"),r;h(","),m()}}c("Bad object")}();case"[":return function(){var e=[];if("["===o){if(h("["),m(),"]"===o)return h("]"),e;for(;o;){if(e.push(u()),m(),"]"===o)return h("]"),e;h(","),m()}}c("Bad array")}();case'"':return p();case"-":return f();default:return o>="0"&&o<="9"?f():function(){switch(o){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}c("Unexpected '"+o+"'")}()}},function(e,t){var r;return l=e+"",i=0,o=" ",r=u(),m(),o&&c("Syntax error"),"function"==typeof t?function e(r,n){var a,s=r[n];return s&&"object"==typeof s&&Object.keys(s).forEach((function(t){void 0!==(a=e(s,t))?s[t]=a:delete s[t]})),t.call(r,n,s)}({"":r},""):r}}},54123:(e,t,r)=>{var n=r(44431),a=e.exports;!function(){"use strict";var e,t,r,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function l(a,s){var i,u,d,c,h,f=e,p=s[a],m=null!=p&&(p instanceof n||n.isBigNumber(p));switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(a)),"function"==typeof r&&(p=r.call(s,a,p)),typeof p){case"string":return m?p:o(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":case"bigint":return String(p);case"object":if(!p)return"null";if(e+=t,h=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,i=0;i<c;i+=1)h[i]=l(i,p)||"null";return d=0===h.length?"[]":e?"[\n"+e+h.join(",\n"+e)+"\n"+f+"]":"["+h.join(",")+"]",e=f,d}if(r&&"object"==typeof r)for(c=r.length,i=0;i<c;i+=1)"string"==typeof r[i]&&(d=l(u=r[i],p))&&h.push(o(u)+(e?": ":":")+d);else Object.keys(p).forEach((function(t){var r=l(t,p);r&&h.push(o(t)+(e?": ":":")+r)}));return d=0===h.length?"{}":e?"{\n"+e+h.join(",\n"+e)+"\n"+f+"}":"{"+h.join(",")+"}",e=f,d}}"function"!=typeof a.stringify&&(a.stringify=function(n,a,s){var i;if(e="",t="","number"==typeof s)for(i=0;i<s;i+=1)t+=" ";else"string"==typeof s&&(t=s);if(r=a,a&&"function"!=typeof a&&("object"!=typeof a||"number"!=typeof a.length))throw new Error("JSON.stringify");return l("",{"":n})})}()},18024:(e,t,r)=>{var n="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s=/^\s+|\s+$/g,i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,o=/\{\n\/\* \[wrapped with (.+)\] \*/,l=/,? & /,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^\[object .+?Constructor\]$/,h=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,p=parseInt,m="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,b="object"==typeof self&&self&&self.Object===Object&&self,y=m||b||Function("return this")();function g(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function v(e){return e!=e}function _(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function E(e,t){for(var r=-1,a=e.length,s=0,i=[];++r<a;){var o=e[r];o!==t&&o!==n||(e[r]=n,i[s++]=r)}return i}var T,w,C,S=Function.prototype,R=Object.prototype,x=y["__core-js_shared__"],A=(T=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",I=S.toString,O=R.hasOwnProperty,D=R.toString,N=RegExp("^"+I.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=Object.create,M=Math.max,q=Math.min,Z=(w=Q(Object,"defineProperty"),(C=Q.name)&&C.length>2?w:void 0);function k(e){return J(e)?P(e):{}}function L(e,t,r,n){for(var a=-1,s=e.length,i=r.length,o=-1,l=t.length,u=M(s-i,0),d=Array(l+u),c=!n;++o<l;)d[o]=t[o];for(;++a<i;)(c||a<s)&&(d[r[a]]=e[a]);for(;u--;)d[o++]=e[a++];return d}function j(e,t,r,n){for(var a=-1,s=e.length,i=-1,o=r.length,l=-1,u=t.length,d=M(s-o,0),c=Array(d+u),h=!n;++a<d;)c[a]=e[a];for(var f=a;++l<u;)c[f+l]=t[l];for(;++i<o;)(h||a<s)&&(c[f+r[i]]=e[a++]);return c}function U(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=k(e.prototype),n=e.apply(r,t);return J(n)?n:r}}function $(e,t,r,n,a,s,i,o,l,u){var d=128&t,c=1&t,h=2&t,f=24&t,p=512&t,m=h?void 0:U(e);return function b(){for(var g=arguments.length,v=Array(g),T=g;T--;)v[T]=arguments[T];if(f)var w=W(b),C=_(v,w);if(n&&(v=L(v,n,a,f)),s&&(v=j(v,s,i,f)),g-=C,f&&g<u){var S=E(v,w);return B(e,t,$,b.placeholder,r,v,S,o,l,u-g)}var R=c?r:this,x=h?R[e]:e;return g=v.length,o?v=H(v,o):p&&g>1&&v.reverse(),d&&l<g&&(v.length=l),this&&this!==y&&this instanceof b&&(x=m||U(x)),x.apply(R,v)}}function B(e,t,r,n,a,s,i,o,l,u){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var c=r(e,t,a,d?s:void 0,d?i:void 0,d?void 0:s,d?void 0:i,o,l,u);return c.placeholder=n,K(c,e,t)}function W(e){return e.placeholder}function Q(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!J(e)||function(e){return!!A&&A in e}(e))return!1;var t=function(e){var t=J(e)?D.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?N:c;return t.test(function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(r)?r:void 0}function F(e){var t=e.match(o);return t?t[1].split(l):[]}function Y(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(i,"{\n/* [wrapped with "+t+"] */\n")}function z(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function H(e,t){for(var r=e.length,n=q(t.length,r),a=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e);n--;){var s=t[n];e[n]=z(s,r)?a[s]:void 0}return e}var K=Z?function(e,t,r){var n,a=t+"";return Z(e,"toString",{configurable:!0,enumerable:!1,value:(n=Y(a,V(F(a),r)),function(){return n})})}:function(e){return e};function V(e,t){return function(r,n){for(var a=-1,s=r?r.length:0;++a<s&&!1!==(o=void 0,o="_."+(i=r[a])[0],void(t&i[1]&&!function(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var a=e.length,s=-1;++s<a;)if(t(e[s],s,e))return s;return-1}(e,v);for(var n=-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}(e,t)>-1}(e,o)&&e.push(o))););var i,o}(a),e.sort()}function G(e,t,r){var n=function(e,t,r,n,a,s,i,o){var l=2&t;if(!l&&"function"!=typeof e)throw new TypeError("Expected a function");var u=n?n.length:0;if(u||(t&=-97,n=a=void 0),i=void 0===i?i:M(X(i),0),o=void 0===o?o:X(o),u-=a?a.length:0,64&t){var d=n,c=a;n=a=void 0}var h=[e,t,r,n,a,d,c,s,i,o];if(e=h[0],t=h[1],r=h[2],n=h[3],a=h[4],!(o=h[9]=null==h[9]?l?0:e.length:M(h[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,r){var n=U(e);return function a(){for(var s=arguments.length,i=Array(s),o=s,l=W(a);o--;)i[o]=arguments[o];var u=s<3&&i[0]!==l&&i[s-1]!==l?[]:E(i,l);return(s-=u.length)<r?B(e,t,$,a.placeholder,void 0,i,u,void 0,void 0,r-s):g(this&&this!==y&&this instanceof a?n:e,this,i)}}(e,t,o):32!=t&&33!=t||a.length?$.apply(void 0,h):function(e,t,r,n){var a=1&t,s=U(e);return function t(){for(var i=-1,o=arguments.length,l=-1,u=n.length,d=Array(u+o),c=this&&this!==y&&this instanceof t?s:e;++l<u;)d[l]=n[l];for(;o--;)d[l++]=arguments[++i];return g(c,a?r:this,d)}}(e,t,r,n);else var f=function(e,t,r){var n=1&t,a=U(e);return function t(){return(this&&this!==y&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,r);return K(f,e,t)}(e,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=G.placeholder,n}function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function X(e){var t=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==D.call(e)}(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=d.test(e);return r||h.test(e)?p(e.slice(2),r?2:8):u.test(e)?NaN:+e}(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}G.placeholder={},e.exports=G},53792:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();function i(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function o(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var l=Object.prototype,u=l.hasOwnProperty,d=l.toString,c=s.Symbol,h=l.propertyIsEnumerable,f=c?c.isConcatSpreadable:void 0,p=Math.max;function m(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=b),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?m(l,t-1,r,n,a):o(a,l):n||(a[a.length]=l)}return a}function b(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&u.call(e,"callee")&&(!h.call(e,"callee")||"[object Arguments]"==d.call(e))}(e)||!!(f&&e&&e[f])}var y,g,v=Array.isArray,_=(y=function(e){for(var t=(e=m(e,1)).length,r=t;r--;)if("function"!=typeof e[r])throw new TypeError("Expected a function");return function(){for(var r=0,n=t?e[r].apply(this,arguments):arguments[0];++r<t;)n=e[r].call(this,n);return n}},g=p(void 0===g?y.length-1:g,0),function(){for(var e=arguments,t=-1,r=p(e.length-g,0),n=Array(r);++t<r;)n[t]=e[g+t];t=-1;for(var a=Array(g+1);++t<g;)a[t]=e[t];return a[g]=n,i(y,this,a)});e.exports=_},78975:(e,t,r)=>{var n=r(47816);e.exports=function(e,t,r,a){return n(e,(function(e,n,s){t(a,r(e),n,s)})),a}},17779:(e,t,r)=>{var n=r(78975);e.exports=function(e,t){return function(r,a){return n(r,e,t(a),{})}}},63137:(e,t,r)=>{var n=r(75703),a=r(17779),s=r(6557),i=Object.prototype.toString,o=a((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=i.call(t)),e[t]=r}),n(s));e.exports=o},76501:e=>{e.exports=function(e){var t,r,n,a,s,i=e[0]/360,o=e[1]/100,l=e[2]/100;if(0==o)return[s=255*l,s,s];t=2*l-(r=l<.5?l*(1+o):l+o-l*o),a=[0,0,0];for(var u=0;u<3;u++)(n=i+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,a[u]=255*s;return a}},29765:(e,t,r)=>{var n=r(12912);function a(e){var t=Math.round(n(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?a(255*e[3]):"";return"#"+a(e[0])+a(e[1])+a(e[2])+t}},93356:e=>{var t=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(t)}},52379:e=>{e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",r=1;r<e.length;r++){var n=e.charAt(r);t+=n+n}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}},59143:(e,t,r)=>{var n=r(93356),a=r(12912);function s(e,t){switch(e=parseFloat(e),t){case 0:return a(e,0,360);case 1:case 2:return a(e,0,100);case 3:return a(e,0,1)}}e.exports=function(e){return n(e).map(s)}},44586:(e,t,r)=>{var n=r(59143),a=r(52379),s=r(24835),i=r(76501),o={"#":a,hsl:function(e){var t=n(e),r=i(t);return 4===t.length&&r.push(t[3]),r},rgb:s};function l(e){for(var t in o)if(0===e.indexOf(t))return o[t](e)}l.rgb=s,l.hsl=n,l.hex=a,e.exports=l},24835:(e,t,r)=>{var n=r(93356),a=r(12912);function s(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*a(parseInt(e,10),0,100)/100):a(parseInt(e,10),0,255):a(parseFloat(e),0,1)}e.exports=function(e){return n(e).map(s)}},12912:e=>{e.exports=function(e,t,r){return Math.min(Math.max(e,t),r)}},64002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,r,n,a=e[0],s=e[1],i=e[2];return t=1*a+0*s+1.13983*i,r=1*a+-.39465*s+-.5806*i,n=1*a+2.02311*s+0*i,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},t.rgb2yuv=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[.299*t+.587*r+.114*n,-.14713*t+-.28886*r+.436*n,.615*t+-.51499*r+-.10001*n]}},67274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var n=f(r(72444)),a=f(r(88239)),s=f(r(12424)),i=f(r(88902)),o=f(r(18024)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(79194)),u=f(r(29765)),d=f(r(44586)),c=f(r(53792)),h=r(64002);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.default,m=(0,i.default)(p),b=(0,c.default)(d.default,h.rgb2yuv,(function(e){var t,r=(0,s.default)(e,3);return[(t=r[0],t<.25?1:t<.5?.9-t:1.1-t),r[1],r[2]]}),h.yuv2rgb,u.default),y=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,a.default)({},t.style||{},e.style||{})}}},g=function(e,t){var r=(0,i.default)(t);for(var s in e)-1===r.indexOf(s)&&r.push(s);return r.reduce((function(r,s){return r[s]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var r=void 0===e?"undefined":(0,n.default)(e),s=void 0===t?"undefined":(0,n.default)(t);switch(r){case"string":switch(s){case"string":return[t,e].filter(Boolean).join(" ");case"object":return y({className:e,style:t});case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return y({className:e})(t.apply(void 0,[r].concat(a)))}}case"object":switch(s){case"string":return y({className:t,style:e});case"object":return(0,a.default)({},t,e);case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return y({style:e})(t.apply(void 0,[r].concat(a)))}}case"function":switch(s){case"string":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return e.apply(void 0,[y(r)({className:t})].concat(a))};case"object":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return e.apply(void 0,[y(r)({style:t})].concat(a))};case"function":return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return e.apply(void 0,[t.apply(void 0,[r].concat(a))].concat(a))}}}}(e[s],t[s]),r}),{})},v=function(e,t){for(var r=arguments.length,s=Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];if(null===t)return e;Array.isArray(t)||(t=[t]);var l=t.map((function(t){return e[t]})).filter(Boolean),u=l.reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,n.default)(t))?e.style=(0,a.default)({},e.style,t):"function"==typeof t&&(e=(0,a.default)({},e,t.apply(void 0,[e].concat(s)))),e}),{className:"",style:{}});return u.className||delete u.className,0===(0,i.default)(u.style).length&&delete u.style,u},_=t.invertTheme=function(e){return(0,i.default)(e).reduce((function(t,r){return t[r]=/^base/.test(r)?b(e[r]):"scheme"===r?e[r]+":inverted":e[r],t}),{})},E=(t.createStyling=(0,o.default)((function(e){for(var t=arguments.length,r=Array(t>3?t-3:0),n=3;n<t;n++)r[n-3]=arguments[n];var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=s.defaultBase16,d=void 0===u?p:u,c=s.base16Themes,h=void 0===c?null:c,f=E(l,h);f&&(l=(0,a.default)({},f,l));var b=m.reduce((function(e,t){return e[t]=l[t]||d[t],e}),{}),y=(0,i.default)(l).reduce((function(e,t){return-1===m.indexOf(t)?(e[t]=l[t],e):e}),{}),_=e(b),T=g(y,_);return(0,o.default)(v,2).apply(void 0,[T].concat(r))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var r=e.split(":"),n=(0,s.default)(r,2),a=n[0],i=n[1];e=(t||{})[a]||l[a],"inverted"===i&&(e=_(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},27185:(e,t,r)=>{"use strict";t.__esModule=!0;var n=d(r(88239)),a=d(r(99663)),s=d(r(49135)),i=d(r(93196)),o=d(r(67294)),l=d(r(45697)),u=d(r(24121));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(r){(0,a.default)(this,t);var n=(0,s.default)(this,e.call(this,r));return n.state={expanded:!1},n.handleClick=n.handleClick.bind(n),n}return(0,i.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.styling,r=e.from,a=e.to,s=e.renderChildNodes,i=e.nodeType;return this.state.expanded?o.default.createElement("div",t("itemRange",this.state.expanded),s(this.props,r,a)):o.default.createElement("div",(0,n.default)({},t("itemRange",this.state.expanded),{onClick:this.handleClick}),o.default.createElement(u.default,{nodeType:i,styling:t,expanded:!1,onClick:this.handleClick,arrowStyle:"double"}),r+" ... "+a)},t.prototype.handleClick=function(){this.setState({expanded:!this.state.expanded})},t}(o.default.Component);c.propTypes={styling:l.default.func.isRequired,from:l.default.number.isRequired,to:l.default.number.isRequired,renderChildNodes:l.default.func.isRequired,nodeType:l.default.string.isRequired},t.default=c},89205:(e,t,r)=>{"use strict";t.__esModule=!0;var n=l(r(88239)),a=l(r(42723)),s=l(r(67294)),i=l(r(45697)),o=l(r(88207));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.length+" "+(1!==e.length?"items":"item")}var d=function(e){var t=e.data,r=(0,a.default)(e,["data"]);return s.default.createElement(o.default,(0,n.default)({},r,{data:t,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:u,expandable:t.length>0}))};d.propTypes={data:i.default.array},t.default=d},24121:(e,t,r)=>{"use strict";t.__esModule=!0;var n=i(r(88239)),a=i(r(67294)),s=i(r(45697));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.styling,r=e.arrowStyle,s=e.expanded,i=e.nodeType,o=e.onClick;return a.default.createElement("div",(0,n.default)({},t("arrowContainer",r),{onClick:o}),a.default.createElement("div",t(["arrow","arrowSign"],i,s,r),"â¶","double"===r&&a.default.createElement("div",t(["arrowSign","arrowSignInner"]),"â¶")))};o.propTypes={styling:s.default.func.isRequired,arrowStyle:s.default.oneOf(["single","double"]),expanded:s.default.bool.isRequired,nodeType:s.default.string.isRequired,onClick:s.default.func.isRequired},o.defaultProps={arrowStyle:"single"},t.default=o},59364:(e,t,r)=>{"use strict";t.__esModule=!0;var n=u(r(88239)),a=u(r(42723)),s=u(r(26378)),i=u(r(63850));t.default=function(e){var t=(0,a.default)(e,[]);return o.default.createElement(l.default,(0,n.default)({},t,{nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:d}))};var o=u(r(67294)),l=u(r(88207));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=0,n=!1;if((0,i.default)(e.size))r=e.size;else{var a=e,o=Array.isArray(a),l=0;for(a=o?a:(0,s.default)(a);;){if(o){if(l>=a.length)break;a[l++]}else{if((l=a.next()).done)break;l.value}if(t&&r+1>t){n=!0;break}r+=1}}return(n?">":"")+r+" "+(1!==r?"entries":"entry")}},88207:(e,t,r)=>{"use strict";t.__esModule=!0;var n=p(r(88902)),a=p(r(99663)),s=p(r(49135)),i=p(r(93196)),o=p(r(88239)),l=p(r(67294)),u=p(r(45697)),d=p(r(24121)),c=p(r(41063)),h=p(r(35249)),f=p(r(27185));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){var n=e.nodeType,a=e.data,s=e.collectionLimit,i=e.circularCache,u=e.keyPath,d=e.postprocessValue,p=e.sortObjectKeys,b=[];return(0,c.default)(n,a,p,s,t,r).forEach((function(t){if(t.to)b.push(l.default.createElement(f.default,(0,o.default)({},e,{key:"ItemRange--"+t.from+"-"+t.to,from:t.from,to:t.to,renderChildNodes:m})));else{var r=t.key,n=t.value,a=-1!==i.indexOf(n),c=l.default.createElement(h.default,(0,o.default)({},e,{postprocessValue:d,collectionLimit:s},{key:"Node--"+r,keyPath:[r].concat(u),value:d(n),circularCache:[].concat(i,[n]),isCircular:a,hideRoot:!1}));!1!==c&&b.push(c)}})),b}function b(e){return{expanded:!(!e.shouldExpandNode||e.isCircular)&&e.shouldExpandNode(e.keyPath,e.data,e.level)}}var y=function(e){function t(r){(0,a.default)(this,t);var n=(0,s.default)(this,e.call(this,r));return n.handleClick=function(){n.props.expandable&&n.setState({expanded:!n.state.expanded})},n.state=b(r),n}return(0,i.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=b(e);b(this.props).expanded!==t.expanded&&this.setState(t)},t.prototype.shouldComponentUpdate=function(e,t){var r=this;return!!(0,n.default)(e).find((function(t){return"circularCache"!==t&&("keyPath"===t?e[t].join("/")!==r.props[t].join("/"):e[t]!==r.props[t])}))||t.expanded!==this.state.expanded},t.prototype.render=function(){var e=this.props,t=e.getItemString,r=e.nodeTypeIndicator,n=e.nodeType,a=e.data,s=e.hideRoot,i=e.createItemString,u=e.styling,c=e.collectionLimit,h=e.keyPath,f=e.labelRenderer,p=e.expandable,b=this.state.expanded,y=b||s&&0===this.props.level?m((0,o.default)({},this.props,{level:this.props.level+1})):null,g=t(n,a,l.default.createElement("span",u("nestedNodeItemType",b),r),i(a,c)),v=[h,n,b,p];return s?l.default.createElement("li",u.apply(void 0,["rootNode"].concat(v)),l.default.createElement("ul",u.apply(void 0,["rootNodeChildren"].concat(v)),y)):l.default.createElement("li",u.apply(void 0,["nestedNode"].concat(v)),p&&l.default.createElement(d.default,{styling:u,nodeType:n,expanded:b,onClick:this.handleClick}),l.default.createElement("label",(0,o.default)({},u.apply(void 0,[["label","nestedNodeLabel"]].concat(v)),{onClick:this.handleClick}),f.apply(void 0,v)),l.default.createElement("span",(0,o.default)({},u.apply(void 0,["nestedNodeItemString"].concat(v)),{onClick:this.handleClick}),g),l.default.createElement("ul",u.apply(void 0,["nestedNodeChildren"].concat(v)),y))},t}(l.default.Component);y.propTypes={getItemString:u.default.func.isRequired,nodeTypeIndicator:u.default.any,nodeType:u.default.string.isRequired,data:u.default.any,hideRoot:u.default.bool.isRequired,createItemString:u.default.func.isRequired,styling:u.default.func.isRequired,collectionLimit:u.default.number,keyPath:u.default.arrayOf(u.default.oneOfType([u.default.string,u.default.number])).isRequired,labelRenderer:u.default.func.isRequired,shouldExpandNode:u.default.func,level:u.default.number.isRequired,sortObjectKeys:u.default.oneOfType([u.default.func,u.default.bool]),isCircular:u.default.bool,expandable:u.default.bool},y.defaultProps={data:[],circularCache:[],level:0,expandable:!0},t.default=y},35249:(e,t,r)=>{"use strict";t.__esModule=!0;var n=h(r(88239)),a=h(r(42723)),s=h(r(67294)),i=h(r(45697)),o=h(r(9869)),l=h(r(89894)),u=h(r(89205)),d=h(r(59364)),c=h(r(36399));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.getItemString,r=e.keyPath,i=e.labelRenderer,h=e.styling,f=e.value,p=e.valueRenderer,m=e.isCustomNode,b=(0,a.default)(e,["getItemString","keyPath","labelRenderer","styling","value","valueRenderer","isCustomNode"]),y=m(f)?"Custom":(0,o.default)(f),g={getItemString:t,key:r[0],keyPath:r,labelRenderer:i,nodeType:y,styling:h,value:f,valueRenderer:p},v=(0,n.default)({},b,g,{data:f,isCustomNode:m});switch(y){case"Object":case"Error":case"WeakMap":case"WeakSet":return s.default.createElement(l.default,v);case"Array":return s.default.createElement(u.default,v);case"Iterable":case"Map":case"Set":return s.default.createElement(d.default,v);case"String":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(e){return'"'+e+'"'}}));case"Number":return s.default.createElement(c.default,g);case"Boolean":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(e){return e?"true":"false"}}));case"Date":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(e){return e.toISOString()}}));case"Null":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(){return"null"}}));case"Undefined":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(){return"undefined"}}));case"Function":case"Symbol":return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(e){return e.toString()}}));case"Custom":return s.default.createElement(c.default,g);default:return s.default.createElement(c.default,(0,n.default)({},g,{valueGetter:function(e){return"<"+y+">"}}))}};f.propTypes={getItemString:i.default.func.isRequired,keyPath:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])).isRequired,labelRenderer:i.default.func.isRequired,styling:i.default.func.isRequired,value:i.default.any,valueRenderer:i.default.func.isRequired,isCustomNode:i.default.func.isRequired},t.default=f},89894:(e,t,r)=>{"use strict";t.__esModule=!0;var n=u(r(88239)),a=u(r(42723)),s=u(r(88759)),i=u(r(67294)),o=u(r(45697)),l=u(r(88207));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=(0,s.default)(e).length;return t+" "+(1!==t?"keys":"key")}var c=function(e){var t=e.data,r=(0,a.default)(e,["data"]);return i.default.createElement(l.default,(0,n.default)({},r,{data:t,nodeType:"Object",nodeTypeIndicator:"Error"===r.nodeType?"Error()":"{}",createItemString:d,expandable:(0,s.default)(t).length>0}))};c.propTypes={data:o.default.object,nodeType:o.default.string},t.default=c},36399:(e,t,r)=>{"use strict";t.__esModule=!0;var n=s(r(67294)),a=s(r(45697));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.nodeType,r=e.styling,a=e.labelRenderer,s=e.keyPath,i=e.valueRenderer,o=e.value,l=e.valueGetter;return n.default.createElement("li",r("value",t,s),n.default.createElement("label",r(["label","valueLabel"],t,s),a(s,t,!1,!1)),n.default.createElement("span",r("valueText",t,s),i.apply(void 0,[l(o),o].concat(s))))};i.propTypes={nodeType:a.default.string.isRequired,styling:a.default.func.isRequired,labelRenderer:a.default.func.isRequired,keyPath:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number])).isRequired,valueRenderer:a.default.func.isRequired,value:a.default.any,valueGetter:a.default.func},i.defaultProps={valueGetter:function(e){return e}},t.default=i},170:(e,t,r)=>{"use strict";t.__esModule=!0;var n=i(r(88239)),a=r(67274),s=i(r(29561));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return{String:e.STRING_COLOR,Date:e.DATE_COLOR,Number:e.NUMBER_COLOR,Boolean:e.BOOLEAN_COLOR,Null:e.NULL_COLOR,Undefined:e.UNDEFINED_COLOR,Function:e.FUNCTION_COLOR,Symbol:e.SYMBOL_COLOR}};t.default=(0,a.createStyling)((function(e){var t=function(e){return{BACKGROUND_COLOR:e.base00,TEXT_COLOR:e.base07,STRING_COLOR:e.base0B,DATE_COLOR:e.base0B,NUMBER_COLOR:e.base09,BOOLEAN_COLOR:e.base09,NULL_COLOR:e.base08,UNDEFINED_COLOR:e.base08,FUNCTION_COLOR:e.base08,SYMBOL_COLOR:e.base08,LABEL_COLOR:e.base0D,ARROW_COLOR:e.base0D,ITEM_STRING_COLOR:e.base0B,ITEM_STRING_EXPANDED_COLOR:e.base03}}(e);return{tree:{border:0,padding:0,marginTop:"0.5em",marginBottom:"0.5em",marginLeft:"0.125em",marginRight:0,listStyle:"none",MozUserSelect:"none",WebkitUserSelect:"none",backgroundColor:t.BACKGROUND_COLOR},value:function(e,t,r){var a=e.style;return{style:(0,n.default)({},a,{paddingTop:"0.25em",paddingRight:0,marginLeft:"0.875em",WebkitUserSelect:"text",MozUserSelect:"text",wordWrap:"break-word",paddingLeft:r.length>1?"2.125em":"1.25em",textIndent:"-0.5em",wordBreak:"break-all"})}},label:{display:"inline-block",color:t.LABEL_COLOR},valueLabel:{margin:"0 0.5em 0 0"},valueText:function(e,r){var a=e.style;return{style:(0,n.default)({},a,{color:o(t)[r]})}},itemRange:function(e,r){return{style:{paddingTop:r?0:"0.25em",cursor:"pointer",color:t.LABEL_COLOR}}},arrow:function(e,t,r){var a=e.style;return{style:(0,n.default)({},a,{marginLeft:0,transition:"150ms",WebkitTransition:"150ms",MozTransition:"150ms",WebkitTransform:r?"rotateZ(90deg)":"rotateZ(0deg)",MozTransform:r?"rotateZ(90deg)":"rotateZ(0deg)",transform:r?"rotateZ(90deg)":"rotateZ(0deg)",transformOrigin:"45% 50%",WebkitTransformOrigin:"45% 50%",MozTransformOrigin:"45% 50%",position:"relative",lineHeight:"1.1em",fontSize:"0.75em"})}},arrowContainer:function(e,t){var r=e.style;return{style:(0,n.default)({},r,{display:"inline-block",paddingRight:"0.5em",paddingLeft:"double"===t?"1em":0,cursor:"pointer"})}},arrowSign:{color:t.ARROW_COLOR},arrowSignInner:{position:"absolute",top:0,left:"-0.4em"},nestedNode:function(e,t,r,a,s){var i=e.style;return{style:(0,n.default)({},i,{position:"relative",paddingTop:"0.25em",marginLeft:t.length>1?"0.875em":0,paddingLeft:s?0:"1.125em"})}},rootNode:{padding:0,margin:0},nestedNodeLabel:function(e,t,r,a,s){var i=e.style;return{style:(0,n.default)({},i,{margin:0,padding:0,WebkitUserSelect:s?"inherit":"text",MozUserSelect:s?"inherit":"text",cursor:s?"pointer":"default"})}},nestedNodeItemString:function(e,r,a,s){var i=e.style;return{style:(0,n.default)({},i,{paddingLeft:"0.5em",cursor:"default",color:s?t.ITEM_STRING_EXPANDED_COLOR:t.ITEM_STRING_COLOR})}},nestedNodeItemType:{marginLeft:"0.3em",marginRight:"0.3em"},nestedNodeChildren:function(e,t,r){var a=e.style;return{style:(0,n.default)({},a,{padding:0,margin:0,listStyle:"none",display:r?"block":"none"})}},rootNodeChildren:{padding:0,margin:0,listStyle:"none"}}}),{defaultBase16:s.default})},41063:(e,t,r)=>{"use strict";t.__esModule=!0;var n=i(r(26378)),a=i(r(88759)),s=i(r(88902));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return"Object"===e?(0,s.default)(t).length:"Array"===e?t.length:1/0}function l(e){return"function"==typeof e.set}function u(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=void 0;if("Object"===e){var u=(0,a.default)(t);r&&u.sort(!0===r?void 0:r),o={entries:(u=u.slice(s,i+1)).map((function(e){return{key:e,value:t[e]}}))}}else if("Array"===e)o={entries:t.slice(s,i+1).map((function(e,t){return{key:t+s,value:e}}))};else{var d=0,c=[],h=!0,f=l(t),p=t,m=Array.isArray(p),b=0;for(p=m?p:(0,n.default)(p);;){var y;if(m){if(b>=p.length)break;y=p[b++]}else{if((b=p.next()).done)break;y=b.value}var g=y;if(d>i){h=!1;break}s<=d&&(f&&Array.isArray(g)?"string"==typeof g[0]||"number"==typeof g[0]?c.push({key:g[0],value:g[1]}):c.push({key:"[entry "+d+"]",value:{"[key]":g[0],"[value]":g[1]}}):c.push({key:d,value:g})),d++}o={hasMore:!h,entries:c}}return o}function d(e,t,r){for(var n=[];t-e>r*r;)r*=r;for(var a=e;a<=t;a+=r)n.push({from:a,to:Math.min(t,a+r-1)});return n}t.default=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,i=u.bind(null,e,t,r);if(!n)return i().entries;var l=s<1/0,c=Math.min(s-a,o(e,t));if("Iterable"!==e){if(c<=n||n<7)return i(a,s).entries}else if(c<=n&&!l)return i(a,s).entries;var h=void 0;if("Iterable"===e){var f=i(a,a+n-1),p=f.hasMore,m=f.entries;h=p?[].concat(m,d(a+n,a+2*n-1,n)):m}else h=l?d(a,s,n):[].concat(i(0,n-5).entries,d(n-4,c-5,n),i(c-4,c-1).entries);return h}},80126:(e,t,r)=>{"use strict";var n=p(r(42723)),a=p(r(99663)),s=p(r(49135)),i=p(r(93196)),o=p(r(88239)),l=p(r(88902)),u=p(r(67294)),d=p(r(45697)),c=p(r(35249)),h=p(r(170)),f=r(67274);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return e};function b(e){var t=function(e,t){var r={getArrowStyle:"arrow",getListStyle:"nestedNodeChildren",getItemStringStyle:"nestedNodeItemString",getLabelStyle:"label",getValueStyle:"valueText"},n=(0,l.default)(r).filter((function(e){return t[e]}));return n.length>0&&(e="string"==typeof e?{extend:e}:(0,o.default)({},e),n.forEach((function(n){console.error('Styling method "'+n+'" is deprecated, use "theme" property instead'),e[r[n]]=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var i=e.style;return{style:(0,o.default)({},i,t[n].apply(t,a))}}}))),e}(e.theme,e);return e.invertTheme&&("string"==typeof t?t+=":inverted":t&&t.extend?t="string"==typeof t?(0,o.default)({},t,{extend:t.extend+":inverted"}):(0,o.default)({},t,{extend:(0,f.invertTheme)(t.extend)}):t&&(t=(0,f.invertTheme)(t))),{styling:(0,h.default)(t)}}var y=function(e){function t(r){(0,a.default)(this,t);var n=(0,s.default)(this,e.call(this,r));return n.state=b(r),n}return(0,i.default)(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;["theme","invertTheme"].find((function(r){return e[r]!==t.props[r]}))&&this.setState(b(e))},t.prototype.shouldComponentUpdate=function(e){var t=this;return!!(0,l.default)(e).find((function(r){return"keyPath"===r?e[r].join("/")!==t.props[r].join("/"):e[r]!==t.props[r]}))},t.prototype.render=function(){var e=this.props,t=e.data,r=e.keyPath,a=e.postprocessValue,s=e.hideRoot,i=(e.theme,e.invertTheme,(0,n.default)(e,["data","keyPath","postprocessValue","hideRoot","theme","invertTheme"])),l=this.state.styling;return u.default.createElement("ul",l("tree"),u.default.createElement(c.default,(0,o.default)({},(0,o.default)({postprocessValue:a,hideRoot:s,styling:l},i),{keyPath:s?[]:r,value:a(t)})))},t}(u.default.Component);y.propTypes={data:d.default.oneOfType([d.default.array,d.default.object]).isRequired,hideRoot:d.default.bool,theme:d.default.oneOfType([d.default.object,d.default.string]),invertTheme:d.default.bool,keyPath:d.default.arrayOf(d.default.oneOfType([d.default.string,d.default.number])),postprocessValue:d.default.func,sortObjectKeys:d.default.oneOfType([d.default.func,d.default.bool])},y.defaultProps={shouldExpandNode:function(e,t,r){return 0===r},hideRoot:!1,keyPath:["root"],getItemString:function(e,t,r,n){return u.default.createElement("span",null,r," ",n)},labelRenderer:function(e){var t=e[0];return u.default.createElement("span",null,t,":")},valueRenderer:m,postprocessValue:m,isCustomNode:function(){return!1},collectionLimit:50,invertTheme:!0},t.Z=y},9869:(e,t,r)=>{"use strict";t.__esModule=!0;var n,a=(n=r(64275))&&n.__esModule?n:{default:n};t.default=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&"function"==typeof e[a.default]?"Iterable":"Custom"===t&&e.constructor!==Object&&e instanceof Object?"Object":t}},29561:(e,t)=>{"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"}},46871:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function s(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,i=null,o=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==o){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;d.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>i}),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},80129:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(45697));var n=o(r(98141)),a=o(r(10602)),s=o(r(67294)),i=o(r(60644));function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}r(54726);var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},c=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("enter").doneClassName;t.removeClasses(e,r?"appear":"enter"),u(e,n),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"!=typeof r?r[e]:r+"-"+e;return{className:n,activeClassName:"string"!=typeof r?r[e+"Active"]:n+"-active",doneClassName:"string"!=typeof r?r[e+"Done"]:n+"-done"}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,a=r.activeClassName,s=r.doneClassName;n&&d(e,n),a&&d(e,a),s&&d(e,s)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=l({},this.props);return delete e.classNames,s.default.createElement(i.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(s.default.Component);c.propTypes={};var h=c;t.default=h,e.exports=t.default},26093:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0,i(r(45697));var n=i(r(67294)),a=r(73935),s=i(r(92381));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.handleLifecycle=function(e,t,r){var s,i=this.props.children,o=n.default.Children.toArray(i)[t];o.props[e]&&(s=o.props)[e].apply(s,r),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},o.render=function(){var e=this.props,t=e.children,r=e.in,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children","in"]),i=n.default.Children.toArray(t),o=i[0],l=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,n.default.createElement(s.default,a,r?n.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(n.default.Component);o.propTypes={};var l=o;t.default=l,e.exports=t.default},60644:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(45697)),a=o(r(67294)),s=o(r(73935)),i=r(46871);function o(e){return e&&e.__esModule?e:{default:e}}r(54726);var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var d="entering";t.ENTERING=d;var c="entered";t.ENTERED=c;var h="exiting";t.EXITING=h;var f=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var a,s=r.transitionGroup,i=s&&!s.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(a=u,n.appearStatus=d):a=c:a=t.unmountOnExit||t.mountOnEnter?l:u,n.state={status:a},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==d&&r!==c&&(t=d):r!==d&&r!==c||(t=h)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=n.appear),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=s.default.findDOMNode(this);t===d?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},i.performEnter=function(e,t){var r=this,n=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,s=this.getTimeouts();t||n?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){r.props.onEntering(e,a),r.onTransitionEnd(e,s.enter,(function(){r.safeSetState({status:c},(function(){r.props.onEntered(e,a)}))}))}))):this.safeSetState({status:c},(function(){r.props.onEntered(e)}))},i.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t,r){this.setNextCallback(r),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var s=a.default.Children.only(r);return a.default.cloneElement(s,n)},n}(a.default.Component);function p(){}f.contextTypes={transitionGroup:n.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var m=(0,i.polyfill)(f);t.default=m},92381:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=o(r(45697)),a=o(r(67294)),s=r(46871),i=r(59717);function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(e){var t,r;function n(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(u(u(n)));return n.state={handleExited:a,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=n.prototype;return s.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},s.componentDidMount=function(){this.appeared=!0,this.mounted=!0},s.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,n):(0,i.getNextChildMapping)(e,r,n),firstRender:!1}},s.handleExited=function(e,t){var r=(0,i.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=l({},t.children);return delete r[e.key],{children:r}})))},s.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["component","childFactory"]),s=d(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?s:a.default.createElement(t,n,s)},n}(a.default.Component);c.childContextTypes={transitionGroup:n.default.object.isRequired},c.propTypes={},c.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,s.polyfill)(c);t.default=h,e.exports=t.default},64317:(e,t,r)=>{"use strict";var n=o(r(80129)),a=o(r(26093)),s=o(r(92381)),i=o(r(60644));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:s.default,ReplaceTransition:a.default,CSSTransition:n.default}},59717:(e,t,r)=>{"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=s,t.getInitialChildMapping=function(e,t){return a(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:i(r,"appear",e),enter:i(r,"enter",e),exit:i(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var o=a(e.children),l=s(t,o);return Object.keys(l).forEach((function(a){var s=l[a];if((0,n.isValidElement)(s)){var u=a in t,d=a in o,c=t[a],h=(0,n.isValidElement)(c)&&!c.props.in;!d||u&&!h?d||!u||h?d&&u&&(0,n.isValidElement)(c)&&(l[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:i(s,"exit",e),enter:i(s,"enter",e)})):l[a]=(0,n.cloneElement)(s,{in:!1}):l[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:i(s,"exit",e),enter:i(s,"enter",e)})}})),l};var n=r(67294);function a(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function s(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),s=[];for(var i in e)i in t?s.length&&(a[i]=s,s=[]):s.push(i);var o={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var u=a[l][n];o[a[l][n]]=r(u)}o[l]=r(l)}for(n=0;n<s.length;n++)o[s[n]]=r(s[n]);return o}function i(e,t,r){return null!=r[t]?r[t]:e.props[t]}},54726:(e,t,r)=>{"use strict";var n;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(n=r(45697))&&n.__esModule,t.timeoutsShape=null,t.classNamesShape=null},59039:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{ADD_QUERY_EDITOR:()=>D,CHANGE_DATA_PREVIEW_ID:()=>_e,CLEAR_QUERY_RESULTS:()=>ge,CLONE_QUERY_TO_NEW_TAB:()=>M,COLLAPSE_TABLE:()=>$,COST_ESTIMATE_FAILED:()=>Re,COST_ESTIMATE_RETURNED:()=>Se,COST_ESTIMATE_STARTED:()=>Ce,CREATE_DATASOURCE_FAILED:()=>Ie,CREATE_DATASOURCE_STARTED:()=>xe,CREATE_DATASOURCE_SUCCESS:()=>Ae,CtasEnum:()=>Me,END_QUERY:()=>L,EXPAND_TABLE:()=>U,LOAD_QUERY_EDITOR:()=>oe,MERGE_TABLE:()=>Z,MIGRATE_QUERY:()=>ae,MIGRATE_QUERY_EDITOR:()=>te,MIGRATE_TABLE:()=>ne,MIGRATE_TAB_HISTORY:()=>re,QUERY_EDITOR_PERSIST_HEIGHT:()=>X,QUERY_EDITOR_SAVED:()=>P,QUERY_EDITOR_SETDB:()=>B,QUERY_EDITOR_SET_AUTORUN:()=>z,QUERY_EDITOR_SET_FUNCTION_NAMES:()=>J,QUERY_EDITOR_SET_QUERY_LIMIT:()=>K,QUERY_EDITOR_SET_SCHEMA:()=>W,QUERY_EDITOR_SET_SCHEMA_OPTIONS:()=>Q,QUERY_EDITOR_SET_SELECTED_TEXT:()=>G,QUERY_EDITOR_SET_SQL:()=>H,QUERY_EDITOR_SET_TABLE_OPTIONS:()=>F,QUERY_EDITOR_SET_TEMPLATE_PARAMS:()=>V,QUERY_EDITOR_SET_TITLE:()=>Y,QUERY_EDITOR_TOGGLE_LEFT_BAR:()=>ee,QUERY_FAILED:()=>ye,QUERY_SUCCESS:()=>be,QUERY_VALIDATION_FAILED:()=>we,QUERY_VALIDATION_RETURNED:()=>Te,REFRESH_QUERIES:()=>de,REMOVE_DATA_PREVIEW:()=>ve,REMOVE_QUERY:()=>j,REMOVE_QUERY_EDITOR:()=>q,REMOVE_TABLE:()=>k,REQUEST_QUERY_RESULTS:()=>me,RESET_STATE:()=>O,RUN_QUERY:()=>he,SET_ACTIVE_QUERY_EDITOR:()=>ie,SET_ACTIVE_SOUTHPANE_TAB:()=>ue,SET_DATABASES:()=>se,SET_TABLES:()=>le,SET_USER_OFFLINE:()=>ce,START_QUERY:()=>fe,START_QUERY_VALIDATION:()=>Ee,STOP_QUERY:()=>pe,UPDATE_QUERY_EDITOR:()=>N,addDangerToast:()=>Ne,addInfoToast:()=>Oe,addQueryEditor:()=>ot,addSuccessToast:()=>De,addTable:()=>Nt,addWarningToast:()=>Pe,changeDataPreviewId:()=>Pt,clearQueryResults:()=>Ge,cloneQueryToNewTab:()=>lt,collapseTable:()=>Zt,createCtasDatasource:()=>Kt,createDatasource:()=>Ht,createDatasourceFailed:()=>zt,createDatasourceStarted:()=>Ft,createDatasourceSuccess:()=>Yt,estimateQueryCost:()=>Ye,expandTable:()=>qt,fetchQueryResults:()=>et,loadQueryEditor:()=>dt,mergeTable:()=>It,migrateQueryEditorFromLocalStorage:()=>it,persistEditorHeight:()=>Ut,popDatasourceQuery:()=>Qt,popQuery:()=>Wt,popSavedQuery:()=>Bt,popStoredQuery:()=>$t,postStopQuery:()=>at,queryEditorSetAutorun:()=>Et,queryEditorSetDb:()=>yt,queryEditorSetFunctionNames:()=>Vt,queryEditorSetQueryLimit:()=>Rt,queryEditorSetSchema:()=>gt,queryEditorSetSchemaOptions:()=>vt,queryEditorSetSelectedText:()=>At,queryEditorSetSql:()=>St,queryEditorSetTableOptions:()=>_t,queryEditorSetTemplateParams:()=>xt,queryEditorSetTitle:()=>Tt,queryFailed:()=>Ke,querySuccess:()=>He,queryValidationFailed:()=>We,queryValidationReturned:()=>Be,reFetchQueryResults:()=>Mt,reRunQuery:()=>rt,refreshQueries:()=>Lt,removeDataPreview:()=>Je,removeQuery:()=>bt,removeQueryEditor:()=>mt,removeTable:()=>kt,requestQueryResults:()=>Xe,resetState:()=>Ue,runQuery:()=>tt,saveQuery:()=>wt,scheduleQuery:()=>Fe,setActiveQueryEditor:()=>ut,setActiveSouthPaneTab:()=>ft,setDatabases:()=>st,setTables:()=>ct,setUserOffline:()=>jt,startQuery:()=>ze,startQueryValidation:()=>$e,stopQuery:()=>Ve,switchQueryEditor:()=>ht,toggleLeftBar:()=>pt,updateQueryEditor:()=>Qe,updateSavedQuery:()=>Ct,validateQuery:()=>nt});var a=r(67294),s=r(73935),i=r(14890),o=r(37703),l=r(53894),u=r(68135),d=r(91877),c=r(93185),h=r(61988),f=r(72570),p=r(8818);function m(e=[]){const t=[];return e.forEach((([e,r])=>{const n="danger"===e?p.p.DANGER:"success"===e&&p.p.SUCCESS||p.p.INFO,a=(0,f.fz)({text:r,toastType:n}).payload;t.push(a)})),t}function b({defaultDbId:e,common:t,active_tab:r,tab_state_ids:n=[],databases:a,queries:s,requested_query:i,user:o}){const l=[],u={id:null,loaded:!0,title:(0,h.t)("Untitled query"),sql:"SELECT *\nFROM\nWHERE",selectedText:null,latestQueryId:null,autorun:!1,templateParams:null,dbId:e,functionNames:[],queryLimit:t.conf.DEFAULT_SQLLAB_LIMIT,validationResult:{id:null,errors:[],completed:!1},queryCostEstimate:{cost:null,completed:!1,error:null},hideLeftBar:!1};n.forEach((({id:e,label:t})=>{let n;n=r&&r.id===e?{id:e.toString(),loaded:!0,title:r.label,sql:r.sql||void 0,selectedText:void 0,latestQueryId:r.latest_query?r.latest_query.id:null,autorun:r.autorun,templateParams:r.template_params||void 0,dbId:r.database_id,functionNames:[],schema:r.schema,queryLimit:r.query_limit,validationResult:{id:null,errors:[],completed:!1},hideLeftBar:r.hide_left_bar}:{...u,id:e.toString(),loaded:!1,title:t},l.push(n)}));const d=r?[r.id.toString()]:[],c=[];r&&r.table_schemas.filter((e=>null!==e.description)).forEach((e=>{const{columns:t,selectStar:r,primaryKey:n,foreignKeys:a,indexes:s,dataPreviewQueryId:i,partitions:o,metadata:l}=e.description,u={dbId:e.database_id,queryEditorId:e.tab_state_id.toString(),schema:e.schema,name:e.table,expanded:e.expanded,id:e.id,isMetadataLoading:!1,isExtraMetadataLoading:!1,dataPreviewQueryId:i,columns:t,selectStar:r,primaryKey:n,foreignKeys:a,indexes:s,partitions:o,metadata:l};c.push(u)}));const f={...s};if(localStorage.getItem("redux")&&JSON.parse(localStorage.getItem("redux")).sqlLab){const{sqlLab:e}=JSON.parse(localStorage.getItem("redux"));0===e.queryEditors.length?localStorage.removeItem("redux"):(e.queryEditors.forEach((e=>l.push({...e,inLocalStorage:!0,loaded:!0}))),e.tables.forEach((e=>c.push({...e,inLocalStorage:!0}))),Object.values(e.queries).forEach((e=>{f[e.id]={...e,inLocalStorage:!0}})),d.push(...e.tabHistory))}return{sqlLab:{activeSouthPaneTab:"Results",alerts:[],databases:a,offline:!1,queries:f,queryEditors:l,tabHistory:d,tables:c,queriesLastUpdate:Date.now(),user:o},requestedQuery:i,messageToasts:m((t||{}).flash_messages||[]),localStorageUsageInKilobytes:0,common:{flash_messages:t.flash_messages,conf:t.conf}}}var y=r(61806),g=r(14670),v=r.n(g),_=r(4400),E=r.n(_),T=r(31069),w=r(63137),C=r.n(w),S=r(67523),R=r.n(S),x=r(1836),A=r(98286),I=r(66785);const O="RESET_STATE",D="ADD_QUERY_EDITOR",N="UPDATE_QUERY_EDITOR",P="QUERY_EDITOR_SAVED",M="CLONE_QUERY_TO_NEW_TAB",q="REMOVE_QUERY_EDITOR",Z="MERGE_TABLE",k="REMOVE_TABLE",L="END_QUERY",j="REMOVE_QUERY",U="EXPAND_TABLE",$="COLLAPSE_TABLE",B="QUERY_EDITOR_SETDB",W="QUERY_EDITOR_SET_SCHEMA",Q="QUERY_EDITOR_SET_SCHEMA_OPTIONS",F="QUERY_EDITOR_SET_TABLE_OPTIONS",Y="QUERY_EDITOR_SET_TITLE",z="QUERY_EDITOR_SET_AUTORUN",H="QUERY_EDITOR_SET_SQL",K="QUERY_EDITOR_SET_QUERY_LIMIT",V="QUERY_EDITOR_SET_TEMPLATE_PARAMS",G="QUERY_EDITOR_SET_SELECTED_TEXT",J="QUERY_EDITOR_SET_FUNCTION_NAMES",X="QUERY_EDITOR_PERSIST_HEIGHT",ee="QUERY_EDITOR_TOGGLE_LEFT_BAR",te="MIGRATE_QUERY_EDITOR",re="MIGRATE_TAB_HISTORY",ne="MIGRATE_TABLE",ae="MIGRATE_QUERY",se="SET_DATABASES",ie="SET_ACTIVE_QUERY_EDITOR",oe="LOAD_QUERY_EDITOR",le="SET_TABLES",ue="SET_ACTIVE_SOUTHPANE_TAB",de="REFRESH_QUERIES",ce="SET_USER_OFFLINE",he="RUN_QUERY",fe="START_QUERY",pe="STOP_QUERY",me="REQUEST_QUERY_RESULTS",be="QUERY_SUCCESS",ye="QUERY_FAILED",ge="CLEAR_QUERY_RESULTS",ve="REMOVE_DATA_PREVIEW",_e="CHANGE_DATA_PREVIEW_ID",Ee="START_QUERY_VALIDATION",Te="QUERY_VALIDATION_RETURNED",we="QUERY_VALIDATION_FAILED",Ce="COST_ESTIMATE_STARTED",Se="COST_ESTIMATE_RETURNED",Re="COST_ESTIMATE_FAILED",xe="CREATE_DATASOURCE_STARTED",Ae="CREATE_DATASOURCE_SUCCESS",Ie="CREATE_DATASOURCE_FAILED",Oe=f.bM,De=f.ws,Ne=f.Gb,Pe=f.Dz,Me={TABLE:"TABLE",VIEW:"VIEW"},qe=(0,h.t)("The query couldn't be loaded"),Ze={id:"remoteId",db_id:"dbId",client_id:"id",label:"title"},ke=e=>t=>R()(t,((t,r)=>r in e?e[r]:r)),Le=ke(C()(Ze)),je=ke(Ze);function Ue(){return{type:O}}function $e(e){return Object.assign(e,{id:e.id?e.id:v().generate()}),{type:Ee,query:e}}function Be(e,t){return{type:Te,query:e,results:t}}function We(e,t,r){return{type:we,query:e,message:t,error:r}}function Qe(e){return{type:N,alterations:e}}function Fe(e){return t=>T.Z.post({endpoint:"/savedqueryviewapi/api/create",postPayload:e,stringify:!1}).then((()=>t(De((0,h.t)("Your query has been scheduled. To see details of your query, navigate to Saved queries"))))).catch((()=>t(Ne((0,h.t)("Your query could not be scheduled")))))}function Ye(e){const{dbId:t,schema:r,sql:n,templateParams:a}=e,s=null===r?`/superset/estimate_query_cost/${t}/`:`/superset/estimate_query_cost/${t}/${r}/`;return t=>Promise.all([t({type:Ce,query:e}),T.Z.post({endpoint:s,postPayload:{sql:n,templateParams:JSON.parse(a||"{}")}}).then((({json:r})=>t({type:Se,query:e,json:r}))).catch((r=>(0,A.O)(r).then((r=>{const n=r.error||r.statusText||(0,h.t)("Failed at retrieving results");return t({type:Re,query:e,error:n})}))))])}function ze(e){return Object.assign(e,{id:e.id?e.id:v().generate(),progress:0,startDttm:(0,x.zO)(),state:e.runAsync?"pending":"running",cached:!1}),{type:fe,query:e}}function He(e,t){return function(r){return(!e.isDataPreview&&(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${t.query.sqlEditorId}`),postPayload:{latest_query_id:e.id}}):Promise.resolve()).then((()=>r({type:be,query:e,results:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while storing the latest query id in the backend. Please contact your administrator if this problem persists.")))))}}function Ke(e,t,r,n){return function(a){return(!e.isDataPreview&&(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.sqlEditorId}`),postPayload:{latest_query_id:e.id}}):Promise.resolve()).catch((()=>a(Ne((0,h.t)("An error occurred while storing the latest query id in the backend. Please contact your administrator if this problem persists."))))).then((()=>a({type:ye,query:e,msg:t,link:r,errors:n})))}}function Ve(e){return{type:pe,query:e}}function Ge(e){return{type:ge,query:e}}function Je(e){return{type:ve,table:e}}function Xe(e){return{type:me,query:e}}function et(e,t){return function(r){return r(Xe(e)),T.Z.get({endpoint:`/superset/results/${e.resultsKey}/?rows=${t}`,parseMethod:"text"}).then((({text:t="{}"})=>{const n=E().parse(t);return r(He(e,n))})).catch((t=>(0,A.O)(t).then((t=>{const n=t.error||t.statusText||(0,h.t)("Failed at retrieving results");return r(Ke(e,n,t.link,t.errors))}))))}}function tt(e){return function(t){t(ze(e));const r={client_id:e.id,database_id:e.dbId,json:!0,runAsync:e.runAsync,schema:e.schema,sql:e.sql,sql_editor_id:e.sqlEditorId,tab:e.tab,tmp_table_name:e.tempTable,select_as_cta:e.ctas,ctas_method:e.ctas_method,templateParams:e.templateParams,queryLimit:e.queryLimit,expand_data:!0};return T.Z.post({endpoint:"/superset/sql_json/",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},parseMethod:"text"}).then((({text:r="{}"})=>{if(!e.runAsync){const n=E().parse(r);t(He(e,n))}})).catch((r=>(0,A.O)(r).then((r=>{let n=r.error||r.statusText||(0,h.t)("Unknown error");n.includes("CSRF token")&&(n=(0,h.t)(I.Z.SESSION_TIMED_OUT)),t(Ke(e,n,r.link,r.errors))}))))}}function rt(e){return function(t){t(tt({...e,id:v().generate()}))}}function nt(e){return function(t){t($e(e));const r={client_id:e.id,database_id:e.dbId,json:!0,schema:e.schema,sql:e.sql,sql_editor_id:e.sqlEditorId,templateParams:e.templateParams,validate_only:!0};return T.Z.post({endpoint:`/superset/validate_sql_json/${window.location.search}`,postPayload:r,stringify:!1}).then((({json:r})=>t(Be(e,r)))).catch((r=>(0,A.O)(r).then((r=>{let n=r.error||r.statusText||(0,h.t)("Unknown error");n.includes("CSRF token")&&(n=(0,h.t)(I.Z.SESSION_TIMED_OUT)),t(We(e,n,r))}))))}}function at(e){return function(t){return T.Z.post({endpoint:"/superset/stop_query/",postPayload:{client_id:e.id},stringify:!1}).then((()=>t(Ve(e)))).then((()=>t(De((0,h.t)("Query was stopped."))))).catch((()=>t(Ne((0,h.t)("Failed at stopping query. %s",e.id)))))}}function st(e){return{type:se,databases:e}}function it(e,t,r){return function(n){return T.Z.post({endpoint:"/tabstateview/",postPayload:{queryEditor:e}}).then((({json:a})=>{const s={...e,id:a.id.toString()};return n({type:te,oldQueryEditor:e,newQueryEditor:s}),n({type:re,oldId:e.id,newId:s.id}),Promise.all([...t.map((e=>function(e,t,r){return T.Z.post({endpoint:encodeURI("/tableschemaview/"),postPayload:{table:{...e,queryEditorId:t}}}).then((({json:n})=>{const a={...e,id:n.id,queryEditorId:t};return r({type:ne,oldTable:e,newTable:a})})).catch((()=>r(Pe((0,h.t)("Unable to migrate table schema state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}(e,s.id,n))),...r.map((e=>function(e,t,r){return T.Z.post({endpoint:encodeURI(`/tabstateview/${t}/migrate_query`),postPayload:{queryId:e}}).then((()=>r({type:ae,queryId:e,queryEditorId:t}))).catch((()=>r(Pe((0,h.t)("Unable to migrate query state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}(e.id,s.id,n)))])})).catch((()=>n(Pe((0,h.t)("Unable to migrate query editor state to backend. Superset will retry later. Please contact your administrator if this problem persists.")))))}}function ot(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.post({endpoint:"/tabstateview/",postPayload:{queryEditor:e}}):Promise.resolve({json:{id:v().generate()}})).then((({json:r})=>{const n={...e,id:r.id.toString()};return t({type:D,queryEditor:n})})).catch((()=>t(Ne((0,h.t)("Unable to add a new tab to the backend. Please contact your administrator.")))))}}function lt(e,t){return function(r,n){const a=n(),{queryEditors:s,tabHistory:i}=a.sqlLab,o=s.find((e=>e.id===i[i.length-1]));return r(ot({title:(0,h.t)("Copy of %s",o.title),dbId:e.dbId?e.dbId:null,schema:e.schema?e.schema:null,autorun:t,sql:e.sql,queryLimit:o.queryLimit,maxRow:o.maxRow,templateParams:o.templateParams}))}}function ut(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.post({endpoint:encodeURI(`/tabstateview/${e.id}/activate`)}):Promise.resolve()).then((()=>t({type:ie,queryEditor:e}))).catch((r=>404!==r.status?t(Ne((0,h.t)("An error occurred while setting the active tab. Please contact your administrator."))):t({type:q,queryEditor:e})))}}function dt(e){return{type:oe,queryEditor:e}}function ct(e){const t=e.filter((e=>null!==e.description)).map((e=>{const{columns:t,selectStar:r,primaryKey:n,foreignKeys:a,indexes:s,dataPreviewQueryId:i}=e.description;return{dbId:e.database_id,queryEditorId:e.tab_state_id.toString(),schema:e.schema,name:e.table,expanded:e.expanded,id:e.id,dataPreviewQueryId:i,columns:t,selectStar:r,primaryKey:n,foreignKeys:a,indexes:s,isMetadataLoading:!1,isExtraMetadataLoading:!1}}));return{type:le,tables:t}}function ht(e,t){return function(r){(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)&&!e.loaded?T.Z.get({endpoint:encodeURI(`/tabstateview/${e.id}`)}).then((({json:e})=>{const n={id:e.id.toString(),loaded:!0,title:e.label,sql:e.sql,selectedText:null,latestQueryId:e.latest_query?e.latest_query.id:null,autorun:e.autorun,dbId:e.database_id,templateParams:e.template_params,schema:e.schema,queryLimit:e.query_limit,validationResult:{id:null,errors:[],completed:!1},hideLeftBar:e.hide_left_bar};r(dt(n)),r(ct(e.table_schemas||[])),r(ut(n)),e.latest_query&&e.latest_query.resultsKey&&r(et(e.latest_query,t))})).catch((t=>404!==t.status?r(Ne((0,h.t)("An error occurred while fetching tab state"))):r({type:q,queryEditor:e}))):r(ut(e))}}function ft(e){return{type:ue,tabId:e}}function pt(e){const t=!e.hideLeftBar;return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{hide_left_bar:t}}):Promise.resolve()).then((()=>r({type:ee,queryEditor:e,hideLeftBar:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while hiding the left bar. Please contact your administrator.")))))}}function mt(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.delete({endpoint:encodeURI(`/tabstateview/${e.id}`)}):Promise.resolve()).then((()=>t({type:q,queryEditor:e}))).catch((()=>t(Ne((0,h.t)("An error occurred while removing tab. Please contact your administrator.")))))}}function bt(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.delete({endpoint:encodeURI(`/tabstateview/${e.sqlEditorId}/query/${e.id}`)}):Promise.resolve()).then((()=>t({type:j,query:e}))).catch((()=>t(Ne((0,h.t)("An error occurred while removing query. Please contact your administrator.")))))}}function yt(e,t){return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{database_id:t}}):Promise.resolve()).then((()=>r({type:B,queryEditor:e,dbId:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab database ID. Please contact your administrator.")))))}}function gt(e,t){return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{schema:t}}):Promise.resolve()).then((()=>r({type:W,queryEditor:e,schema:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab schema. Please contact your administrator.")))))}}function vt(e,t){return{type:Q,queryEditor:e,options:t}}function _t(e,t){return{type:F,queryEditor:e,options:t}}function Et(e,t){return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{autorun:t}}):Promise.resolve()).then((()=>r({type:z,queryEditor:e,autorun:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab autorun. Please contact your administrator.")))))}}function Tt(e,t){return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{label:t}}):Promise.resolve()).then((()=>r({type:Y,queryEditor:e,title:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab title. Please contact your administrator.")))))}}function wt(e){return t=>T.Z.post({endpoint:"/savedqueryviewapi/api/create",postPayload:Le(e),stringify:!1}).then((r=>{t({type:P,query:e,result:je(r.json.item)}),t(De((0,h.t)("Your query was saved"))),t(Tt(e,e.title))})).catch((()=>t(Ne((0,h.t)("Your query could not be saved")))))}function Ct(e){return t=>T.Z.put({endpoint:`/savedqueryviewapi/api/update/${e.remoteId}`,postPayload:Le(e),stringify:!1}).then((()=>{t(De((0,h.t)("Your query was updated"))),t(Tt(e,e.title))})).catch((()=>t(Ne((0,h.t)("Your query could not be updated"))))).then((()=>t(Qe(e))))}function St(e,t){return function(r){return r({type:H,queryEditor:e,sql:t}),(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{sql:t,latest_query_id:e.latestQueryId}}).catch((()=>r(Ne((0,h.t)('An error occurred while storing your query in the backend. To avoid losing your changes, please save your query using the "Save Query" button.'))))):Promise.resolve()}}function Rt(e,t){return function(r){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{query_limit:t}}):Promise.resolve()).then((()=>r({type:K,queryEditor:e,queryLimit:t}))).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab title. Please contact your administrator.")))))}}function xt(e,t){return function(r){return r({type:V,queryEditor:e,templateParams:t}),((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.put({endpoint:encodeURI(`/tabstateview/${e.id}`),postPayload:{template_params:t}}):Promise.resolve()).catch((()=>r(Ne((0,h.t)("An error occurred while setting the tab template parameters. Please contact your administrator.")))))}}function At(e,t){return{type:G,queryEditor:e,sql:t}}function It(e,t){return{type:Z,table:e,query:t}}function Ot(e,t,r){return T.Z.get({endpoint:encodeURI(`/api/v1/database/${t.dbId}/table/${encodeURIComponent(e.name)}/${encodeURIComponent(e.schema)}/`)}).then((({json:n})=>{const a={id:v().generate(),dbId:t.dbId,sql:n.selectStar,tableName:e.name,sqlEditorId:null,tab:"",runAsync:!1,ctas:!1,isDataPreview:!0},s={...e,...n,expanded:!0,isMetadataLoading:!1,dataPreviewQueryId:a.id};return Promise.all([r(It(s,a)),r(tt(a))]),s})).catch((()=>Promise.all([r(It({...e,isMetadataLoading:!1})),r(Ne((0,h.t)("An error occurred while fetching table metadata")))])))}function Dt(e,t,r){return T.Z.get({endpoint:encodeURI(`/superset/extra_table_metadata/${t.dbId}/${encodeURIComponent(e.name)}/${encodeURIComponent(e.schema)}/`)}).then((({json:t})=>(r(It({...e,...t,isExtraMetadataLoading:!1})),t))).catch((()=>Promise.all([r(It({...e,isExtraMetadataLoading:!1})),r(Ne((0,h.t)("An error occurred while fetching table metadata")))])))}function Nt(e,t,r){return function(n){const a={dbId:e.dbId,queryEditorId:e.id,schema:r,name:t};return n(It({...a,isMetadataLoading:!0,isExtraMetadataLoading:!0,expanded:!0})),Promise.all([Ot(a,e,n),Dt(a,e,n)]).then((([e,t])=>((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.post({endpoint:encodeURI("/tableschemaview/"),postPayload:{table:{...e,...t}}}):Promise.resolve({json:{id:v().generate()}})).then((({json:e})=>n(It({...a,id:e.id})))).catch((()=>n(Ne((0,h.t)("An error occurred while fetching table metadata. Please contact your administrator.")))))))}}function Pt(e,t){return{type:_e,oldQueryId:e,newQuery:t}}function Mt(e){return function(t){const r={id:v().generate(),dbId:e.dbId,sql:e.sql,tableName:e.tableName,sqlEditorId:null,tab:"",runAsync:!1,ctas:!1,queryLimit:e.queryLimit,isDataPreview:e.isDataPreview};t(tt(r)),t(Pt(e.id,r))}}function qt(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.post({endpoint:encodeURI(`/tableschemaview/${e.id}/expanded`),postPayload:{expanded:!0}}):Promise.resolve()).then((()=>t({type:U,table:e}))).catch((()=>t(Ne((0,h.t)("An error occurred while expanding the table schema. Please contact your administrator.")))))}}function Zt(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.post({endpoint:encodeURI(`/tableschemaview/${e.id}/expanded`),postPayload:{expanded:!1}}):Promise.resolve()).then((()=>t({type:$,table:e}))).catch((()=>t(Ne((0,h.t)("An error occurred while collapsing the table schema. Please contact your administrator.")))))}}function kt(e){return function(t){return((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?T.Z.delete({endpoint:encodeURI(`/tableschemaview/${e.id}`)}):Promise.resolve()).then((()=>t({type:k,table:e}))).catch((()=>t(Ne((0,h.t)("An error occurred while removing the table schema. Please contact your administrator.")))))}}function Lt(e){return{type:de,alteredQueries:e}}function jt(e){return{type:ce,offline:e}}function Ut(e,t,r){return{type:X,queryEditor:e,northPercent:t,southPercent:r}}function $t(e){return function(t){return T.Z.get({endpoint:`/kv/${e}`}).then((({json:e})=>t(ot({title:e.title?e.title:(0,h.t)("Shared query"),dbId:e.dbId?parseInt(e.dbId,10):null,schema:e.schema?e.schema:null,autorun:!!e.autorun&&e.autorun,sql:e.sql?e.sql:"SELECT ..."})))).catch((()=>t(Ne(qe))))}}function Bt(e){return function(t){return T.Z.get({endpoint:`/savedqueryviewapi/api/get/${e}`}).then((({json:e})=>{const r={...je(e.result),autorun:!1};return t(ot(r))})).catch((()=>t(Ne(qe))))}}function Wt(e){return function(t){return T.Z.get({endpoint:`/api/v1/query/${e}`}).then((({json:e})=>{const r=e.result,n={dbId:r.database.id,schema:r.schema,sql:r.sql,title:`Copy of ${r.tab_name}`,autorun:!1};return t(ot(n))})).catch((()=>t(Ne(qe))))}}function Qt(e,t){return function(r){return T.Z.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`}).then((({json:e})=>r(ot({title:`Query ${e.name}`,dbId:e.database.id,schema:e.schema,autorun:void 0!==t,sql:t||e.select_star})))).catch((()=>r(Ne((0,h.t)("The datasource couldn't be loaded")))))}}function Ft(){return{type:xe}}function Yt(e){const t=`${e.table_id}__table`;return{type:Ae,datasource:t}}function zt(e){return{type:Ie,err:e}}function Ht(e){return t=>(t(Ft()),T.Z.post({endpoint:"/superset/sqllab_viz/",postPayload:{data:e}}).then((({json:e})=>(t(Yt(e)),Promise.resolve(e)))).catch((()=>(t(zt((0,h.t)("An error occurred while creating the data source"))),Promise.reject()))))}function Kt(e){return t=>(t(Ft()),T.Z.post({endpoint:"/superset/get_or_create_table/",postPayload:{data:e}}).then((({json:e})=>(t(Yt(e)),e))).catch((()=>{const e=(0,h.t)("An error occurred while creating the data source");return t(zt(e)),Promise.reject(new Error(e))})))}function Vt(e,t){return function(r){return T.Z.get({endpoint:encodeURI(`/api/v1/database/${t}/function_names/`)}).then((({json:t})=>r({type:J,queryEditor:e,functionNames:t.function_names}))).catch((()=>r(Ne((0,h.t)("An error occurred while fetching function names.")))))}}var Gt=r(99543);const Jt=(0,i.UY)({sqlLab:function e(t={},r){const n={[D](){const e=t.tabHistory.slice();e.push(r.queryEditor.id);const n={...t,tabHistory:e};return(0,Gt._0)(n,"queryEditors",r.queryEditor)},[P](){const{query:e,result:n}=r,a=t.queryEditors.find((t=>t.id===e.id));return(0,Gt.gf)(t,"queryEditors",a,{remoteId:n.remoteId,title:e.title},"id")},[N](){const e=r.alterations.remoteId,n=t.queryEditors.find((t=>t.remoteId===e));return null==n?t:(0,Gt.gf)(t,"queryEditors",n,r.alterations,"remoteId")},[M](){const n=t.queryEditors.find((e=>e.id===t.tabHistory[t.tabHistory.length-1])),a={remoteId:n.remoteId,title:(0,h.t)("Copy of %s",n.title),dbId:r.query.dbId?r.query.dbId:null,schema:r.query.schema?r.query.schema:null,autorun:!0,sql:r.query.sql,queryLimit:r.query.queryLimit,maxRow:r.query.maxRow};return e(t,ot(a))},[q](){let e=(0,Gt.gP)(t,"queryEditors",r.queryEditor);const n=e.queryEditors.map((e=>e.id)),a={};Object.keys(t.queries).forEach((e=>{const r=t.queries[e];n.indexOf(r.sqlEditorId)>-1&&(a[e]=r)}));let s=t.tabHistory.slice();s=s.filter((e=>n.indexOf(e)>-1));const i=t.tables.filter((e=>e.queryEditorId!==r.queryEditor.id));return e={...e,tabHistory:s,tables:i,queries:a},e},[j](){const e={...t.queries};return delete e[r.query.id],{...t,queries:e}},[O]:()=>({...b()}),[Z](){const e={...r.table};let n;if(t.tables.forEach((t=>{t.dbId===e.dbId&&t.queryEditorId===e.queryEditorId&&t.schema===e.schema&&t.name===e.name&&(n=t)})),n)return r.query&&(e.dataPreviewQueryId=r.query.id),(0,Gt.gf)(t,"tables",n,e);e.dataPreviewQueryId=null;let a=(0,Gt._0)(t,"tables",e);return r.query&&(a=(0,Gt.gf)(a,"tables",e,{dataPreviewQueryId:r.query.id})),a},[U]:()=>(0,Gt.gf)(t,"tables",r.table,{expanded:!0}),[ve](){const e={...t.queries};return delete e[r.table.dataPreviewQueryId],{...(0,Gt.gf)(t,"tables",r.table,{dataPreviewQueryId:null}),queries:e}},[_e](){const e={...t.queries};delete e[r.oldQueryId];const n=[];return t.tables.forEach((e=>{e.dataPreviewQueryId===r.oldQueryId?n.push({...e,dataPreviewQueryId:r.newQuery.id}):n.push(e)})),{...t,queries:e,tables:n,activeSouthPaneTab:r.newQuery.id}},[$]:()=>(0,Gt.gf)(t,"tables",r.table,{expanded:!1}),[k]:()=>(0,Gt.gP)(t,"tables",r.table),[Ee](){let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{validationResult:{id:r.query.id,errors:[],completed:!1}}),e},[Te](){if((0,Gt.p1)(t.queryEditors,r.query.sqlEditorId).validationResult.id!==r.query.id)return t;let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{validationResult:{id:r.query.id,errors:r.results,completed:!0}}),e},[we](){if((0,Gt.p1)(t.queryEditors,r.query.sqlEditorId).validationResult.id!==r.query.id)return t;let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{validationResult:{id:r.query.id,errors:[{line_number:1,start_column:1,end_column:1,message:`The server failed to validate your query.\n${r.message}`}],completed:!0}}),e},[Ce](){let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{queryCostEstimate:{completed:!1,cost:null,error:null}}),e},[Se](){let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{queryCostEstimate:{completed:!0,cost:r.json,error:null}}),e},[Re](){let e={...t};const n={id:r.query.sqlEditorId};return e=(0,Gt.gf)(e,"queryEditors",n,{queryCostEstimate:{completed:!1,cost:null,error:r.error}}),e},[fe](){let e={...t};if(r.query.sqlEditorId){const n=(0,Gt.p1)(t.queryEditors,r.query.sqlEditorId);if(n.latestQueryId&&t.queries[n.latestQueryId]){const r={...t.queries[n.latestQueryId].results,data:[],query:null},a={...t.queries[n.latestQueryId],results:r},s={...t.queries,[a.id]:a};e={...t,queries:s}}}else e.activeSouthPaneTab=r.query.id;e=(0,Gt.SJ)(e,"queries",r.query);const n={id:r.query.sqlEditorId};return(0,Gt.gf)(e,"queryEditors",n,{latestQueryId:r.query.id})},[pe]:()=>(0,Gt.wK)(t,"queries",r.query,{state:"stopped",results:[]}),[ge](){const e={...r.query.results};return e.data=[],(0,Gt.wK)(t,"queries",r.query,{results:e,cached:!0})},[me]:()=>(0,Gt.wK)(t,"queries",r.query,{state:"fetching"}),[be](){var e,n,a,s,i,o,l,u;if("stopped"===r.query.state)return t;const d={endDttm:(0,x.zO)(),progress:100,results:r.results,rows:null==r||null==(e=r.results)||null==(n=e.data)?void 0:n.length,state:"success",limitingFactor:null==r||null==(a=r.results)||null==(s=a.query)?void 0:s.limitingFactor,tempSchema:null==r||null==(i=r.results)||null==(o=i.query)?void 0:o.tempSchema,tempTable:null==r||null==(l=r.results)||null==(u=l.query)?void 0:u.tempTable,errorMessage:null,cached:!1};return(0,Gt.wK)(t,"queries",r.query,d)},[ye](){if("stopped"===r.query.state)return t;const e={state:"failed",errors:r.errors,errorMessage:r.msg,endDttm:(0,x.zO)(),link:r.link};return(0,Gt.wK)(t,"queries",r.query,e)},[ie](){if(t.queryEditors.map((e=>e.id)).indexOf(r.queryEditor.id)>-1&&t.tabHistory[t.tabHistory.length-1]!==r.queryEditor.id){const e=t.tabHistory.slice();return e.push(r.queryEditor.id),{...t,tabHistory:e}}return t},[oe]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{...r.queryEditor}),[le]:()=>(0,Gt.zd)(t,"tables",r.tables),[ue]:()=>({...t,activeSouthPaneTab:r.tabId}),[te](){const{sqlLab:e}=JSON.parse(localStorage.getItem("redux"));return e.queryEditors=e.queryEditors.filter((e=>e.id!==r.oldQueryEditor.id)),localStorage.setItem("redux",JSON.stringify({sqlLab:e})),(0,Gt._0)((0,Gt.gP)(t,"queryEditors",r.oldQueryEditor),"queryEditors",r.newQueryEditor)},[ne](){const{sqlLab:e}=JSON.parse(localStorage.getItem("redux"));return e.tables=e.tables.filter((e=>e.id!==r.oldTable.id)),localStorage.setItem("redux",JSON.stringify({sqlLab:e})),(0,Gt._0)((0,Gt.gP)(t,"tables",r.oldTable),"tables",r.newTable)},[re](){const{sqlLab:e}=JSON.parse(localStorage.getItem("redux"));e.tabHistory=e.tabHistory.filter((e=>e!==r.oldId)),localStorage.setItem("redux",JSON.stringify({sqlLab:e}));const n=t.tabHistory.filter((e=>e!==r.oldId));return n.push(r.newId),{...t,tabHistory:n}},[ae](){const e={...t.queries[r.queryId],sqlEditorId:r.queryEditorId},n={...t.queries,[e.id]:e};return{...t,queries:n}},[B]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{dbId:r.dbId}),[J]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{functionNames:r.functionNames}),[W]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{schema:r.schema}),[Q]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{schemaOptions:r.options}),[F]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{tableOptions:r.options}),[Y]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{title:r.title}),[H]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{sql:r.sql}),[K]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{queryLimit:r.queryLimit}),[V]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{templateParams:r.templateParams}),[G]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{selectedText:r.sql}),[z]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{autorun:r.autorun}),[X]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{northPercent:r.northPercent,southPercent:r.southPercent}),[ee]:()=>(0,Gt.gf)(t,"queryEditors",r.queryEditor,{hideLeftBar:r.hideLeftBar}),[se](){const e={};return r.databases.forEach((t=>{e[t.id]={...t,extra_json:JSON.parse(t.extra||"")}})),{...t,databases:e}},[de](){let e={...t.queries},n=!1,{queriesLastUpdate:a}=t;return Object.entries(r.alteredQueries).forEach((([r,s])=>{if(!t.queries.hasOwnProperty(r)||"stopped"!==t.queries[r].state&&"failed"!==t.queries[r].state){var i;s.changedOn>a&&(a=s.changedOn);const o=null==(i=t.queries[r])?void 0:i.state,l=s.state;e[r]={...t.queries[r],...s,state:"success"===l&&["fetching","success"].includes(o)?o:l},n=!0}})),n||(e=t.queries),{...t,queries:e,queriesLastUpdate:a}},[ce]:()=>({...t,offline:r.offline}),[xe]:()=>({...t,isDatasourceLoading:!0,errorMessage:null}),[Ae]:()=>({...t,isDatasourceLoading:!1,errorMessage:null,datasource:r.datasource}),[Ie]:()=>({...t,isDatasourceLoading:!1,errorMessage:r.err})};return r.type in n?n[r.type]():t},localStorageUsageInKilobytes:function(e=0){return e},messageToasts:y.Z,common:function(e={}){return e}});r(15306);var Xt=r(45697),er=r.n(Xt),tr=r(51995),rr=r(23493),nr=r.n(rr),ar=r(5951),sr=r(44904),ir=r(5872),or=r.n(ir),lr=r(16114),ur=r(11965);const dr=tr.iK.div`
  width: ${({theme:e})=>.75*e.gridUnit}px;
  height: ${({theme:e})=>.75*e.gridUnit}px;
  border-radius: 50%;
  background-color: ${({theme:e})=>e.colors.grayscale.light1};

  font-weight: ${({theme:e})=>e.typography.weights.normal};
  display: inline-flex;
  position: relative;

  &:hover {
    background-color: ${({theme:e})=>e.colors.primary.base};

    &::before,
    &::after {
      background-color: ${({theme:e})=>e.colors.primary.base};
    }
  }

  &::before,
  &::after {
    position: absolute;
    content: ' ';
    width: ${({theme:e})=>.75*e.gridUnit}px;
    height: ${({theme:e})=>.75*e.gridUnit}px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.grayscale.light1};
  }

  &::before {
    top: ${({theme:e})=>e.gridUnit}px;
  }

  &::after {
    bottom: ${({theme:e})=>e.gridUnit}px;
  }
`,cr=tr.iK.div`
  display: flex;
  align-items: center;
  padding: ${({theme:e})=>2*e.gridUnit}px;
  padding-left: ${({theme:e})=>e.gridUnit}px;
`,hr=({overlay:e,...t})=>(0,ur.tZ)(lr.Z,or()({overlay:e},t),(0,ur.tZ)(cr,null,(0,ur.tZ)(dr,null)));var fr=r(40637),pr=r(82191),mr=r(54998),br=r.n(mr),yr=r(58593),gr=r(54076),vr=r(64317),_r=r(40323),Er=r(23279),Tr=r.n(Er),wr=r(74069),Cr=r(42441),Sr=r.n(Cr),Rr=r(35932),xr=r(37921);const Ar=(0,tr.iK)(xr.Z)`
  text-align: left;
  width: 91px;
`;function Ir({endTime:e,isRunning:t,startTime:r,status:n="success"}){const[s,i]=(0,a.useState)("00:00:00.00"),o=(0,a.useRef)();return(0,a.useEffect)((()=>{const n=()=>{o.current&&(clearInterval(o.current),o.current=void 0)};return t&&(o.current=setInterval((()=>{if(r){const a=e||(0,x.zO)();r<a&&i((0,x.zQ)(r,a)),t||n()}}),30)),n}),[e,t,r]),(0,ur.tZ)(Ar,{type:n,role:"timer"},s)}var Or,Dr=r(38097);!function(e){e.filter_box_transition_snoozed_at="filter_box_transition_snoozed_at",e.chart_split_sizes="chart_split_sizes",e.controls_width="controls_width",e.datasource_width="datasource_width",e.is_datapanel_open="is_datapanel_open",e.homepage_chart_filter="homepage_chart_filter",e.homepage_dashboard_filter="homepage_dashboard_filter",e.homepage_collapse_state="homepage_collapse_state",e.homepage_activity_filter="homepage_activity_filter",e.sqllab__is_autocomplete_enabled="sqllab__is_autocomplete_enabled"}(Or||(Or={}));var Nr=r(82607),Pr=r(9882),Mr=r(68073),qr=r(94670),Zr=r(27600);const kr=(0,tr.iK)(qr.Z5)`
  &.ace_editor {
    border: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
  }
`;var Lr={name:"6n1ert",styles:"width:inherit"};const jr=function({code:e="{}",language:t,onChange:r=(()=>{})}){const[n,s]=(0,a.useState)({}),[i,o]=(0,a.useState)(!0);(0,a.useEffect)((()=>{try{s(JSON.parse(e)),o(!0)}catch{s({}),o(!1)}}),[e]);const l=(0,ur.tZ)("div",null,(0,ur.tZ)("p",null,"Assign a set of parameters as",(0,ur.tZ)("code",null,"JSON"),"below (example:",(0,ur.tZ)("code",null,'{"my_table": "foo"}'),"), and they become available in your SQL (example:",(0,ur.tZ)("code",null,"SELECT * FROM ","{{ my_table }}"," "),") by usingÂ ",(0,ur.tZ)("a",{href:"https://superset.apache.org/sqllab.html#templating-with-jinja",target:"_blank",rel:"noopener noreferrer"},"Jinja templating")," ","syntax."),(0,ur.tZ)(kr,{keywords:[],mode:t,minLines:25,maxLines:50,onChange:Tr()(r,Zr.oP),width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:e})),u=n?Object.keys(n).length:0;return(0,ur.tZ)(Mr.Z,{modalTitle:(0,h.t)("Template parameters"),triggerNode:(0,ur.tZ)(yr.u,{id:"parameters-tooltip",placement:"top",title:(0,h.t)("Edit template parameters"),trigger:["hover"]},(0,ur.tZ)("div",{role:"button",css:Lr},(0,h.t)("Parameters "),(0,ur.tZ)(Nr.Z,{count:u}),!i&&(0,ur.tZ)(Pr.V,{icon:"exclamation-triangle",bsStyle:"danger",tooltip:(0,h.t)("Invalid JSON"),label:"invalid-json"}))),modalBody:l})};var Ur=r(29487),$r=r(30381),Br=r.n($r),Wr=r(57011),Qr=r(67135),Fr=r(76962),Yr={name:"1qbe4ct",styles:"& :nth-child(1):not(:nth-last-child(1)){border-top-right-radius:0;border-bottom-right-radius:0;border-right:0;margin-left:0;}& :not(:nth-child(1)):not(:nth-last-child(1)){border-radius:0;border-right:0;margin-left:0;}& :nth-last-child(1):not(:nth-child(1)){border-top-left-radius:0;border-bottom-left-radius:0;margin-left:0;}"};function zr(e){const{className:t,children:r}=e;return(0,ur.tZ)("div",{role:"group",className:t,css:Yr},r)}var Hr=r(15926),Kr=r.n(Hr),Vr=r(22102),Gr=r(72875),Jr=r(87183);const Xr=tr.iK.div`
  .smd-body {
    margin: 0 8px;
  }
  .smd-input {
    margin-left: 45px;
    width: 401px;
  }
  .smd-autocomplete {
    margin-left: 8px;
    width: 401px;
  }
  .smd-radio {
    display: block;
    height: 30px;
    margin: 10px 0px;
    line-height: 30px;
  }
  .smd-overwrite-msg {
    margin: 7px;
  }
`,en=({visible:e,onOk:t,onHide:r,handleDatasetNameChange:n,handleSaveDatasetRadioBtnState:s,saveDatasetRadioBtnState:i,shouldOverwriteDataset:o,handleOverwriteCancel:l,handleOverwriteDataset:u,handleOverwriteDatasetOption:d,defaultCreateDatasetValue:c,disableSaveAndExploreBtn:f,handleSaveDatasetModalSearch:p,filterAutocompleteOption:m,userDatasetOptions:b,onChangeAutoComplete:y})=>(0,ur.tZ)(wr.Z,{show:e,title:"Save or Overwrite Dataset",onHide:r,footer:(0,ur.tZ)(a.Fragment,null,!o&&(0,ur.tZ)(Rr.Z,{disabled:f,buttonStyle:"primary",onClick:t},(0,h.t)("Save & Explore")),o&&(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(Rr.Z,{onClick:l},"Back"),(0,ur.tZ)(Rr.Z,{className:"md",buttonStyle:"primary",onClick:u,disabled:f},(0,h.t)("Overwrite & Explore"))))},(0,ur.tZ)(Xr,null,!o&&(0,ur.tZ)("div",{className:"smd-body"},(0,ur.tZ)("div",{className:"smd-prompt"},"Save this query as a virtual dataset to continue exploring"),(0,ur.tZ)(Jr.Y.Group,{onChange:s,value:i},(0,ur.tZ)(Jr.Y,{className:"smd-radio",value:1},"Save as new",(0,ur.tZ)(pr.II,{className:"smd-input",defaultValue:c,onChange:n,disabled:1!==i})),(0,ur.tZ)(Jr.Y,{className:"smd-radio",value:2},"Overwrite existing",(0,ur.tZ)(pr.Qc,{className:"smd-autocomplete",options:b,onSelect:d,onSearch:p,onChange:y,placeholder:"Select or type dataset name",filterOption:m,disabled:2!==i})))),o&&(0,ur.tZ)("div",{className:"smd-overwrite-msg"},"Are you sure you want to overwrite this dataset?")));var tn=r(38703),rn=r(80126);const nn="ASC",an="DESC";var sn=r(94184),on=r.n(sn);function ln(e){var t=e.sortDirection,r=on()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===nn,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===an});return a.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},t===nn?a.createElement("path",{d:"M7 14l5-5 5 5z"}):a.createElement("path",{d:"M7 10l5 5 5-5z"}),a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}ln.propTypes={};var un=r(85105),dn=r.n(un),cn=r(99663),hn=r(46058),fn=r(49135),pn=r(93196),mn=function(e){function t(e,r){(0,cn.default)(this,t);var n=(0,fn.default)(this,(t.__proto__||dn()(t)).call(this,e,r));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return(0,pn.default)(t,e),(0,hn.default)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,r=t.clientHeight,n=t.clientWidth,a=t.scrollHeight,s=t.scrollLeft,i=t.scrollTop,o=t.scrollWidth;return e({clientHeight:r,clientWidth:n,onScroll:this._onScroll,scrollHeight:a,scrollLeft:s,scrollTop:i,scrollWidth:o})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,r=e.clientWidth,n=e.scrollHeight,a=e.scrollLeft,s=e.scrollTop,i=e.scrollWidth;this.setState({clientHeight:t,clientWidth:r,scrollHeight:n,scrollLeft:a,scrollTop:s,scrollWidth:i})}}]),t}(a.PureComponent);const bn=mn;mn.propTypes={};var yn=r(88239);var gn=function(e){function t(){var e,r,n,a;(0,cn.default)(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=n=(0,fn.default)(this,(e=t.__proto__||dn()(t)).call.apply(e,[this].concat(i))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,a=e.onResize;if(n._parentNode){var s=n._parentNode.offsetHeight||0,i=n._parentNode.offsetWidth||0,o=window.getComputedStyle(n._parentNode)||{},l=parseInt(o.paddingLeft,10)||0,u=parseInt(o.paddingRight,10)||0,d=parseInt(o.paddingTop,10)||0,c=parseInt(o.paddingBottom,10)||0,h=s-d-c,f=i-l-u;(!t&&n.state.height!==h||!r&&n.state.width!==f)&&(n.setState({height:s-d-c,width:i-l-u}),a({height:s,width:i}))}},n._setRef=function(e){n._autoSizer=e},a=r,(0,fn.default)(n,a)}return(0,pn.default)(t,e),(0,hn.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g;var n,a,s="undefined"!=typeof document&&document.attachEvent;if(!s){var i=(a=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)},function(e){return a(e)}),o=(n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout,function(e){return n(e)}),l=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},u=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}},d=!1,c="",h="animationstart",f="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(d=!0),!1===d)for(var b=0;b<f.length;b++)if(void 0!==m.style[f[b]+"AnimationName"]){c="-"+f[b].toLowerCase()+"-",h=p[b],d=!0;break}var y="resizeanim",g="@"+c+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",v=c+"animation: 1ms "+y+"; "}return{addResizeListener:function(r,n){if(s)r.attachEvent("onresize",n);else{if(!r.__resizeTriggers__){var a=r.ownerDocument,i=t.getComputedStyle(r);i&&"static"==i.position&&(r.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var r=(g||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(t.createTextNode(r)),n.appendChild(a)}}(a),r.__resizeLast__={},r.__resizeListeners__=[],(r.__resizeTriggers__=a.createElement("div")).className="resize-triggers",r.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',r.appendChild(r.__resizeTriggers__),l(r),r.addEventListener("scroll",u,!0),h&&(r.__resizeTriggers__.__animationListener__=function(e){e.animationName==y&&l(r)},r.__resizeTriggers__.addEventListener(h,r.__resizeTriggers__.__animationListener__))}r.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(s)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.disableHeight,s=e.disableWidth,i=e.style,o=this.state,l=o.height,u=o.width,d={overflow:"visible"},c={};return n||(d.height=0,c.height=l),s||(d.width=0,c.width=u),a.createElement("div",{className:r,ref:this._setRef,style:(0,yn.default)({},d,i)},t(c))}}]),t}(a.PureComponent);gn.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},gn.propTypes=null;const vn=gn;var _n=r(75621),En=r(94396);function Tn(e){var t=e.className,r=e.columns,n=e.index,s=e.key,i=e.onRowClick,o=e.onRowDoubleClick,l=e.onRowMouseOut,u=e.onRowMouseOver,d=e.onRowRightClick,c=e.rowData,h=e.style,f={};return(i||o||l||u||d)&&(f["aria-label"]="row",f.tabIndex=0,i&&(f.onClick=function(e){return i({event:e,index:n,rowData:c})}),o&&(f.onDoubleClick=function(e){return o({event:e,index:n,rowData:c})}),l&&(f.onMouseOut=function(e){return l({event:e,index:n,rowData:c})}),u&&(f.onMouseOver=function(e){return u({event:e,index:n,rowData:c})}),d&&(f.onContextMenu=function(e){return d({event:e,index:n,rowData:c})})),a.createElement("div",(0,yn.default)({},f,{className:t,key:s,role:"row",style:h}),r)}function wn(e){var t=e.className,r=e.columns,n=e.style;return a.createElement("div",{className:t,role:"row",style:n},r)}Tn.propTypes=null,wn.propTypes=null;var Cn=function(e){function t(e){(0,cn.default)(this,t);var r=(0,fn.default)(this,(t.__proto__||dn()(t)).call(this,e));return r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r}return(0,pn.default)(t,e),(0,hn.default)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,r=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:r}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,a=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:r})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,s=t.disableHeader,i=t.gridClassName,o=t.gridStyle,l=t.headerHeight,u=t.headerRowRenderer,d=t.height,c=t.id,h=t.noRowsRenderer,f=t.rowClassName,p=t.rowStyle,m=t.scrollToIndex,b=t.style,y=t.width,g=this.state.scrollbarWidth,v=s?d:d-l,_="function"==typeof f?f({index:-1}):f,E="function"==typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],a.Children.toArray(r).forEach((function(t,r){var n=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[r]=(0,yn.default)({},n,{overflow:"hidden"})})),a.createElement("div",{className:on()("ReactVirtualized__Table",n),id:c,role:"grid",style:b},!s&&u({className:on()("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:(0,yn.default)({},E,{height:l,overflow:"hidden",paddingRight:g,width:y})}),a.createElement(_n.Z,(0,yn.default)({},this.props,{autoContainerWidth:!0,className:on()("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:y,columnCount:1,height:v,id:void 0,noContentRenderer:h,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:g,scrollToRow:m,style:(0,yn.default)({},o,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,r=e.columnIndex,n=e.isScrolling,s=e.parent,i=e.rowData,o=e.rowIndex,l=t.props,u=l.cellDataGetter,d=l.cellRenderer,c=l.className,h=l.columnData,f=l.dataKey,p=l.id,m=d({cellData:u({columnData:h,dataKey:f,rowData:i}),columnData:h,columnIndex:r,dataKey:f,isScrolling:n,parent:s,rowData:i,rowIndex:o}),b=this._cachedColumnStyles[r],y="string"==typeof m?m:null;return a.createElement("div",{"aria-describedby":p,className:on()("ReactVirtualized__Table__rowColumn",c),key:"Row"+o+"-Col"+r,role:"gridcell",style:b,title:y},m)}},{key:"_createHeader",value:function(e){var t=e.column,r=e.index,n=this.props,s=n.headerClassName,i=n.headerStyle,o=n.onHeaderClick,l=n.sort,u=n.sortBy,d=n.sortDirection,c=t.props,h=c.columnData,f=c.dataKey,p=c.defaultSortDirection,m=c.disableSort,b=c.headerRenderer,y=c.id,g=c.label,v=!m&&l,_=on()("ReactVirtualized__Table__headerColumn",s,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:v}),E=this._getFlexStyleForColumn(t,(0,yn.default)({},i,t.props.headerStyle)),T=b({columnData:h,dataKey:f,disableSort:m,label:g,sortBy:u,sortDirection:d}),w=void 0,C=void 0,S=void 0,R=void 0,x=void 0;if(v||o){var A=u!==f?p:d===an?nn:an,I=function(e){v&&l({defaultSortDirection:p,event:e,sortBy:f,sortDirection:A}),o&&o({columnData:h,dataKey:f,event:e})};x=t.props["aria-label"]||g||f,S=0,w=I,C=function(e){"Enter"!==e.key&&" "!==e.key||I(e)}}return u===f&&(R=d===nn?"ascending":"descending"),a.createElement("div",{"aria-label":x,"aria-sort":R,className:_,id:y,key:"Header-Col"+r,onClick:w,onKeyDown:C,role:"columnheader",style:E,tabIndex:S},T)}},{key:"_createRow",value:function(e){var t=this,r=e.rowIndex,n=e.isScrolling,s=e.key,i=e.parent,o=e.style,l=this.props,u=l.children,d=l.onRowClick,c=l.onRowDoubleClick,h=l.onRowRightClick,f=l.onRowMouseOver,p=l.onRowMouseOut,m=l.rowClassName,b=l.rowGetter,y=l.rowRenderer,g=l.rowStyle,v=this.state.scrollbarWidth,_="function"==typeof m?m({index:r}):m,E="function"==typeof g?g({index:r}):g,T=b({index:r}),w=a.Children.toArray(u).map((function(e,a){return t._createColumn({column:e,columnIndex:a,isScrolling:n,parent:i,rowData:T,rowIndex:r,scrollbarWidth:v})})),C=on()("ReactVirtualized__Table__row",_),S=(0,yn.default)({},o,E,{height:this._getRowHeight(r),overflow:"hidden",paddingRight:v});return y({className:C,columns:w,index:r,isScrolling:n,key:s,onRowClick:d,onRowDoubleClick:c,onRowRightClick:h,onRowMouseOver:f,onRowMouseOut:p,rowData:T,style:S})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",n=(0,yn.default)({},t,{flex:r,msFlex:r,WebkitFlex:r});return e.props.maxWidth&&(n.maxWidth=e.props.maxWidth),e.props.minWidth&&(n.minWidth=e.props.minWidth),n}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,r=t.children;return(t.disableHeader?[]:a.Children.toArray(r)).map((function(t,r){return e._createHeader({column:t,index:r})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,r=e.scrollHeight,n=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:n})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,n=e.rowStartIndex,a=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:n,stopIndex:a})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var e=(0,s.findDOMNode)(this.Grid),t=e.clientWidth||0,r=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:r})}}}]),t}(a.PureComponent);Cn.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:En.ZP,overscanRowCount:10,rowRenderer:Tn,headerRowRenderer:wn,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};const Sn=Cn;function Rn(e){var t=e.dataKey,r=e.label,n=e.sortBy,s=e.sortDirection,i=n===t,o=[a.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:r},r)];return i&&o.push(a.createElement(ln,{key:"SortIndicator",sortDirection:s})),o}Cn.propTypes={},Rn.propTypes=null;var xn=function(e){function t(){return(0,cn.default)(this,t),(0,fn.default)(this,(t.__proto__||dn()(t)).apply(this,arguments))}return(0,pn.default)(t,e),t}(a.Component);xn.defaultProps={cellDataGetter:function(e){var t=e.dataKey,r=e.rowData;return"function"==typeof r.get?r.get(t):r[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:nn,flexGrow:0,flexShrink:1,headerRenderer:Rn,style:{}};const An=xn;xn.propTypes={};const In={height:20,width:100};class On{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const Dn="http://www.w3.org/2000/svg",Nn=new On((function(){const e=document.createElementNS(Dn,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),Pn=new On((function(){return document.createElementNS(Dn,"text")})),Mn=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];var qn=r(13433);function Zn(e){if("string"!=typeof e||-1===["{","["].indexOf(e.substring(0,1)))return null;try{const t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}}const kn={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},Ln=/^(NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity))$/,jn=tr.iK.div`
  height: 100%;
  overflow-x: auto;
  margin-top: ${({theme:e})=>2*e.gridUnit}px;
  overflow-y: hidden;
`;var Un={name:"4zleql",styles:"display:block"},$n={name:"4zleql",styles:"display:block"},Bn={name:"6n1ert",styles:"width:inherit"};class Wn extends a.PureComponent{constructor(e){super(e),this.list=void 0,this.complexColumns=void 0,this.widthsForColumnsByKey=void 0,this.totalTableWidth=void 0,this.totalTableHeight=void 0,this.container=void 0,this.parseNumberFromString=e=>"string"==typeof e&&Ln.test(e)?parseFloat(e):e,this.list=this.formatTableData(e.data),this.addJsonModal=this.addJsonModal.bind(this),this.getCellContent=this.getCellContent.bind(this),this.renderGridCell=this.renderGridCell.bind(this),this.renderGridCellHeader=this.renderGridCellHeader.bind(this),this.renderGrid=this.renderGrid.bind(this),this.renderTableCell=this.renderTableCell.bind(this),this.renderTableHeader=this.renderTableHeader.bind(this),this.sortResults=this.sortResults.bind(this),this.renderTable=this.renderTable.bind(this),this.rowClassName=this.rowClassName.bind(this),this.sort=this.sort.bind(this),this.complexColumns=e.orderedColumnKeys.reduce(((t,r)=>({...t,[r]:e.expandedColumns.some((e=>e.startsWith(`${r}.`)))})),{}),this.widthsForColumnsByKey=this.getWidthsForColumns(),this.totalTableWidth=e.orderedColumnKeys.map((e=>this.widthsForColumnsByKey[e])).reduce(((e,t)=>e+t)),this.totalTableHeight=e.height,this.state={sortDirection:nn,fitted:!1},this.container=a.createRef()}componentDidMount(){this.fitTableToWidthIfNeeded()}getDatum(e,t){return e[t%e.length]}getWidthsForColumns(){const e={},t=function(e,t){const{texts:r,className:n,style:a,container:s}=e,i=new Map;let o,l;i.set("",{height:0,width:0});const u=r.map((e=>{if(i.has(e))return i.get(e);o||(l=Nn.createInContainer(s),o=Pn.createInContainer(l)),function(e,{className:t,style:r={},text:n}={}){const a=e;a.textContent!==n&&(a.textContent=void 0===n?null:n),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),Mn.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`}))}(o,{className:n,style:a,text:e});const r=function(e,t=In){const{width:r,height:n}=e.getBBox?e.getBBox():t;return{height:Math.ceil(n),width:Math.ceil(r)}}(o,t);return i.set(e,r),r}));return l&&o&&setTimeout((()=>{Pn.removeFromContainer(l),Nn.removeFromContainer(s)}),500),u}({className:"cell-text-for-measuring",texts:[].concat(...this.props.orderedColumnKeys.map((e=>{const t=this.list.map((t=>this.getCellContent({cellData:t[e],columnKey:e})));return t.push(e),t})))}).map((e=>e.width));return this.props.orderedColumnKeys.forEach(((r,n)=>{e[r]=t.slice(n*(this.list.length+1),(n+1)*(this.list.length+1)).reduce(((e,t)=>Math.max(e,t)))+40})),e}getCellContent({cellData:e,columnKey:t}){if(null===e)return"NULL";const r=String(e),n=r.substring(0,1);let a;return a="["===n?"[â¦]":"{"===n?"{â¦}":"",this.complexColumns[t]?a:r}formatTableData(e){return e.map((e=>{const t={};return Object.entries(e).forEach((([e,r])=>{["string","number"].indexOf(typeof r)>=0?t[e]=r:t[e]=null===r?null:E().stringify(r)})),t}))}hasMatch(e,t){const r=[];Object.keys(t).forEach((e=>{if(t.hasOwnProperty(e)){const n=t[e];"string"==typeof n?r.push(n.toLowerCase()):null!==n&&"function"==typeof n.toString&&r.push(n.toString())}}));const n=e.toLowerCase();return r.some((e=>e.includes(n)))}rowClassName({index:e}){let t="";return this.props.striped&&(t=e%2==0?"even-row":"odd-row"),t}sort({sortBy:e,sortDirection:t}){this.setState({sortBy:e,sortDirection:t})}fitTableToWidthIfNeeded(){var e,t;const r=null!=(e=null==(t=this.container.current)?void 0:t.clientWidth)?e:0;this.totalTableWidth<r&&(this.totalTableWidth=r),this.setState({fitted:!0})}addJsonModal(e,t,r){return(0,ur.tZ)(Mr.Z,{modalBody:(0,ur.tZ)(rn.Z,{data:t,theme:kn}),modalFooter:(0,ur.tZ)(Rr.Z,null,(0,ur.tZ)(qn.Z,{shouldShowText:!1,text:r})),modalTitle:(0,h.t)("Cell content"),triggerNode:e})}sortResults(e,t){return(r,n)=>{const a=this.parseNumberFromString(r[e]),s=this.parseNumberFromString(n[e]);return a===s?0:null===a?1:null===s?-1:t?a<s?1:-1:a<s?-1:1}}renderTableHeader({dataKey:e,label:t,sortBy:r,sortDirection:n}){const a=this.props.expandedColumns.indexOf(t)>-1?"header-style-disabled":"header-style";return(0,ur.tZ)(yr.u,{id:"header-tooltip",title:t,placement:"topLeft",css:Un},(0,ur.tZ)("div",{className:a},t,r===e&&(0,ur.tZ)(ln,{sortDirection:n})))}renderGridCellHeader({columnIndex:e,key:t,style:r}){const n=this.props.orderedColumnKeys[e],a=this.props.expandedColumns.indexOf(n)>-1?"header-style-disabled":"header-style";return(0,ur.tZ)(yr.u,{key:t,id:"header-tooltip",title:n,placement:"topLeft",css:$n},(0,ur.tZ)("div",{style:{...r,top:"number"==typeof r.top?r.top-4:r.top},className:`${a} grid-cell grid-header-cell`},(0,ur.tZ)("div",null,n)))}renderGridCell({columnIndex:e,key:t,rowIndex:r,style:n}){const a=this.props.orderedColumnKeys[e],s=this.list[r][a],i=this.getCellContent({cellData:s,columnKey:a}),o=null===s?(0,ur.tZ)("i",{className:"text-muted"},i):i,l=(0,ur.tZ)("div",{key:t,style:{...n,top:"number"==typeof n.top?n.top-4:n.top},className:`grid-cell ${this.rowClassName({index:r})}`},(0,ur.tZ)("div",{css:Bn},o)),u=Zn(s);return u?this.addJsonModal(l,u,s):l}renderGrid(){const{orderedColumnKeys:e,overscanColumnCount:t,overscanRowCount:r,rowHeight:n}=this.props;let{height:s}=this.props,i=s;this.container.current&&this.totalTableWidth>this.container.current.clientWidth&&(s-=15,i-=15);const o=({index:t})=>this.widthsForColumnsByKey[e[t]];return(0,ur.tZ)(jn,null,(0,ur.tZ)(bn,null,(({onScroll:s,scrollLeft:l})=>(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(vn,{disableHeight:!0},(({width:a})=>(0,ur.tZ)("div",null,(0,ur.tZ)(_n.Z,{cellRenderer:this.renderGridCellHeader,columnCount:e.length,columnWidth:o,height:n,rowCount:1,rowHeight:n,scrollLeft:l,width:a,style:{overflow:"hidden"}}),(0,ur.tZ)(_n.Z,{cellRenderer:this.renderGridCell,columnCount:e.length,columnWidth:o,height:i-n,onScroll:s,overscanColumnCount:t,overscanRowCount:r,rowCount:this.list.length,rowHeight:n,width:a}))))))))}renderTableCell({cellData:e,columnKey:t}){const r=this.getCellContent({cellData:e,columnKey:t}),n=null===e?(0,ur.tZ)("i",{className:"text-muted"},r):r,a=Zn(e);return a?this.addJsonModal(r,a,e):n}renderTable(){const{sortBy:e,sortDirection:t}=this.state,{filterText:r,headerHeight:n,orderedColumnKeys:a,overscanRowCount:s,rowHeight:i}=this.props;let o=this.list;r&&(o=this.list.filter((e=>this.hasMatch(r,e)))),e&&(o=o.sort(this.sortResults(e,t===an)));let{height:l}=this.props,u=l;return this.container.current&&this.totalTableWidth>this.container.current.clientWidth&&(l-=15,u-=15),(0,ur.tZ)(jn,{className:"filterable-table-container",ref:this.container},this.state.fitted&&(0,ur.tZ)(Sn,{ref:"Table",headerHeight:n,height:u,overscanRowCount:s,rowClassName:this.rowClassName,rowHeight:i,rowGetter:({index:e})=>this.getDatum(o,e),rowCount:o.length,sort:this.sort,sortBy:e,sortDirection:t,width:this.totalTableWidth},a.map((e=>(0,ur.tZ)(An,{cellRenderer:({cellData:t})=>this.renderTableCell({cellData:t,columnKey:e}),dataKey:e,disableSort:!1,headerRenderer:this.renderTableHeader,width:this.widthsForColumnsByKey[e],label:e,key:e})))))}render(){return this.props.orderedColumnKeys.length>50?this.renderGrid():this.renderTable()}}Wn.defaultProps={filterText:"",headerHeight:32,overscanColumnCount:10,overscanRowCount:10,rowHeight:32,striped:!0,expandedColumns:[]};var Qn=r(12515);const Fn={actions:er().object.isRequired,table:er().string.isRequired,schema:er().string,dbId:er().number.isRequired,errorMessage:er().string,templateParams:er().string};class Yn extends a.PureComponent{constructor(e){super(e),this.visualize=this.visualize.bind(this),this.onClick=this.onClick.bind(this)}onClick(){this.visualize()}buildVizOptions(){return{datasourceName:this.props.table,schema:this.props.schema,dbId:this.props.dbId,templateParams:this.props.templateParams}}visualize(){this.props.actions.createCtasDatasource(this.buildVizOptions()).then((e=>{const t={datasource:`${e.table_id}__table`,metrics:["count"],groupby:[],viz_type:"table",since:"100 years ago",all_columns:[],row_limit:1e3};this.props.actions.addInfoToast((0,h.t)("Creating a data source and creating a new tab")),(0,Qn.AH)(t)})).catch((()=>{this.props.actions.addDangerToast(this.props.errorMessage||(0,h.t)("An error occurred"))}))}render(){return(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(Rr.Z,{buttonSize:"small",onClick:this.onClick,tooltip:(0,h.t)("Explore the result set in the data exploration view")},(0,ur.tZ)(Pr.V,{icon:"line-chart",placement:"top",label:"explore"})," ",(0,h.t)("Explore")))}}Yn.propTypes=Fn;const zn=(0,o.$j)((function({sqlLab:e,common:t}){return{errorMessage:e.errorMessage,timeout:t.conf?t.conf.SUPERSET_WEBSERVER_TIMEOUT:null}}),(function(e){return{actions:(0,i.DE)(n,e)}}))(Yn),Hn={actions:er().object.isRequired,query:er().object,errorMessage:er().string,timeout:er().number,database:er().object.isRequired,onClick:er().func.isRequired};class Kn extends a.PureComponent{constructor(e){super(e),this.getInvalidColumns=this.getInvalidColumns.bind(this),this.renderInvalidColumnMessage=this.renderInvalidColumnMessage.bind(this)}getColumns(){const{props:e}=this;return e.query&&e.query.results&&e.query.results.selected_columns?e.query.results.selected_columns:[]}getQueryDuration(){return Br().duration(this.props.query.endDttm-this.props.query.startDttm).asSeconds()}getInvalidColumns(){const e=/__\d+$/,t=/^__timestamp/i;return this.props.query.results.selected_columns.map((e=>e.name)).filter((r=>e.test(r)||t.test(r)))}datasourceName(){const{query:e}=this.props,t=v().generate();let r=t;return e&&(r=e.user?`${e.user}-`:"",r+=`${e.tab}-${t}`),r}buildVizOptions(){const{schema:e,sql:t,dbId:r,templateParams:n}=this.props.query;return{dbId:r,schema:e,sql:t,templateParams:n,datasourceName:this.datasourceName(),columns:this.getColumns()}}renderTimeoutWarning(){return(0,ur.tZ)(Ur.Z,{type:"warning",message:(0,ur.tZ)(a.Fragment,null,(0,h.t)("This query took %s seconds to run, ",Math.round(this.getQueryDuration()))+(0,h.t)("and the explore view times out at %s seconds ",this.props.timeout)+(0,h.t)("following this flow will most likely lead to your query timing out. ")+(0,h.t)("We recommend your summarize your data further before following that flow. ")+(0,h.t)("If activated you can use the "),(0,ur.tZ)("strong",null,"CREATE TABLE AS "),(0,h.t)("feature to store a summarized data set that you can then explore."))})}renderInvalidColumnMessage(){const e=this.getInvalidColumns();return 0===e.length?null:(0,ur.tZ)("div",null,(0,h.t)("Column name(s) "),(0,ur.tZ)("code",null,(0,ur.tZ)("strong",null,e.join(", ")," ")),(0,h.t)('cannot be used as a column name. The column name/alias "__timestamp"\n          is reserved for the main temporal expression, and column aliases ending with\n          double underscores followed by a numeric value (e.g. "my_col__1") are reserved\n          for deduplicating duplicate column names. Please use aliases to rename the\n          invalid column names.'))}render(){const e=this.props.database&&this.props.database.allows_subquery;return(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(Rr.Z,{buttonSize:"small",onClick:this.props.onClick,disabled:!e,tooltip:(0,h.t)("Explore the result set in the data exploration view")},(0,ur.tZ)(Pr.V,{icon:"line-chart",placement:"top",label:"explore"})," ",(0,h.t)("Explore")))}}Kn.propTypes=Hn,Kn.defaultProps={query:{}};const Vn=(0,o.$j)((function({sqlLab:e,common:t}){return{errorMessage:e.errorMessage,timeout:t.conf?t.conf.SUPERSET_WEBSERVER_TIMEOUT:null}}),(function(e){return{actions:(0,i.DE)(n,e)}}))(Kn);var Gn=r(42110),Jn=r(33743),Xn=r(120);function ea({shrink:e,sql:t,maxLines:r,maxWidth:n}){return(0,ur.tZ)(Gn.Z,{language:"sql",style:Xn.Z},e?((e,t,r)=>{let n=(e||"").split("\n");return n.length>=t&&(n=n.slice(0,t),n.push("{...}")),n.map((e=>e.length>r?`${e.slice(0,r)}{...}`:e)).join("\n")})(t,r,n):t)}function ta({rawSql:e,sql:t}){return(0,ur.tZ)("div",null,(0,ur.tZ)("h4",null,(0,h.t)("Source SQL")),(0,ur.tZ)(Gn.Z,{language:"sql",style:Xn.Z},t),e&&e!==t&&(0,ur.tZ)("div",null,(0,ur.tZ)("h4",null,(0,h.t)("Executed SQL")),(0,ur.tZ)(Gn.Z,{language:"sql",style:Xn.Z},e)))}Gn.Z.registerLanguage("sql",Jn.Z);const ra=function({sql:e,rawSql:t,maxWidth:r=50,maxLines:n=5,shrink:a=!1}){return(0,ur.tZ)(Mr.Z,{modalTitle:(0,h.t)("SQL"),modalBody:(0,ur.tZ)(ta,{rawSql:t,sql:e}),triggerNode:(0,ur.tZ)(ea,{shrink:a,sql:e,maxLines:n,maxWidth:r})})};function na({query:e}){return(0,ur.tZ)(xr.Z,{className:"m-r-3",type:sr.IY[e.state]},e.state)}var aa;!function(e){e[e.SAVE_NEW=1]="SAVE_NEW",e[e.OVERWRITE_DATASET=2]="OVERWRITE_DATASET"}(aa||(aa={}));const sa={metrics:[],groupby:[],time_range:"No filter",viz_type:"table"};var ia;!function(e){e.QUERY="QUERY",e.QUERY_AND_DROPDOWN="QUERY_AND_DROPDOWN",e.DROPDOWN="DROPDOWN",e.NOT_LIMITED="NOT_LIMITED"}(ia||(ia={}));const oa={position:"relative",minHeight:100},la=tr.iK.div`
  font-family: ${({theme:e})=>e.typography.families.monospace};
  white-space: pre;
  word-break: break-word;
  overflow-x: auto;
  white-space: pre-wrap;
`,ua=tr.iK.div`
  font-size: 13px;
  line-height: 24px;
  .limitMessage {
    color: ${({theme:e})=>e.colors.secondary.light1};
    margin-left: ${({theme:e})=>2*e.gridUnit}px;
  }
`,da=tr.iK.div`
  display: flex;
  justify-content: space-between;
  padding: ${({theme:e})=>2*e.gridUnit}px 0;
`,ca=tr.iK.div`
  display: grid;
  grid-auto-flow: column;
  padding-right: ${({theme:e})=>2*e.gridUnit}px;
`,ha=tr.iK.div`
  padding-top: ${({theme:e})=>4*e.gridUnit}px;
`;class fa extends a.PureComponent{constructor(e){super(e),this.calculateAlertRefHeight=e=>{e?this.setState({alertIsOpen:!0}):this.setState({alertIsOpen:!1})},this.getDefaultDatasetName=()=>`${this.props.query.tab} ${Br()().format("MM/DD/YYYY HH:mm:ss")}`,this.handleOnChangeAutoComplete=()=>{this.setState({datasetToOverwrite:{}})},this.handleOverwriteDataset=async()=>{const{sql:e,results:t,dbId:r}=this.props.query,{datasetToOverwrite:n}=this.state;await(async(e,t,r,n,a,s)=>{const i=`api/v1/dataset/${t}?override_columns=true`,o=JSON.stringify({sql:r,columns:n,owners:a,database_id:e});return(await T.Z.put({endpoint:i,headers:{"Content-Type":"application/json"},body:o})).json.result})(r,n.datasetId,e,t.selected_columns.map((e=>({column_name:e.name}))),n.owners.map((e=>e.id))),this.setState({showSaveDatasetModal:!1,shouldOverwriteDataSet:!1,datasetToOverwrite:{},newSaveDatasetName:this.getDefaultDatasetName()}),(0,Qn.AH)({...sa,datasource:`${n.datasetId}__table`,all_columns:t.selected_columns.map((e=>e.name))})},this.handleSaveInDataset=()=>{var e,t;if(this.state.saveDatasetRadioBtnState===aa.OVERWRITE_DATASET)return void this.setState({shouldOverwriteDataSet:!0});const{schema:r,sql:n,dbId:a}=this.props.query;let{templateParams:s}=this.props.query;const i=(null==(e=this.props.query)||null==(t=e.results)?void 0:t.selected_columns)||[];if(s){const e=JSON.parse(s);e._filters&&(delete e._filters,s=JSON.stringify(e))}this.props.actions.createDatasource({schema:r,sql:n,dbId:a,templateParams:s,datasourceName:this.state.newSaveDatasetName,columns:i}).then((e=>{(0,Qn.AH)({datasource:`${e.table_id}__table`,metrics:[],groupby:[],time_range:"No filter",viz_type:"table",all_columns:i.map((e=>e.name)),row_limit:1e3})})).catch((()=>{this.props.actions.addDangerToast((0,h.t)("An error occurred saving dataset"))})),this.setState({showSaveDatasetModal:!1,newSaveDatasetName:this.getDefaultDatasetName()})},this.handleOverwriteDatasetOption=(e,t)=>{this.setState({datasetToOverwrite:t})},this.handleDatasetNameChange=e=>{this.setState({newSaveDatasetName:e.target.value})},this.handleHideSaveModal=()=>{this.setState({showSaveDatasetModal:!1,shouldOverwriteDataSet:!1})},this.handleSaveDatasetRadioBtnState=e=>{this.setState({saveDatasetRadioBtnState:Number(e.target.value)})},this.handleOverwriteCancel=()=>{this.setState({shouldOverwriteDataSet:!1,datasetToOverwrite:{}})},this.handleExploreBtnClick=()=>{this.setState({showSaveDatasetModal:!0})},this.getUserDatasets=async(e="")=>{const{userId:t}=this.props.user;if(t){const r=Kr().encode({filters:[{col:"table_name",opr:"ct",value:e},{col:"owners",opr:"rel_m_m",value:t}],order_column:"changed_on_delta_humanized",order_direction:"desc"});return(await(0,Vr.Z)({method:"GET",endpoint:"/api/v1/dataset"})(`q=${r}`)).result.map((e=>({value:e.table_name,datasetId:e.id,owners:e.owners})))}return null},this.handleSaveDatasetModalSearch=async e=>{const t=await this.getUserDatasets(e);this.setState({userDatasetOptions:t})},this.handleFilterAutocompleteOption=(e,t)=>t.value.toLowerCase().includes(e.toLowerCase()),this.onAlertClose=()=>{this.setState({alertIsOpen:!1})},this.state={searchText:"",showExploreResultsButton:!1,data:[],showSaveDatasetModal:!1,newSaveDatasetName:this.getDefaultDatasetName(),saveDatasetRadioBtnState:aa.SAVE_NEW,shouldOverwriteDataSet:!1,datasetToOverwrite:{},saveModalAutocompleteValue:"",userDatasetOptions:[],alertIsOpen:!1},this.changeSearch=this.changeSearch.bind(this),this.fetchResults=this.fetchResults.bind(this),this.popSelectStar=this.popSelectStar.bind(this),this.reFetchQueryResults=this.reFetchQueryResults.bind(this),this.toggleExploreResultsButton=this.toggleExploreResultsButton.bind(this),this.handleSaveInDataset=this.handleSaveInDataset.bind(this),this.handleHideSaveModal=this.handleHideSaveModal.bind(this),this.handleDatasetNameChange=this.handleDatasetNameChange.bind(this),this.handleSaveDatasetRadioBtnState=this.handleSaveDatasetRadioBtnState.bind(this),this.handleOverwriteCancel=this.handleOverwriteCancel.bind(this),this.handleOverwriteDataset=this.handleOverwriteDataset.bind(this),this.handleOverwriteDatasetOption=this.handleOverwriteDatasetOption.bind(this),this.handleSaveDatasetModalSearch=Tr()(this.handleSaveDatasetModalSearch.bind(this),1e3),this.handleFilterAutocompleteOption=this.handleFilterAutocompleteOption.bind(this),this.handleOnChangeAutoComplete=this.handleOnChangeAutoComplete.bind(this),this.handleExploreBtnClick=this.handleExploreBtnClick.bind(this)}async componentDidMount(){this.reRunQueryIfSessionTimeoutErrorOnMount();const e=await this.getUserDatasets();this.setState({userDatasetOptions:e})}UNSAFE_componentWillReceiveProps(e){this.props.cache&&!e.query.cached&&e.query.results&&e.query.results.data&&e.query.results.data.length>0&&this.setState({data:e.query.results.data},(()=>this.clearQueryResults(e.query))),e.query.resultsKey&&e.query.resultsKey!==this.props.query.resultsKey&&this.fetchResults(e.query)}clearQueryResults(e){this.props.actions.clearQueryResults(e)}popSelectStar(e,t){const r={id:v().generate(),title:t,autorun:!1,dbId:this.props.query.dbId,sql:`SELECT * FROM ${e?`${e}.`:""}${t}`};this.props.actions.addQueryEditor(r)}toggleExploreResultsButton(){this.setState((e=>({showExploreResultsButton:!e.showExploreResultsButton})))}changeSearch(e){this.setState({searchText:e.target.value})}fetchResults(e){this.props.actions.fetchQueryResults(e,this.props.displayLimit)}reFetchQueryResults(e){this.props.actions.reFetchQueryResults(e)}reRunQueryIfSessionTimeoutErrorOnMount(){const{query:e}=this.props;e.errorMessage&&e.errorMessage.indexOf("session timed out")>0&&this.props.actions.reRunQuery(e)}renderControls(){if(this.props.search||this.props.visualize||this.props.csv){let{data:e}=this.props.query.results;this.props.cache&&this.props.query.cached&&({data:e}=this.state);const{columns:t}=this.props.query.results,{saveDatasetRadioBtnState:r,newSaveDatasetName:n,datasetToOverwrite:a,saveModalAutocompleteValue:s,shouldOverwriteDataSet:i,userDatasetOptions:o,showSaveDatasetModal:l}=this.state,u=r===aa.SAVE_NEW&&0===n.length||r===aa.OVERWRITE_DATASET&&0===Object.keys(a).length&&0===s.length;return(0,ur.tZ)(da,null,(0,ur.tZ)(en,{visible:l,onOk:this.handleSaveInDataset,saveDatasetRadioBtnState:r,shouldOverwriteDataset:i,defaultCreateDatasetValue:n,userDatasetOptions:o,disableSaveAndExploreBtn:u,onHide:this.handleHideSaveModal,handleDatasetNameChange:this.handleDatasetNameChange,handleSaveDatasetRadioBtnState:this.handleSaveDatasetRadioBtnState,handleOverwriteCancel:this.handleOverwriteCancel,handleOverwriteDataset:this.handleOverwriteDataset,handleOverwriteDatasetOption:this.handleOverwriteDatasetOption,handleSaveDatasetModalSearch:this.handleSaveDatasetModalSearch,filterAutocompleteOption:this.handleFilterAutocompleteOption,onChangeAutoComplete:this.handleOnChangeAutoComplete}),(0,ur.tZ)(ca,null,this.props.visualize&&this.props.database&&this.props.database.allows_virtual_table_explore&&(0,ur.tZ)(Vn,{query:this.props.query,database:this.props.database,actions:this.props.actions,onClick:this.handleExploreBtnClick}),this.props.csv&&(0,ur.tZ)(Rr.Z,{buttonSize:"small",href:`/superset/csv/${this.props.query.id}`},(0,ur.tZ)("i",{className:"fa fa-file-text-o"})," ",(0,h.t)("Download to CSV")),(0,ur.tZ)(qn.Z,{text:(0,gr.Mv)(e,t),wrapped:!1,copyNode:(0,ur.tZ)(Rr.Z,{buttonSize:"small"},(0,ur.tZ)("i",{className:"fa fa-clipboard"})," ",(0,h.t)("Copy to Clipboard"))})),this.props.search&&(0,ur.tZ)("input",{type:"text",onChange:this.changeSearch,value:this.state.searchText,className:"form-control input-sm",disabled:t.length>50,placeholder:t.length>50?(0,h.t)("Too many columns to filter"):(0,h.t)("Filter results")}))}return(0,ur.tZ)("div",null)}renderRowsReturned(){var e,t;const{results:r,rows:n,queryLimit:a,limitingFactor:s}=this.props.query;let i;const o=null==r?void 0:r.displayLimitReached,l=a||r.query.limit,u=!(null==(e=this.props.user)||null==(t=e.roles)||!t.Admin),d={withAdmin:(0,h.t)("The number of results displayed is limited to %(rows)d by the configuration DISPLAY_MAX_ROWS. Please add additional limits/filters or download to csv to see more rows up to the %(limit)d limit.",{rows:n,limit:l}),withoutAdmin:(0,h.t)("The number of results displayed is limited to %(rows)d. Please add additional limits/filters, download to csv, or contact an admin to see more rows up to the %(limit)d limit.",{rows:n,limit:l})},c=l===this.props.defaultQueryLimit&&s===ia.DROPDOWN;return s===ia.QUERY&&this.props.csv?i=(0,ur.tZ)("span",{className:"limitMessage"},(0,h.t)("The number of rows displayed is limited to %(rows)d by the query",{rows:n})):s!==ia.DROPDOWN||c?s===ia.QUERY_AND_DROPDOWN&&(i=(0,ur.tZ)("span",{className:"limitMessage"},(0,h.t)("The number of rows displayed is limited to %(rows)d by the query and limit dropdown.",{rows:n}))):i=(0,ur.tZ)("span",{className:"limitMessage"},(0,h.t)("The number of rows displayed is limited to %(rows)d by the limit dropdown.",{rows:n})),(0,ur.tZ)(ua,null,!o&&!c&&(0,ur.tZ)("span",null,(0,h.t)("%(rows)d rows returned",{rows:n})," ",i),!o&&c&&(0,ur.tZ)("div",{ref:this.calculateAlertRefHeight},(0,ur.tZ)(Ur.Z,{type:"warning",message:(0,h.t)("%(rows)d rows returned",{rows:n}),onClose:this.onAlertClose,description:(0,h.t)("The number of rows displayed is limited to %s by the dropdown.",n)})),o&&(0,ur.tZ)("div",{ref:this.calculateAlertRefHeight},(0,ur.tZ)(Ur.Z,{type:"warning",onClose:this.onAlertClose,message:(0,h.t)("%(rows)d rows returned",{rows:n}),description:u?d.withAdmin:d.withoutAdmin})))}render(){const{query:e}=this.props;let t,r=e.dbId;if(this.props.database&&this.props.database.explore_database_id&&(r=this.props.database.explore_database_id),this.props.showSql&&(t=(0,ur.tZ)(ra,{sql:e.sql})),"stopped"===e.state)return(0,ur.tZ)(Ur.Z,{type:"warning",message:(0,h.t)("Query was stopped")});var n;if("failed"===e.state)return(0,ur.tZ)(ha,null,(0,ur.tZ)(Gr.Z,{title:(0,h.t)("Database error"),error:null==e||null==(n=e.errors)?void 0:n[0],subtitle:(0,ur.tZ)(la,null,e.errorMessage),copyText:e.errorMessage||void 0,link:e.link,source:"sqllab"}));if("success"===e.state&&e.ctas){const{tempSchema:t,tempTable:n}=e;let s="Table";return e.ctas_method===Me.VIEW&&(s="View"),(0,ur.tZ)("div",null,(0,ur.tZ)(Ur.Z,{type:"info",message:(0,ur.tZ)(a.Fragment,null,(0,h.t)(s)," [",(0,ur.tZ)("strong",null,t?`${t}.`:"",n),"] ",(0,h.t)("was created")," Â ",(0,ur.tZ)(zr,null,(0,ur.tZ)(Rr.Z,{buttonSize:"small",className:"m-r-5",onClick:()=>this.popSelectStar(t,n)},(0,h.t)("Query in a new tab")),(0,ur.tZ)(zn,{table:n,schema:t,dbId:r,database:this.props.database,actions:this.props.actions})))}))}if("success"===e.state&&e.results){const{results:r}=e,n=this.state.alertIsOpen?this.props.height-70:this.props.height;let s;if(this.props.cache&&e.cached?({data:s}=this.state):r&&r.data&&({data:s}=r),s&&s.length>0){const e=r.expanded_columns?r.expanded_columns.map((e=>e.name)):[];return(0,ur.tZ)(a.Fragment,null,this.renderControls(),this.renderRowsReturned(),t,(0,ur.tZ)(Wn,{data:s,orderedColumnKeys:r.columns.map((e=>e.name)),height:n,filterText:this.state.searchText,expandedColumns:e}))}if(s&&0===s.length)return(0,ur.tZ)(Ur.Z,{type:"warning",message:(0,h.t)("The query returned no data")})}if(e.cached||"success"===e.state&&!e.results){if(e.isDataPreview)return(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"primary",onClick:()=>this.reFetchQueryResults({...e,isDataPreview:!0})},(0,h.t)("Fetch data preview"));if(e.resultsKey)return(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"primary",onClick:()=>this.fetchResults(e)},(0,h.t)("Refetch results"))}let s,i;e.progress>0&&(i=(0,ur.tZ)(Qr.Z,{percent:parseInt(e.progress.toFixed(0),10),striped:!0})),e.trackingUrl&&(s=(0,ur.tZ)(Rr.Z,{buttonSize:"small",onClick:()=>e.trackingUrl&&window.open(e.trackingUrl)},(0,h.t)("Track job")));const o=e&&e.extra&&e.extra.progress?e.extra.progress:null;return(0,ur.tZ)("div",{style:oa},(0,ur.tZ)("div",null,!i&&(0,ur.tZ)(tn.Z,{position:"normal"})),(0,ur.tZ)("div",null,100===e.progress&&(0,ur.tZ)(tn.Z,{position:"normal"})),(0,ur.tZ)(na,{query:e}),(0,ur.tZ)("div",null,o&&(0,ur.tZ)(Ur.Z,{type:"success",message:o})),(0,ur.tZ)("div",null,100!==e.progress&&i),(0,ur.tZ)("div",null,s))}}fa.defaultProps={cache:!1,csv:!0,database:{},search:!0,showSql:!1,visualize:!0};const pa=tr.iK.span`
  color: ${({theme:e})=>e.colors.primary.dark1};
  &: hover {
    color: ${({theme:e})=>e.colors.primary.dark2};
  }
`,ma=({children:e=null,className:t="",onClick:r=(()=>{}),placement:n="top",style:a={},tooltip:s=null})=>{const i=(0,ur.tZ)(pa,{onClick:r,style:a,className:`IconTooltip ${t}`},e);return s?(0,ur.tZ)(yr.u,{id:"tooltip",title:s,placement:n,mouseEnterDelay:.3,mouseLeaveDelay:.15},i):i},ba=ur.iv`
  position: static;
`,ya=ur.iv`
  vertical-align: 0em;
  svg {
    height: 0.9em;
  }
`,ga=(0,tr.iK)(ma)`
  padding-right: ${({theme:e})=>2*e.gridUnit}px;
  span {
    color: ${({theme:e})=>e.colors.grayscale.base};
    &: hover {
      color: ${({theme:e})=>e.colors.primary.base};
    }
  }
`,va={columns:er().array,actions:er().object,queries:er().array,onUserClicked:er().func,onDbClicked:er().func,displayLimit:er().number.isRequired},_a=e=>{const t=(0,tr.Fg)(),r={success:{config:{icon:(0,ur.tZ)(Dr.Z.Check,{iconColor:t.colors.success.base}),label:(0,h.t)("Success")}},failed:{config:{icon:(0,ur.tZ)(Dr.Z.XSmall,{iconColor:t.colors.error.base}),label:(0,h.t)("Failed")}},stopped:{config:{icon:(0,ur.tZ)(Dr.Z.XSmall,{iconColor:t.colors.error.base}),label:(0,h.t)("Failed")}},running:{config:{icon:(0,ur.tZ)(Dr.Z.Running,{iconColor:t.colors.primary.base}),label:(0,h.t)("Running")}},fetching:{config:{icon:(0,ur.tZ)(Dr.Z.Queued,{iconColor:t.colors.primary.base}),label:(0,h.t)("fetching")}},timed_out:{config:{icon:(0,ur.tZ)(Dr.Z.Offline,{iconColor:t.colors.grayscale.light1}),label:(0,h.t)("Offline")}},scheduled:{config:{icon:(0,ur.tZ)(Dr.Z.Queued,{iconColor:t.colors.grayscale.base}),label:(0,h.t)("Scheduled")}},pending:{config:{icon:(0,ur.tZ)(Dr.Z.Queued,{iconColor:t.colors.grayscale.base}),label:(0,h.t)("Scheduled")}},error:{config:{icon:(0,ur.tZ)(Dr.Z.Error,{iconColor:t.colors.error.base}),label:(0,h.t)("Unknown Status")}}},n=(0,a.useMemo)((()=>e.columns.map((e=>({accessor:e,Header:()=>(e=>"sql"===e?e.toUpperCase():e.charAt(0).toUpperCase().concat(e.slice(1)))(e),disableSortBy:!0})))),[e.columns]),s=(0,o.v9)((({sqlLab:{user:e}})=>e)),i=(0,a.useMemo)((()=>e.queries.map((t=>{const n={...t},a=r[n.state]||r.error;n.endDttm&&(n.duration=(0,x.zQ)(n.startDttm,n.endDttm));const i=Br()(n.startDttm).format().split("T");if(n.time=(0,ur.tZ)("div",null,(0,ur.tZ)("span",null,i[0]," ",(0,ur.tZ)("br",null)," ",i[1])),n.user=(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"link",onClick:()=>e.onUserClicked(n.userId)},n.user),n.db=(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"link",onClick:()=>e.onDbClicked(n.dbId)},n.db),n.started=Br()(n.startDttm).format("HH:mm:ss"),n.querylink=(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"link",onClick:()=>(e=>{const t=`/superset/sqllab?queryId=${e}`;window.open(t)})(n.queryId)},(0,ur.tZ)("i",{className:"fa fa-external-link m-r-3"}),(0,h.t)("Edit")),n.sql=(0,ur.tZ)(Wr.Z,{css:[ba,"",""]},(0,ur.tZ)(ra,{sql:n.sql,rawSql:n.executedSql,shrink:!0,maxWidth:60})),n.resultsKey)n.output=(0,ur.tZ)(Mr.Z,{className:"ResultsModal",triggerNode:(0,ur.tZ)(xr.Z,{type:"info",className:"pointer"},(0,h.t)("View results")),modalTitle:(0,h.t)("Data preview"),beforeOpen:()=>((t,r)=>{e.actions.fetchQueryResults(t,r)})(t,e.displayLimit),onExit:()=>(t=>{e.actions.clearQueryResults(t)})(t),modalBody:(0,ur.tZ)(fa,{showSql:!0,user:s,query:t,actions:e.actions,height:400,displayLimit:e.displayLimit}),responsive:!0});else{const e=n.ctas&&n.tempTable&&n.tempTable.includes(".")?"":n.schema;n.output=[e,n.tempTable].filter((e=>e)).join(".")}return n.progress="success"===n.state?(0,ur.tZ)(Qr.Z,{percent:parseInt(n.progress.toFixed(0),10),striped:!0,showInfo:!1}):(0,ur.tZ)(Qr.Z,{percent:parseInt(n.progress.toFixed(0),10),striped:!0}),n.state=(0,ur.tZ)(yr.u,{title:a.config.label,placement:"bottom"},(0,ur.tZ)("span",null,a.config.icon)),n.actions=(0,ur.tZ)("div",null,(0,ur.tZ)(ga,{onClick:()=>(t=>{e.actions.queryEditorSetSql({id:t.sqlEditorId},t.sql)})(t),tooltip:(0,h.t)("Overwrite text in the editor with a query on this table"),placement:"top"},(0,ur.tZ)(Dr.Z.Edit,{iconSize:"small"})),(0,ur.tZ)(ga,{onClick:()=>(t=>{e.actions.cloneQueryToNewTab(t,!0)})(t),tooltip:(0,h.t)("Run query in a new tab"),placement:"top"},(0,ur.tZ)(Dr.Z.PlusCircleOutlined,{iconSize:"x-small",css:ya})),(0,ur.tZ)(ga,{tooltip:(0,h.t)("Remove query from log"),onClick:()=>(t=>{e.actions.removeQuery(t)})(t)},(0,ur.tZ)(Dr.Z.Trash,{iconSize:"x-small"}))),n})).reverse()),[e]);return(0,ur.tZ)("div",{className:"QueryTable"},(0,ur.tZ)(Fr.Z,{columns:n,data:i,className:"table-condensed",pageSize:50}))};_a.propTypes=va,_a.defaultProps={columns:["started","duration","rows"],queries:[],onUserClicked:()=>{},onDbClicked:()=>{}};const Ea=_a,Ta=({queries:e,actions:t,displayLimit:r})=>e.length>0?(0,ur.tZ)(Ea,{columns:["state","started","duration","progress","rows","sql","output","actions"],queries:e,actions:t,displayLimit:r}):(0,ur.tZ)(Ur.Z,{type:"info",message:(0,h.t)("No query history yet...")}),wa=tr.iK.div`
  width: 100%;

  .ant-tabs .ant-tabs-content-holder {
    overflow: visible;
  }
  .SouthPaneTabs {
    height: 100%;
    display: flex;
    flex-direction: column;
    .scrollable {
      overflow-y: auto;
    }
  }
  .ant-tabs-tabpane {
    display: flex;
    flex-direction: column;
    .scrollable {
      overflow-y: auto;
    }
  }
  .tab-content {
    .alert {
      margin-top: ${({theme:e})=>2*e.gridUnit}px;
    }

    button.fetch {
      margin-top: ${({theme:e})=>2*e.gridUnit}px;
    }
  }
`,Ca=(0,o.$j)((function({sqlLab:e}){return{activeSouthPaneTab:e.activeSouthPaneTab,databases:e.databases,offline:e.offline,user:e.user}}),(function(e){return{actions:(0,i.DE)(n,e)}}))((function({editorQueries:e,latestQueryId:t,dataPreviewQueries:r,actions:n,activeSouthPaneTab:s="Results",height:i,databases:o,offline:l=!1,displayLimit:u,user:f,defaultQueryLimit:p}){const m=i-140,b=(0,a.createRef)();return l?(0,ur.tZ)(xr.Z,{className:"m-r-3",type:sr.IY[sr.Em.offline]},sr.Em.offline):(0,ur.tZ)(wa,{className:"SouthPane",ref:b},(0,ur.tZ)(fr.ZP,{activeKey:s,className:"SouthPaneTabs",onChange:e=>{n.setActiveSouthPaneTab(e)},id:v().generate(),fullWidth:!1,animated:!1},(0,ur.tZ)(fr.ZP.TabPane,{tab:(0,h.t)("Results"),key:"Results"},(()=>{let r,a;if(e.length>0&&(r=e.find((({id:e})=>e===t))),r){var s,i;if(null!=(s=r)&&null!=(i=s.extra)&&i.errors&&(r.errors=r.extra.errors),(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)&&"success"===r.state&&!r.resultsKey&&!r.results)return a=(0,ur.tZ)(Ur.Z,{type:"warning",message:(0,h.t)("No stored results found, you need to re-run your query")}),a;Date.now()-r.startDttm<=sr.U$&&(a=(0,ur.tZ)(fa,{showControls:!0,search:!0,query:r,actions:n,user:f,height:m,database:o[r.dbId],displayLimit:u,defaultQueryLimit:p}))}else a=(0,ur.tZ)(Ur.Z,{type:"info",message:(0,h.t)("Run a query to display results here")});return a})()),(0,ur.tZ)(fr.ZP.TabPane,{tab:(0,h.t)("Query history"),key:"History"},(0,ur.tZ)(Ta,{queries:e,actions:n,displayLimit:u})),r.map((e=>(0,ur.tZ)(fr.ZP.TabPane,{tab:(0,h.t)("Preview: `%s`",decodeURIComponent(e.tableName)),key:e.id},(0,ur.tZ)(fa,{query:e,visualize:!1,csv:!1,actions:n,cache:!0,user:f,height:m,displayLimit:u,defaultQueryLimit:p}))))))}));var Sa=r(49238);const Ra=tr.iK.span`
  span[role='img'] {
    display: flex;
    margin: 0;
    color: ${({theme:e})=>e.colors.grayscale.base};
    svg {
      vertical-align: -${({theme:e})=>1.25*e.gridUnit}px;
      margin: 0;
    }
  }
`;function xa({query:e,defaultLabel:t=(0,h.t)("Undefined"),onSave:r=(()=>{}),onUpdate:n,saveQueryWarning:s=null}){const[i,o]=(0,a.useState)(e.description||""),[l,u]=(0,a.useState)(t),[d,c]=(0,a.useState)(!1),f=!!e.remoteId,p=()=>({...e,title:l,description:i}),m=()=>{c(!1)},b=()=>{r(p()),m()};return(0,ur.tZ)(Ra,{className:"SaveQuery"},(0,ur.tZ)(Rr.Z,{buttonSize:"small",onClick:()=>{c(!d)}},(0,ur.tZ)(Dr.Z.Save,{iconSize:"xl"}),f?(0,h.t)("Save"):(0,h.t)("Save as")),(0,ur.tZ)(wr.Z,{className:"save-query-modal",onHandledPrimaryAction:b,onHide:m,primaryButtonName:f?(0,h.t)("Save"):(0,h.t)("Save as"),width:"620px",show:d,title:(0,ur.tZ)("h4",null,(0,h.t)("Save query")),footer:[(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(Rr.Z,{onClick:m,cta:!0},(0,h.t)("Cancel")),(0,ur.tZ)(Rr.Z,{buttonStyle:f?void 0:"primary",onClick:b,className:"m-r-3",cta:!0},f?(0,h.t)("Save as new"):(0,h.t)("Save")),f&&(0,ur.tZ)(Rr.Z,{buttonStyle:"primary",onClick:()=>{n(p()),m()},className:"m-r-3",cta:!0},(0,h.t)("Update")))]},(0,ur.tZ)(Sa.l0,{layout:"vertical"},(0,ur.tZ)(pr.X2,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)(Sa.xJ,{label:(0,h.t)("Name")},(0,ur.tZ)(pr.II,{type:"text",value:l,onChange:e=>{u(e.target.value)}})))),(0,ur.tZ)("br",null),(0,ur.tZ)(pr.X2,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)(Sa.xJ,{label:(0,h.t)("Description")},(0,ur.tZ)(pr.Kx,{rows:4,value:i,onChange:e=>{o(e.target.value)}})))),s&&(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)("br",null),(0,ur.tZ)("div",null,(0,ur.tZ)(pr.X2,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)("small",null,s))),(0,ur.tZ)("br",null))))))}var Aa,Ia,Oa=r(99670),Da=r(72174);const Na=document.getElementById("app"),Pa=JSON.parse((null==Na?void 0:Na.getAttribute("data-bootstrap"))||"{}"),Ma=null==Pa||null==(Aa=Pa.common)||null==(Ia=Aa.conf)?void 0:Ia.SCHEDULED_QUERIES,qa={greater:(e,t)=>e>t,greater_equal:(e,t)=>e>=t,less:(e,t)=>e<t,less_equal:(e,t)=>e<=t},Za=()=>{const e=null==Ma?void 0:Ma.JSONSCHEMA;return e?(Object.entries(e.properties).forEach((([t,r])=>{r.default&&"date-time"===r.format&&(e.properties[t]={...r,default:Da.parseDate(r.default).toISOString()})})),e):{}},ka=()=>null==Ma?void 0:Ma.UISCHEMA,La=()=>{const e=(null==Ma?void 0:Ma.VALIDATION)||[];return(t,r)=>(e.forEach((e=>{const n=qa[e.name],a=e.arguments.map((e=>t[e])),s=e.container||e.arguments.slice(-1)[0];n(...a)||r[s].addError(e.message)})),r)},ja=(0,tr.iK)(pr.X2)`
  padding-bottom: ${({theme:e})=>2*e.gridUnit}px;
`,Ua=(0,tr.iK)(Rr.Z)`
  background: none;
  text-transform: none;
  padding: 0px;
  color: rgba(0, 0, 0, 0.85);
  font-size: 14px;
  font-weight: ${({theme:e})=>e.typography.weights.normal};
  &:disabled {
    background: none;
    color: rgba(0, 0, 0, 0.85);
    &:hover {
      background: none;
      color: rgba(0, 0, 0, 0.85);
    }
  }
`;var $a={name:"tjo4qw",styles:"float:right"};const Ba=({defaultLabel:e=(0,h.t)("Undefined"),sql:t,schema:r,dbId:n,onSchedule:s=(()=>{}),scheduleQueryWarning:i,tooltip:o,disabled:l=!1})=>{const[u,d]=(0,a.useState)(""),[c,f]=(0,a.useState)(e),[p,m]=(0,a.useState)(!1);let b;return(0,ur.tZ)("span",{className:"ScheduleQueryButton"},(0,ur.tZ)(Mr.Z,{ref:e=>{b=e},modalTitle:(0,h.t)("Schedule query"),modalBody:(0,ur.tZ)(Sa.l0,{layout:"vertical"},(0,ur.tZ)(ja,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)(Sa.xJ,{label:(0,h.t)("Label")},(0,ur.tZ)(pr.II,{type:"text",placeholder:(0,h.t)("Label for your query"),value:c,onChange:e=>f(e.target.value)})))),(0,ur.tZ)(ja,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)(Sa.xJ,{label:(0,h.t)("Description")},(0,ur.tZ)(pr.Kx,{rows:4,placeholder:(0,h.t)("Write a description for your query"),value:u,onChange:e=>d(e.target.value)})))),(0,ur.tZ)(pr.X2,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)("div",{className:"json-schema"},(0,ur.tZ)(Oa.Z,{schema:Za(),uiSchema:ka,onSubmit:({formData:e})=>{var a;const i={label:c,description:u,db_id:n,schema:r,sql:t,extra_json:JSON.stringify({schedule_info:e})};s(i),null==(a=b)||a.close()},validate:La()},(0,ur.tZ)(Rr.Z,{buttonStyle:"primary",htmlType:"submit",css:$a},"Submit"))))),i&&(0,ur.tZ)(pr.X2,null,(0,ur.tZ)(pr.JX,{xs:24},(0,ur.tZ)("small",null,i)))),triggerNode:(0,ur.tZ)(Ua,{onClick:()=>m(!p),buttonSize:"small",buttonStyle:"link",tooltip:o,disabled:l},(0,h.t)("Schedule"))}))};var Wa=r(46977);const Qa=({dbId:e,schema:t,sql:r,getEstimate:n,queryCostEstimate:s={},selectedText:i,tooltip:o="",disabled:l=!1})=>{const{cost:u}=s,d=(0,a.useMemo)((()=>Array.isArray(u)?u:[]),[u]),c=(0,a.useMemo)((()=>Array.isArray(u)&&u.length?Object.keys(u[0]).map((e=>({accessor:e,Header:e}))):[]),[u]),f=i?(0,h.t)("Estimate selected query cost"):(0,h.t)("Estimate cost");return(0,ur.tZ)("span",{className:"EstimateQueryCostButton"},(0,ur.tZ)(Mr.Z,{modalTitle:(0,h.t)("Cost estimate"),modalBody:null!==s.error?(0,ur.tZ)(Ur.Z,{key:"query-estimate-error",type:"error",message:s.error}):s.completed?(0,ur.tZ)(Fr.Z,{columns:c,data:d,withPagination:!1,emptyWrapperType:Wa.u.Small,className:"cost-estimate"}):(0,ur.tZ)(tn.Z,{position:"normal"}),triggerNode:(0,ur.tZ)(Rr.Z,{style:{height:32,padding:"4px 15px"},onClick:()=>{n()},key:"query-estimate-btn",tooltip:o,disabled:l},f)}))};var Fa=r(14114);const Ya=(0,tr.iK)(Dr.Z.Link)`
  &:first-of-type {
    margin: 0;
    display: flex;
    svg {
      margin: 0;
    }
  }
`,za=(0,Fa.Z)((function({queryEditor:e,addDangerToast:t}){const r=(0,tr.Fg)(),n=e=>{const t=e?(0,h.t)("Copy query link to your clipboard"):(0,h.t)("Save the query to enable this feature");return(0,ur.tZ)(Rr.Z,{buttonSize:"small",tooltip:t,disabled:!e},(0,ur.tZ)(Ya,{iconColor:e?r.colors.primary.base:r.colors.grayscale.base,iconSize:"xl"}),(0,h.t)("Copy link"))},s=!!e.remoteId||(0,d.cr)(c.T.SHARE_QUERIES_VIA_KV_STORE);return(0,ur.tZ)(a.Fragment,null,s?(0,ur.tZ)(qn.Z,{getText:r=>(0,d.cr)(c.T.SHARE_QUERIES_VIA_KV_STORE)?(r=>{const{dbId:n,title:a,schema:s,autorun:i,sql:o}=e,l={dbId:n,title:a,schema:s,autorun:i,sql:o};return(0,gr.G9)(l).then((e=>{r(e)})).catch((e=>{(0,A.O)(e).then((()=>{t((0,h.t)("There was an error with your request"))}))}))})(r):(t=>{let r;e.remoteId?(r=`${window.location.origin+window.location.pathname}?savedQueryId=${e.remoteId}`,t(r)):(r=(0,h.t)("Please save the query to enable sharing"),t(r))})(r),wrapped:!1,copyNode:n(s)}):n(s))}));var Ha=r(43700),Ka=r(4715);const Va=({onClick:e,tooltipContent:t})=>{const r=a.forwardRef(((e,t)=>(0,ur.tZ)(Dr.Z.Refresh,e)));return(0,ur.tZ)(yr.u,{title:t},(0,ur.tZ)(r,{role:"button",onClick:e,css:e=>({cursor:"pointer",color:e.colors.grayscale.base,"&:hover":{color:e.colors.primary.base}})}))},Ga=tr.iK.div`
  ${({theme:e})=>`\n    .refresh {\n      display: flex;\n      align-items: center;\n      width: 30px;\n      margin-left: ${e.gridUnit}px;\n      margin-top: ${5*e.gridUnit}px;\n    }\n\n    .section {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .select {\n      width: calc(100% - 30px - ${e.gridUnit}px);\n      flex: 1;\n    }\n\n    & > div {\n      margin-bottom: ${4*e.gridUnit}px;\n    }\n  `}
`,Ja=tr.iK.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-left: ${({theme:e})=>e.gridUnit-2}px;

  .backend {
    overflow: visible;
  }

  .name {
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,Xa=({backend:e,databaseName:t})=>(0,ur.tZ)(Ja,null,(0,ur.tZ)(xr.Z,{className:"backend"},e),(0,ur.tZ)("span",{className:"name",title:t},t));function es({db:e,formMode:t=!1,getDbList:r,handleError:n,isDatabaseSelectEnabled:s=!0,onDbChange:i,onSchemaChange:o,onSchemasLoad:l,readOnly:u=!1,schema:d,sqlLabMode:c=!1}){const[f,p]=(0,a.useState)(!1),[m,b]=(0,a.useState)([]),[y,g]=(0,a.useState)(e?{label:(0,ur.tZ)(Xa,{backend:e.backend,databaseName:e.database_name}),value:e.id,...e}:void 0),[v,_]=(0,a.useState)(d?{label:d,value:d}:void 0),[E,w]=(0,a.useState)(0),C=(0,a.useMemo)((()=>async(e,a,s)=>{const i=`/api/v1/database/?q=${Kr().encode({order_columns:"database_name",order_direction:"asc",page:a,page_size:s,...t||!c?{filters:[{col:"database_name",opr:"ct",value:e}]}:{filters:[{col:"database_name",opr:"ct",value:e},{col:"expose_in_sqllab",opr:"eq",value:!0}]}})}`;return T.Z.get({endpoint:i}).then((({json:e})=>{const{result:t}=e;r&&r(t),0===t.length&&n((0,h.t)("It seems you don't have access to any database"));const a=t.map((e=>({label:(0,ur.tZ)(Xa,{backend:e.backend,databaseName:e.database_name}),value:e.id,id:e.id,database_name:e.database_name,backend:e.backend,allow_multi_schema_metadata_fetch:e.allow_multi_schema_metadata_fetch})));return{data:a,totalCount:a.length}}))}),[t,r,n,c]);function S(e,t){return(0,ur.tZ)("div",{className:"section"},(0,ur.tZ)("span",{className:"select"},e),(0,ur.tZ)("span",{className:"refresh"},t))}return(0,a.useEffect)((()=>{if(y){p(!0);const e=Kr().encode({force:E>0}),t=`/api/v1/database/${y.value}/schemas/?q=${e}`;T.Z.get({endpoint:t}).then((({json:e})=>{const t=e.result.map((e=>({value:e,label:e,title:e})));l&&l(t),b(t),p(!1)})).catch((()=>{p(!1),n((0,h.t)("There was an error loading the schemas"))}))}}),[y,l,E]),(0,ur.tZ)(Ga,null,S((0,ur.tZ)(Ka.P,{ariaLabel:(0,h.t)("Select database or type database name"),optionFilterProps:["database_name","value"],header:(0,ur.tZ)(Sa.lX,null,(0,h.t)("Database")),lazyLoading:!1,onChange:function(e,t){g(t),_(void 0),i&&i(t),o&&o(void 0)},value:y,placeholder:(0,h.t)("Select database or type database name"),disabled:!s||u,options:C}),null),function(){const e=!t&&!u&&(0,ur.tZ)(Va,{onClick:()=>w(E+1),tooltipContent:(0,h.t)("Force refresh schema list")});return S((0,ur.tZ)(Ka.P,{ariaLabel:(0,h.t)("Select schema or type schema name"),disabled:u,header:(0,ur.tZ)(Sa.lX,null,(0,h.t)("Schema")),labelInValue:!0,lazyLoading:!1,loading:f,name:"select-schema",placeholder:(0,h.t)("Select schema or type schema name"),onChange:e=>function(e){_(e),o&&o(e.value)}(e),options:m,showSearch:!0,value:v}),e)}())}const ts=function({certifiedBy:e,details:t,size:r="l"}){return(0,ur.tZ)(yr.u,{id:"certified-details-tooltip",title:(0,ur.tZ)(a.Fragment,null,e&&(0,ur.tZ)("div",null,(0,ur.tZ)("strong",null,(0,h.t)("Certified by %s",e))),(0,ur.tZ)("div",null,t))},(0,ur.tZ)(Dr.Z.Certified,{iconColor:tr.K6.colors.primary.base,iconSize:r}))};var rs=r(86057);const ns=tr.iK.div`
  ${({theme:e})=>`\n    .refresh {\n      display: flex;\n      align-items: center;\n      width: 30px;\n      margin-left: ${e.gridUnit}px;\n      margin-top: ${5*e.gridUnit}px;\n    }\n\n    .section {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .divider {\n      border-bottom: 1px solid ${e.colors.secondary.light5};\n      margin: 15px 0;\n    }\n\n    .table-length {\n      color: ${e.colors.grayscale.light1};\n    }\n\n    .select {\n      flex: 1;\n    }\n  `}
`,as=tr.iK.span`
  align-items: center;
  display: flex;
  white-space: nowrap;

  svg,
  small {
    margin-right: ${({theme:e})=>e.gridUnit}px;
  }
`,ss=({table:e})=>{const{label:t,type:r,extra:n}=e;return(0,ur.tZ)(as,{title:t},"view"===r?(0,ur.tZ)(Dr.Z.Eye,{iconSize:"m"}):(0,ur.tZ)(Dr.Z.Table,{iconSize:"m"}),(null==n?void 0:n.certification)&&(0,ur.tZ)(ts,{certifiedBy:n.certification.certified_by,details:n.certification.details,size:"l"}),(null==n?void 0:n.warning_markdown)&&(0,ur.tZ)(rs.Z,{warningMarkdown:n.warning_markdown,size:"l"}),t)},is=({database:e,formMode:t=!1,getDbList:r,handleError:n,isDatabaseSelectEnabled:s=!0,onDbChange:i,onSchemaChange:o,onSchemasLoad:l,onTableChange:u,onTablesLoad:d,readOnly:c=!1,schema:f,sqlLabMode:p=!0,tableName:m})=>{const[b,y]=(0,a.useState)(e),[g,v]=(0,a.useState)(f),[_,E]=(0,a.useState)(),[w,C]=(0,a.useState)(0),[S,R]=(0,a.useState)(0),[x,A]=(0,a.useState)(!1),[I,O]=(0,a.useState)([]);(0,a.useEffect)((()=>{void 0===e&&(y(void 0),v(void 0),E(void 0))}),[e]),(0,a.useEffect)((()=>{if(b&&g){A(!0);const e=encodeURIComponent(g),t=w!==S,r=encodeURI(`/superset/tables/${b.id}/${e}/undefined/${t}/`);S!==w&&R(w),T.Z.get({endpoint:r}).then((({json:e})=>{const t=[];let r;e.options.forEach((e=>{const n={value:e.value,label:(0,ur.tZ)(ss,{table:e}),text:e.label};t.push(n),e.label===m&&(r=n)})),d&&d(e.options),O(t),E(r),A(!1)})).catch((e=>{A(!1),n((0,h.t)("There was an error loading the tables"))}))}}),[b,g,d,w]);const D=e=>{E(e),u&&g&&u(null==e?void 0:e.value,g)},N=(0,a.useMemo)((()=>(e,t)=>{const r=e.trim().toLowerCase(),{text:n}=t;return n.toLowerCase().includes(r)}),[]);return(0,ur.tZ)(ns,null,(0,ur.tZ)(es,{key:null==b?void 0:b.id,db:b,formMode:t,getDbList:r,handleError:n,onDbChange:c?void 0:e=>{y(e),i&&i(e)},onSchemaChange:c?void 0:e=>{v(e),o&&o(e),D(void 0)},onSchemasLoad:l,schema:g,sqlLabMode:p,isDatabaseSelectEnabled:s&&!c,readOnly:c}),p&&!t&&(0,ur.tZ)("div",{className:"divider"}),function(){const r=g&&!t&&c||!g&&!(null!=e&&e.allow_multi_schema_metadata_fetch),n=p?(0,ur.tZ)(Sa.lX,null,(0,h.t)("See table schema")):(0,ur.tZ)(Sa.lX,null,(0,h.t)("Table"));return a=(0,ur.tZ)(Ka.P,{ariaLabel:(0,h.t)("Select table or type table name"),disabled:r,filterOption:N,header:n,labelInValue:!0,lazyLoading:!1,loading:x,name:"select-table",onChange:e=>D(e),options:I,placeholder:(0,h.t)("Select table or type table name"),showSearch:!0,value:_}),s=!t&&!c&&(0,ur.tZ)(Va,{onClick:()=>C(w+1),tooltipContent:(0,h.t)("Force refresh table list")}),(0,ur.tZ)("div",{className:"section"},(0,ur.tZ)("span",{className:"select"},a),(0,ur.tZ)("span",{className:"refresh"},s));var a,s}())},os={column:er().object.isRequired},ls=e=>{const t=(0,tr.Fg)();return(0,ur.tZ)(ur.ms,null,(({css:r})=>(0,ur.tZ)(yr.u,or()({overlayClassName:r`
            .ant-tooltip-inner {
              max-width: ${125*t.gridUnit}px;
              word-wrap: break-word;
              text-align: center;

              pre {
                background: transparent;
                border: none;
                text-align: left;
                color: ${t.colors.grayscale.light5};
                font-size: ${t.typography.sizes.xs}px;
              }
            }
          `},e))))},us=tr.iK.hr`
  margin-top: ${({theme:e})=>1.5*e.gridUnit}px;
`,ds={pk:"fa-key",fk:"fa-link",index:"fa-bookmark"},cs={pk:"Primary key",fk:"Foreign key",index:"Index"};function hs({column:e}){let t,r=e.name;return e.keys&&e.keys.length>0&&(r=(0,ur.tZ)("strong",null,e.name),t=e.keys.map(((e,t)=>(0,ur.tZ)("span",{key:t,className:"ColumnElement"},(0,ur.tZ)(ls,{placement:"right",title:(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)("strong",null,cs[e.type]),(0,ur.tZ)(us,null),(0,ur.tZ)("pre",{className:"text-small"},JSON.stringify(e,null,"  ")))},(0,ur.tZ)("i",{className:`fa text-muted m-l-2 ${ds[e.type]}`})))))),(0,ur.tZ)("div",{className:"clearfix table-column"},(0,ur.tZ)("div",{className:"pull-left m-l-10 col-name"},r,t),(0,ur.tZ)("div",{className:"pull-right text-muted"},(0,ur.tZ)("small",null," ",e.type)))}function fs({tooltipText:e,title:t,sql:r}){return(0,ur.tZ)(Mr.Z,{modalTitle:t,triggerNode:(0,ur.tZ)(ma,{className:"fa fa-eye pull-left m-l-2",tooltip:e}),modalBody:(0,ur.tZ)("div",null,(0,ur.tZ)(Gn.Z,{language:"sql",style:Xn.Z},r))})}hs.propTypes=os,Gn.Z.registerLanguage("sql",Jn.Z);const ps=tr.iK.span`
  color: ${({theme:e})=>e.colors.primary.dark1};
  &: hover {
    color: ${({theme:e})=>e.colors.primary.dark2};
  }
  cursor: pointer;
`,ms=tr.iK.div`
  transition: all ${({theme:e})=>e.transitionTiming}s;
  opacity: ${e=>e.hovered?1:0};
`;var bs={name:"1hs1mx1",styles:"padding-top:6px"};const ys=({table:e,actions:t,...r})=>{const[n,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),l=a.useRef(null),u=e=>{Tr()((()=>o(e)),100)()},d=()=>{t.removeDataPreview(e),t.removeTable(e)},c=()=>{s((e=>!e))};return(0,ur.tZ)(Ha.Z.Panel,or()({},r,{key:e.id,header:(()=>{const t=l.current;let r=[];return t&&t.offsetWidth<t.scrollWidth&&(r=["hover"]),(0,ur.tZ)("div",{className:"clearfix header-container",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)},(0,ur.tZ)(yr.u,{id:"copy-to-clipboard-tooltip",style:{cursor:"pointer"},title:e.name,trigger:r},(0,ur.tZ)(ps,{ref:l,className:"table-name"},(0,ur.tZ)("strong",null,e.name))),(0,ur.tZ)("div",{className:"pull-right header-right-side"},e.isMetadataLoading||e.isExtraMetadataLoading?(0,ur.tZ)(tn.Z,{position:"inline"}):(0,ur.tZ)(ms,{hovered:i,onClick:e=>e.stopPropagation()},(()=>{var t;let r;return null!=e&&null!=(t=e.indexes)&&t.length&&(r=(0,ur.tZ)(Mr.Z,{modalTitle:(0,ur.tZ)("div",null,(0,h.t)("Keys for table")," ",(0,ur.tZ)("strong",null,e.name)),modalBody:e.indexes.map(((e,t)=>(0,ur.tZ)("pre",{key:t},JSON.stringify(e,null,"  ")))),triggerNode:(0,ur.tZ)(ma,{className:"fa fa-key pull-left m-l-2",tooltip:(0,h.t)("View keys & indexes (%s)",e.indexes.length)})})),(0,ur.tZ)(zr,{className:"ws-el-controls"},r,(0,ur.tZ)(ma,{className:`fa fa-sort-${n?"numeric":"alpha"}-asc pull-left sort-cols m-l-2 pointer`,onClick:c,tooltip:n?(0,h.t)("Original table column order"):(0,h.t)("Sort columns alphabetically")}),e.selectStar&&(0,ur.tZ)(qn.Z,{copyNode:(0,ur.tZ)(ma,{"aria-label":"Copy",tooltip:(0,h.t)("Copy SELECT statement to the clipboard")},(0,ur.tZ)("i",{"aria-hidden":!0,className:"fa fa-clipboard pull-left m-l-2"})),text:e.selectStar,shouldShowText:!1}),e.view&&(0,ur.tZ)(fs,{sql:e.view,tooltipText:(0,h.t)("Show CREATE VIEW statement"),title:(0,h.t)("CREATE VIEW statement")}),(0,ur.tZ)(ma,{className:"fa fa-times table-remove pull-left m-l-2 pointer",onClick:d,tooltip:(0,h.t)("Remove table preview")}))})())))})(),className:"TableElement",forceRender:!0}),(()=>{var t;let r;return e.columns&&(r=e.columns.slice(),n&&r.sort(((e,t)=>{const r=e.name.toUpperCase(),n=t.name.toUpperCase();return r<n?-1:r>n?1:0}))),(0,ur.tZ)("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),css:bs},(()=>{let t,r;if(e.partitions){var n;let r,a;if(e.partitions.partitionQuery){({partitionQuery:r}=e.partitions);const t=(0,h.t)("Copy partition query to clipboard");a=(0,ur.tZ)(qn.Z,{text:r,shouldShowText:!1,tooltipText:t,copyNode:(0,ur.tZ)("i",{className:"fa fa-clipboard"})})}const s=Object.entries((null==(n=e.partitions)?void 0:n.latest)||[]).map((([e,t])=>`${e}=${t}`)).join("/");t=(0,ur.tZ)("div",null,(0,ur.tZ)("small",null,(0,h.t)("latest partition:")," ",s)," ",a)}return e.metadata&&(r=Object.entries(e.metadata).map((([e,t])=>(0,ur.tZ)("div",null,(0,ur.tZ)("small",null,(0,ur.tZ)("strong",null,e,":")," ",t))))),t||r&&r.length?(0,ur.tZ)(Wr.Z,{size:"small"},t,r):null})(),(0,ur.tZ)("div",null,null==(t=r)?void 0:t.map((e=>(0,ur.tZ)(hs,{column:e,key:e.name})))))})())},gs={queryEditor:er().object.isRequired,height:er().number,tables:er().array,actions:er().object,database:er().object,offline:er().bool},vs=tr.iK.div`
  flex: 1 1 auto;
  overflow: auto;
`,_s=tr.iK.div`
  height: ${e=>e.contentHeight}px;
`;class Es extends a.PureComponent{constructor(e){super(e),this.renderExpandIconWithTooltip=({isActive:e})=>(0,ur.tZ)(ma,{css:ur.iv`
        transform: rotate(90deg);
      `,"aria-label":"Collapse",tooltip:e?(0,h.t)("Collapse table preview"):(0,h.t)("Expand table preview")},(0,ur.tZ)(Dr.Z.RightOutlined,{iconSize:"s",css:ur.iv`
          transform: ${e?"rotateY(180deg)":""};
        `})),this.resetState=this.resetState.bind(this),this.onSchemaChange=this.onSchemaChange.bind(this),this.onSchemasLoad=this.onSchemasLoad.bind(this),this.onTablesLoad=this.onTablesLoad.bind(this),this.onDbChange=this.onDbChange.bind(this),this.getDbList=this.getDbList.bind(this),this.onTableChange=this.onTableChange.bind(this),this.onToggleTable=this.onToggleTable.bind(this)}onSchemaChange(e){this.props.actions.queryEditorSetSchema(this.props.queryEditor,e)}onSchemasLoad(e){this.props.actions.queryEditorSetSchemaOptions(this.props.queryEditor,e)}onTablesLoad(e){this.props.actions.queryEditorSetTableOptions(this.props.queryEditor,e)}onDbChange(e){this.props.actions.queryEditorSetDb(this.props.queryEditor,e.id),this.props.actions.queryEditorSetFunctionNames(this.props.queryEditor,e.id)}onTableChange(e,t){e&&t&&this.props.actions.addTable(this.props.queryEditor,e,t)}onToggleTable(e){this.props.tables.forEach((t=>{!e.includes(t.id.toString())&&t.expanded?this.props.actions.collapseTable(t):e.includes(t.id.toString())&&!t.expanded&&this.props.actions.expandTable(t)}))}getDbList(e){this.props.actions.setDatabases(e)}dbMutator(e){const t=e.result.map((e=>({value:e.id,label:e.database_name})));return this.props.actions.setDatabases(e.result),0===e.result.length&&this.props.actions.addDangerToast((0,h.t)("It seems you don't have access to any database")),t}resetState(){this.props.actions.resetState()}changeTable(e){if(!e)return;const t=e.value.schema,r=e.value.table;this.props.actions.queryEditorSetSchema(this.props.queryEditor,t),this.props.actions.addTable(this.props.queryEditor,r,t)}render(){const e="?reset=1"===window.location.search,t=this.props.height-130,r=this.props.queryEditor;return(0,ur.tZ)("div",{className:"SqlEditorLeftBar"},(0,ur.tZ)(is,{database:this.props.database,dbId:r.dbId,getDbList:this.getDbList,handleError:this.props.actions.addDangerToast,onDbChange:this.onDbChange,onSchemaChange:this.onSchemaChange,onSchemasLoad:this.onSchemasLoad,onTableChange:this.onTableChange,onTablesLoad:this.onTablesLoad,schema:r.schema,sqlLabMode:!0}),(0,ur.tZ)("div",{className:"divider"}),(0,ur.tZ)(vs,null,(0,ur.tZ)(_s,{contentHeight:t},(0,ur.tZ)(Ha.Z,{activeKey:this.props.tables.filter((({expanded:e})=>e)).map((({id:e})=>e)),css:e=>ur.iv`
                .ant-collapse-item {
                  margin-bottom: ${3*e.gridUnit}px;
                }
                .ant-collapse-header {
                  padding: 0px !important;
                  display: flex;
                  align-items: center;
                }
                .ant-collapse-content-box {
                  padding: 0px ${4*e.gridUnit}px 0px 0px !important;
                }
                .ant-collapse-arrow {
                  top: ${2*e.gridUnit}px !important;
                  color: ${e.colors.primary.dark1} !important;
                  &: hover {
                    color: ${e.colors.primary.dark2} !important;
                  }
                }
              `,expandIconPosition:"right",ghost:!0,onChange:this.onToggleTable,expandIcon:this.renderExpandIconWithTooltip},this.props.tables.map((e=>(0,ur.tZ)(ys,{table:e,key:e.id,actions:this.props.actions})))))),e&&(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"danger",onClick:this.resetState},(0,ur.tZ)("i",{className:"fa fa-bomb"})," ",(0,h.t)("Reset state")))}}Es.propTypes=gs,Es.defaultProps={actions:{},height:500,offline:!1,tables:[]};var Ts=r(33313);class ws extends a.PureComponent{constructor(e){super(e),this.state={sql:e.sql,selectedText:"",words:[]},this.onChange=this.onChange.bind(this)}componentDidMount(){this.props.actions.queryEditorSetSelectedText(this.props.queryEditor,null),this.props.queryEditor.dbId&&this.props.actions.queryEditorSetFunctionNames(this.props.queryEditor,this.props.queryEditor.dbId),this.setAutoCompleter(this.props)}UNSAFE_componentWillReceiveProps(e){(0,Gt.E8)(this.props.tables,e.tables)&&(0,Gt.E8)(this.props.schemas,e.schemas)&&(0,Gt.E8)(this.props.extendedTables,e.extendedTables)||this.setAutoCompleter(e),e.sql!==this.props.sql&&this.setState({sql:e.sql})}onBlur(){this.props.onBlur(this.state.sql)}onAltEnter(){this.props.onBlur(this.state.sql)}onEditorLoad(e){e.commands.addCommand({name:"runQuery",bindKey:{win:"Alt-enter",mac:"Alt-enter"},exec:()=>{this.onAltEnter()}}),this.props.hotkeys.forEach((t=>{e.commands.addCommand({name:t.name,bindKey:{win:t.key,mac:t.key},exec:t.func})})),e.$blockScrolling=1/0,e.selection.on("changeSelection",(()=>{const t=e.getSelectedText();t!==this.state.selectedText&&1!==t.length&&(this.setState({selectedText:t}),this.props.actions.queryEditorSetSelectedText(this.props.queryEditor,t))}))}onChange(e){this.setState({sql:e}),this.props.onChange(e)}setAutoCompleter(e){const t=(e.schemas||[]).map((e=>({name:e.label,value:e.value,score:sr.iJ,meta:"schema"}))),r={},n=e.tables||[],a=e.extendedTables||[],s=n.map((e=>{const t=e.value,n=a.find((e=>e.name===t));return(n&&n.columns||[]).forEach((e=>{r[e.name]=null})),{name:e.label,value:t,score:sr.lr,meta:"table"}})),i=Object.keys(r).map((e=>({name:e,value:e,score:sr.OI,meta:"column"}))),o=e.functionNames.map((e=>({name:e,value:e,score:sr.GJ,meta:"function"}))),l={insertMatch:(e,t)=>{"table"===t.meta&&this.props.actions.addTable(this.props.queryEditor,t.value,this.props.queryEditor.schema),e.completer.insertMatch(`${t.caption}${["function","schema"].includes(t.meta)?"":" "}`)}},u=t.concat(s).concat(i).concat(o).concat(Ts.Z).map((e=>({...e,completer:l})));this.setState({words:u})}getAceAnnotations(){var e;const{validationResult:t}=this.props.queryEditor;return(null==t?void 0:t.completed)&&null!=t&&null!=(e=t.errors)&&e.length?t.errors.map((e=>({type:"error",row:e.line_number-1,column:e.start_column-1,text:e.message}))):[]}render(){return(0,ur.tZ)(qr.up,{keywords:this.state.words,onLoad:this.onEditorLoad.bind(this),onBlur:this.onBlur.bind(this),height:this.props.height,onChange:this.onChange,width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:this.props.autocomplete,value:this.state.sql,annotations:this.getAceAnnotations()})}}ws.defaultProps={onBlur:()=>{},onChange:()=>{},schemas:[],tables:[],functionNames:[],extendedTables:[]};const Cs=ws;var Ss=r(21804),Rs=r.n(Ss);const xs=tr.iK.div`
  .ant-btn-group {
    button.ant-btn {
      background-color: ${({theme:e})=>e.colors.primary.dark1};
      border-color: transparent;
      color: ${({theme:e})=>e.colors.grayscale.light5};
      font-size: 12px;
      line-height: 13px;
      outline: none;
      text-transform: uppercase;
      &:first-of-type {
        border-radius: ${({theme:e})=>`${e.gridUnit}px 0 0 ${e.gridUnit}px`};
        margin: 0;
        width: 120px;
      }

      &:disabled {
        background-color: ${({theme:e})=>e.colors.grayscale.light2};
        color: ${({theme:e})=>e.colors.grayscale.base};
      }
      &:nth-child(2) {
        margin: 0;
        border-radius: ${({theme:e})=>`0 ${e.gridUnit}px ${e.gridUnit}px 0`};
        width: ${({theme:e})=>9*e.gridUnit}px;
        &:before,
        &:hover:before {
          border-left: 1px solid ${({theme:e})=>e.colors.grayscale.light5};
          content: '';
          display: block;
          height: 23px;
          margin: 0;
          position: absolute;
          top: ${({theme:e})=>.75*e.gridUnit}px;
          width: ${({theme:e})=>.25*e.gridUnit}px;
        }

        &:disabled:before {
          border-left: 1px solid ${({theme:e})=>e.colors.grayscale.base};
        }
      }
    }
  }
`,As=({overlay:e,tooltip:t,placement:r,...n})=>{const a=(t={})=>(0,ur.tZ)(xs,null,(0,ur.tZ)(pr.Lt.Button,or()({overlay:e},n,t)));return t?a({buttonsRender:([e,n])=>[(0,ur.tZ)(pr.u,{placement:r,id:`${Rs()(t)}-tooltip`,title:t},e),n]}):a()},Is=tr.iK.span`
  button {
    line-height: 13px;
    // this is to over ride a previous transition built into the component
    transition: background-color 0ms;
    &:last-of-type {
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
    }
    span[name='caret-down'] {
      display: flex;
      margin-right: ${({theme:e})=>-2*e.gridUnit}px;
    }
  }
`,Os=({allowAsync:e=!1,queryState:t,selectedText:r,sql:n="",overlayCreateAsMenu:s,runQuery:i,stopQuery:o})=>{const l=!!t&&["running","pending"].indexOf(t)>-1,u=s?As:Rr.Z,d=!n.trim();return(0,ur.tZ)(Is,null,(0,ur.tZ)(u,or()({onClick:()=>((e,t,r=(()=>{}),n=(()=>{}))=>e?n():r(!!t))(l,e,i,o),disabled:d,tooltip:!d&&(l?(0,h.t)("Stop running (Ctrl + x)"):(0,h.t)("Run query (Ctrl + Return)")),cta:!0},s?{overlay:s,icon:(0,ur.tZ)(Dr.Z.CaretDown,{iconColor:d?tr.K6.colors.grayscale.base:tr.K6.colors.grayscale.light5,name:"caret-down"}),trigger:"click"}:{buttonStyle:"primary"}),((e,t)=>e?(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)("i",{className:"fa fa-stop"})," ",(0,h.t)("Stop")):t?(0,h.t)("Run selection"):(0,h.t)("Run"))(l,r)))};var Ds,Ns,Ps,Ms;const qs=[10,100,1e3,1e4,1e5],Zs=document.getElementById("app"),ks=JSON.parse(Zs.getAttribute("data-bootstrap")||"{}"),Ls=(null==ks||null==(Ds=ks.common)||null==(Ns=Ds.conf)?void 0:Ns.SQL_VALIDATORS_BY_ENGINE)||{},js=null==ks||null==(Ps=ks.common)||null==(Ms=Ps.conf)?void 0:Ms.SCHEDULED_QUERIES,Us=tr.iK.span`
  .ant-dropdown-trigger {
    align-items: center;
    color: black;
    display: flex;
    font-size: 12px;
    margin-right: ${({theme:e})=>2*e.gridUnit}px;
    text-decoration: none;
    span {
      display: inline-block;
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
      &:last-of-type: {
        margin-right: ${({theme:e})=>4*e.gridUnit}px;
      }
    }
  }
`,$s=tr.iK.div`
  padding: ${({theme:e})=>2*e.gridUnit}px;
  background: ${({theme:e})=>e.colors.grayscale.light5};
  display: flex;
  justify-content: space-between;
  border: 1px solid ${({theme:e})=>e.colors.grayscale.light2};
  border-top: 0;

  form {
    margin-block-end: 0;
  }

  .leftItems,
  .rightItems {
    display: flex;
    align-items: center;
    & > span {
      margin-right: ${({theme:e})=>2*e.gridUnit}px;
      display: inline-block;

      &:last-child {
        margin-right: 0;
      }
    }
  }

  .limitDropdown {
    white-space: nowrap;
  }
`,Bs={actions:er().object.isRequired,database:er().object,latestQuery:er().object,tables:er().array.isRequired,editorQueries:er().array.isRequired,dataPreviewQueries:er().array.isRequired,queryEditorId:er().string.isRequired,hideLeftBar:er().bool,defaultQueryLimit:er().number.isRequired,maxRow:er().number.isRequired,displayLimit:er().number.isRequired,saveQueryWarning:er().string,scheduleQueryWarning:er().string};class Ws extends a.PureComponent{constructor(e){var t,r;super(e),this.handleToggleAutocompleteEnabled=()=>{this.setState((e=>{return t=Or.sqllab__is_autocomplete_enabled,r=!e.autocompleteEnabled,function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}(t,r),{autocompleteEnabled:!e.autocompleteEnabled};var t,r}))},this.state={autorun:e.queryEditor.autorun,ctas:"",northPercent:e.queryEditor.northPercent||30,southPercent:e.queryEditor.southPercent||70,sql:e.queryEditor.sql,autocompleteEnabled:(t=Or.sqllab__is_autocomplete_enabled,r=!0,function(e,t){try{const r=localStorage.getItem(e);return null===r?t:JSON.parse(r)}catch{return t}}(t,r)),showCreateAsModal:!1,createAs:""},this.sqlEditorRef=a.createRef(),this.northPaneRef=a.createRef(),this.elementStyle=this.elementStyle.bind(this),this.onResizeStart=this.onResizeStart.bind(this),this.onResizeEnd=this.onResizeEnd.bind(this),this.canValidateQuery=this.canValidateQuery.bind(this),this.runQuery=this.runQuery.bind(this),this.stopQuery=this.stopQuery.bind(this),this.onSqlChanged=this.onSqlChanged.bind(this),this.setQueryEditorSql=this.setQueryEditorSql.bind(this),this.setQueryEditorSqlWithDebounce=Tr()(this.setQueryEditorSql.bind(this),2e3),this.queryPane=this.queryPane.bind(this),this.renderQueryLimit=this.renderQueryLimit.bind(this),this.getAceEditorAndSouthPaneHeights=this.getAceEditorAndSouthPaneHeights.bind(this),this.getSqlEditorHeight=this.getSqlEditorHeight.bind(this),this.requestValidation=Tr()(this.requestValidation.bind(this),600),this.getQueryCostEstimate=this.getQueryCostEstimate.bind(this),this.handleWindowResize=nr()(this.handleWindowResize.bind(this),100),this.onBeforeUnload=this.onBeforeUnload.bind(this),this.renderDropdown=this.renderDropdown.bind(this)}UNSAFE_componentWillMount(){this.state.autorun&&(this.setState({autorun:!1}),this.props.queryEditorSetAutorun(this.props.queryEditor,!1),this.startQuery())}componentDidMount(){this.setState({height:this.getSqlEditorHeight()}),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.onBeforeUnload),this.getHotkeyConfig().forEach((e=>{Sr().bind([e.key],e.func)}))}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.onBeforeUnload)}onResizeStart(){document.getElementsByClassName("ace_content")[0].style.height="100%"}onResizeEnd([e,t]){this.setState({northPercent:e,southPercent:t}),this.northPaneRef.current&&this.northPaneRef.current.clientHeight&&this.props.persistEditorHeight(this.props.queryEditor,e,t)}onBeforeUnload(e){var t,r,n;null!=(t=this.props.database)&&null!=(r=t.extra_json)&&r.cancel_query_on_windows_unload&&"running"===(null==(n=this.props.latestQuery)?void 0:n.state)&&(e.preventDefault(),this.stopQuery())}onSqlChanged(e){this.setState({sql:e}),this.setQueryEditorSqlWithDebounce(e),this.canValidateQuery()&&this.requestValidation()}getSqlEditorHeight(){return this.sqlEditorRef.current?this.sqlEditorRef.current.clientHeight-20:0}getAceEditorAndSouthPaneHeights(e,t,r){return{aceEditorHeight:e*t/100-(sr.eU/2+sr.ev)-sr.rp,southPaneHeight:e*r/100-(sr.eU/2+sr.ev)}}getHotkeyConfig(){const e=(0,gr.fV)();return[{name:"runQuery1",key:"ctrl+r",descr:(0,h.t)("Run query"),func:()=>{""!==this.state.sql.trim()&&this.runQuery()}},{name:"runQuery2",key:"ctrl+enter",descr:(0,h.t)("Run query"),func:()=>{""!==this.state.sql.trim()&&this.runQuery()}},{name:"newTab",key:"Windows"===e?"ctrl+q":"ctrl+t",descr:(0,h.t)("New tab"),func:()=>{this.props.addQueryEditor({...this.props.queryEditor,title:(0,h.t)("Untitled query"),sql:""})}},{name:"stopQuery",key:"ctrl+x",descr:(0,h.t)("Stop query"),func:this.stopQuery}]}setQueryEditorSql(e){this.props.queryEditorSetSql(this.props.queryEditor,e)}setQueryLimit(e){this.props.queryEditorSetQueryLimit(this.props.queryEditor,e)}getQueryCostEstimate(){if(this.props.database){const e=this.props.queryEditor,t={dbId:e.dbId,sql:e.selectedText?e.selectedText:this.state.sql,sqlEditorId:e.id,schema:e.schema,templateParams:e.templateParams};this.props.estimateQueryCost(t)}}handleWindowResize(){this.setState({height:this.getSqlEditorHeight()})}elementStyle(e,t,r){return{[e]:`calc(${t}% - ${r+sr.ev}px)`}}requestValidation(){if(this.props.database){const e=this.props.queryEditor,t={dbId:e.dbId,sql:this.state.sql,sqlEditorId:e.id,schema:e.schema,templateParams:e.templateParams};this.props.validateQuery(t)}}canValidateQuery(){return!!this.props.database&&Ls.hasOwnProperty(this.props.database.backend)}runQuery(){this.props.database&&this.startQuery()}convertToNumWithSpaces(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}startQuery(e=!1,t=Me.TABLE){const r=this.props.queryEditor,n={dbId:r.dbId,sql:r.selectedText?r.selectedText:this.state.sql,sqlEditorId:r.id,tab:r.title,schema:r.schema,tempTable:e?this.state.ctas:"",templateParams:r.templateParams,queryLimit:r.queryLimit||this.props.defaultQueryLimit,runAsync:!!this.props.database&&this.props.database.allow_run_async,ctas:e,ctas_method:t,updateTabState:!r.selectedText};this.props.runQuery(n),this.props.setActiveSouthPaneTab("Results")}stopQuery(){this.props.latestQuery&&["running","pending"].indexOf(this.props.latestQuery.state)>=0&&this.props.postStopQuery(this.props.latestQuery)}createTableAs(){this.startQuery(!0,Me.TABLE),this.setState({showCreateAsModal:!1,ctas:""})}createViewAs(){this.startQuery(!0,Me.VIEW),this.setState({showCreateAsModal:!1,ctas:""})}ctasChanged(e){this.setState({ctas:e.target.value})}queryPane(){const e=this.getHotkeyConfig(),{aceEditorHeight:t,southPaneHeight:r}=this.getAceEditorAndSouthPaneHeights(this.state.height,this.state.northPercent,this.state.southPercent);return(0,ur.tZ)(_r.Z,{expandToMin:!0,className:"queryPane",sizes:[this.state.northPercent,this.state.southPercent],elementStyle:this.elementStyle,minSize:200,direction:"vertical",gutterSize:sr.eU,onDragStart:this.onResizeStart,onDragEnd:this.onResizeEnd},(0,ur.tZ)("div",{ref:this.northPaneRef,className:"north-pane"},(0,ur.tZ)(Cs,{actions:this.props.actions,autocomplete:this.state.autocompleteEnabled,onBlur:this.setQueryEditorSql,onChange:this.onSqlChanged,queryEditor:this.props.queryEditor,sql:this.props.queryEditor.sql,schemas:this.props.queryEditor.schemaOptions,tables:this.props.queryEditor.tableOptions,functionNames:this.props.queryEditor.functionNames,extendedTables:this.props.tables,height:`${t}px`,hotkeys:e}),this.renderEditorBottomBar(e)),(0,ur.tZ)(Ca,{editorQueries:this.props.editorQueries,latestQueryId:this.props.latestQuery&&this.props.latestQuery.id,dataPreviewQueries:this.props.dataPreviewQueries,actions:this.props.actions,height:r,displayLimit:this.props.displayLimit,defaultQueryLimit:this.props.defaultQueryLimit}))}renderDropdown(){var e;const t=this.props.queryEditor,r="success"===(null==(e=this.props.latestQuery)?void 0:e.state),n=r?(0,h.t)("Schedule the query periodically"):(0,h.t)("You must run the query successfully first");return(0,ur.tZ)(pr.v2,{onClick:this.handleMenuClick,style:{width:176}},(0,ur.tZ)(pr.v2.Item,{style:{display:"flex",justifyContent:"space-between"}}," ",(0,ur.tZ)("span",null,(0,h.t)("Autocomplete"))," ",(0,ur.tZ)(pr.rs,{checked:this.state.autocompleteEnabled,onChange:this.handleToggleAutocompleteEnabled,name:"autocomplete-switch"})," "),(0,d.cr)(c.T.ENABLE_TEMPLATE_PROCESSING)&&(0,ur.tZ)(pr.v2.Item,null,(0,ur.tZ)(jr,{language:"json",onChange:e=>{this.props.actions.queryEditorSetTemplateParams(t,e)},code:t.templateParams})),js&&(0,ur.tZ)(pr.v2.Item,null,(0,ur.tZ)(Ba,{defaultLabel:t.title,sql:t.sql,onSchedule:this.props.actions.scheduleQuery,schema:t.schema,dbId:t.dbId,scheduleQueryWarning:this.props.scheduleQueryWarning,tooltip:n,disabled:!r})))}renderQueryLimit(){const{maxRow:e}=this.props;return qs.push(e),(0,ur.tZ)(pr.v2,null,[...new Set(qs)].map((e=>(0,ur.tZ)(pr.v2.Item,{key:`${e}`,onClick:()=>this.setQueryLimit(e)},(0,ur.tZ)("a",{role:"button",styling:"link"},this.convertToNumWithSpaces(e))," "))))}renderEditorBottomBar(){var e;const{queryEditor:t}=this.props,{allow_ctas:r,allow_cvas:n}=this.props.database||{},a=r||n,{theme:s}=this.props,i=(0,ur.tZ)(pr.v2,null,r&&(0,ur.tZ)(pr.v2.Item,{onClick:()=>{this.setState({showCreateAsModal:!0,createAs:Me.TABLE})},key:"1"},(0,h.t)("CREATE TABLE AS")),n&&(0,ur.tZ)(pr.v2.Item,{onClick:()=>{this.setState({showCreateAsModal:!0,createAs:Me.VIEW})},key:"2"},(0,h.t)("CREATE VIEW AS")));return(0,ur.tZ)($s,{className:"sql-toolbar",id:"js-sql-toolbar"},(0,ur.tZ)("div",{className:"leftItems"},(0,ur.tZ)("span",null,(0,ur.tZ)(Os,{allowAsync:!!this.props.database&&this.props.database.allow_run_async,queryState:null==(e=this.props.latestQuery)?void 0:e.state,runQuery:this.runQuery,selectedText:t.selectedText,stopQuery:this.stopQuery,sql:this.state.sql,overlayCreateAsMenu:a?i:null})),(0,d.cr)(c.T.ESTIMATE_QUERY_COST)&&this.props.database&&this.props.database.allows_cost_estimate&&(0,ur.tZ)("span",null,(0,ur.tZ)(Qa,{dbId:t.dbId,schema:t.schema,sql:t.sql,getEstimate:this.getQueryCostEstimate,queryCostEstimate:t.queryCostEstimate,selectedText:t.selectedText,tooltip:(0,h.t)("Estimate the cost before running a query")})),(0,ur.tZ)("span",null,(0,ur.tZ)(Us,null,(0,ur.tZ)(pr.Lt,{overlay:this.renderQueryLimit(),trigger:"click"},(0,ur.tZ)("a",{onClick:e=>e.preventDefault()},(0,ur.tZ)("span",null,"LIMIT:"),(0,ur.tZ)("span",{className:"limitDropdown"},this.convertToNumWithSpaces(this.props.queryEditor.queryLimit||this.props.defaultQueryLimit)),(0,ur.tZ)(Dr.Z.TriangleDown,{iconColor:s.colors.grayscale.base}))))),this.props.latestQuery&&(0,ur.tZ)(Ir,{startTime:this.props.latestQuery.startDttm,endTime:this.props.latestQuery.endDttm,state:sr.IY[this.props.latestQuery.state],isRunning:"running"===this.props.latestQuery.state})),(0,ur.tZ)("div",{className:"rightItems"},(0,ur.tZ)("span",null,(0,ur.tZ)(xa,{query:t,defaultLabel:t.title||t.description,onSave:this.props.actions.saveQuery,onUpdate:this.props.actions.updateSavedQuery,saveQueryWarning:this.props.saveQueryWarning})),(0,ur.tZ)("span",null,(0,ur.tZ)(za,{queryEditor:t})),(0,ur.tZ)(pr.Lt,{overlay:this.renderDropdown(),trigger:"click"},(0,ur.tZ)(Dr.Z.MoreHoriz,{iconColor:s.colors.grayscale.base}))))}render(){const e=this.state.createAs===Me.VIEW?"CREATE VIEW AS":"CREATE TABLE AS",t=this.state.createAs===Me.VIEW?"Specify name to CREATE VIEW AS schema in: public":"Specify name to CREATE TABLE AS schema in: public",r=this.props.hideLeftBar?"schemaPane-exit-done":"schemaPane-enter-done";return(0,ur.tZ)("div",{ref:this.sqlEditorRef,className:"SqlEditor"},(0,ur.tZ)(vr.CSSTransition,{classNames:"schemaPane",in:!this.props.hideLeftBar,timeout:300},(0,ur.tZ)("div",{className:`schemaPane ${r}`},(0,ur.tZ)(Es,{database:this.props.database,queryEditor:this.props.queryEditor,tables:this.props.tables,actions:this.props.actions}))),this.queryPane(),(0,ur.tZ)(wr.Z,{visible:this.state.showCreateAsModal,title:(0,h.t)(e),onHide:()=>{this.setState({showCreateAsModal:!1})},footer:(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(Rr.Z,{onClick:()=>this.setState({showCreateAsModal:!1})},"Cancel"),this.state.createAs===Me.TABLE&&(0,ur.tZ)(Rr.Z,{buttonStyle:"primary",disabled:0===this.state.ctas.length,onClick:this.createTableAs.bind(this)},"Create"),this.state.createAs===Me.VIEW&&(0,ur.tZ)(Rr.Z,{buttonStyle:"primary",disabled:0===this.state.ctas.length,onClick:this.createViewAs.bind(this)},"Create"))},(0,ur.tZ)("span",null,"Name"),(0,ur.tZ)(pr.II,{placeholder:t,onChange:this.ctasChanged.bind(this)})))}}Ws.defaultProps={database:null,latestQuery:null,hideLeftBar:!1,scheduleQueryWarning:null},Ws.propTypes=Bs;const Qs=(0,u.b)(Ws),Fs=(0,o.$j)((function(e,t){const{sqlLab:r}=e,n=r.queryEditors.find((e=>e.id===t.queryEditorId));return{sqlLab:r,...t,queryEditor:n}}),(function(e){return(0,i.DE)({addQueryEditor:ot,estimateQueryCost:Ye,persistEditorHeight:Ut,postStopQuery:at,queryEditorSetAutorun:Et,queryEditorSetQueryLimit:Rt,queryEditorSetSql:St,queryEditorSetTemplateParams:xt,runQuery:tt,saveQuery:wt,scheduleQuery:Fe,setActiveSouthPaneTab:ft,updateSavedQuery:Ct,validateQuery:nt},e)}))(Qs);function Ys({tabState:e}){return(0,ur.tZ)("div",{className:`circle ${e}`})}const zs={actions:er().object.isRequired,defaultDbId:er().number,displayLimit:er().number,defaultQueryLimit:er().number.isRequired,maxRow:er().number.isRequired,databases:er().object.isRequired,queries:er().object.isRequired,queryEditors:er().array,requestedQuery:er().object,tabHistory:er().array.isRequired,tables:er().array.isRequired,offline:er().bool,saveQueryWarning:er().string,scheduleQueryWarning:er().string};let Hs=1;const Ks=tr.iK.div`
  display: flex;
  align-items: center;
`,Vs=tr.iK.span`
  margin-right: ${({theme:e})=>2*e.gridUnit}px;
  text-transform: none;
`,Gs=(0,gr.fV)();class Js extends a.PureComponent{constructor(e){super(e),this.state={sqlLabUrl:"/superset/sqllab",queriesArray:[],dataPreviewQueries:[]},this.removeQueryEditor=this.removeQueryEditor.bind(this),this.renameTab=this.renameTab.bind(this),this.toggleLeftBar=this.toggleLeftBar.bind(this),this.removeAllOtherQueryEditors=this.removeAllOtherQueryEditors.bind(this),this.duplicateQueryEditor=this.duplicateQueryEditor.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleEdit=this.handleEdit.bind(this)}componentDidMount(){if((0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)){const e=this.props.tables.filter((e=>e.inLocalStorage)),t=Object.values(this.props.queries).filter((e=>e.inLocalStorage));this.props.queryEditors.filter((e=>e.inLocalStorage)).forEach((r=>{const n=t.filter((e=>e.sqlEditorId===r.id)),a=e.filter((e=>e.queryEditorId===r.id));this.props.actions.migrateQueryEditorFromLocalStorage(r,a,n)}))}const e=document.getElementById("app"),t={...JSON.parse((null==e?void 0:e.getAttribute("data-bootstrap"))||"{}").requested_query,...br()(window.location).search(!0)};if(t.id||t.sql||t.savedQueryId||t.datasourceKey||t.queryId){if(t.id)this.props.actions.popStoredQuery(t.id);else if(t.savedQueryId)this.props.actions.popSavedQuery(t.savedQueryId);else if(t.queryId)this.props.actions.popQuery(t.queryId);else if(t.datasourceKey)this.props.actions.popDatasourceQuery(t.datasourceKey,t.sql);else if(t.sql){let e=t.dbid;if(e)e=parseInt(e,10);else{const{databases:r}=this.props,n=t.dbname;n&&Object.keys(r).forEach((t=>{r[t].database_name===n&&(e=r[t].id)}))}const r={title:t.title,dbId:e,schema:t.schema,autorun:t.autorun,sql:t.sql};this.props.actions.addQueryEditor(r)}this.popNewTab()}else if(t.new||0===this.props.queryEditors.length)this.newQueryEditor(),t.new&&window.history.replaceState({},document.title,this.state.sqlLabUrl);else{const e=this.activeQueryEditor(),t=this.props.queries[e.latestQueryId];(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)&&t&&t.resultsKey&&this.props.actions.fetchQueryResults(t,this.props.displayLimit)}}UNSAFE_componentWillReceiveProps(e){const t=e.tabHistory[e.tabHistory.length-1],r=Object.values(e.queries).filter((e=>e.sqlEditorId===t));(0,Gt.E8)(r,this.state.queriesArray)||this.setState({queriesArray:r});const n=[];e.tables.forEach((r=>{const a=r.dataPreviewQueryId;a&&e.queries[a]&&r.queryEditorId===t&&n.push({...e.queries[a],tableName:r.name})})),(0,Gt.E8)(n,this.state.dataPreviewQueries)||this.setState({dataPreviewQueries:n})}popNewTab(){Hs+=1,window.history.replaceState({},document.title,this.state.sqlLabUrl)}renameTab(e){const t=prompt((0,h.t)("Enter a new title for the tab"));t&&this.props.actions.queryEditorSetTitle(e,t)}activeQueryEditor(){if(0===this.props.tabHistory.length)return this.props.queryEditors[0];const e=this.props.tabHistory[this.props.tabHistory.length-1];return this.props.queryEditors.find((t=>t.id===e))||null}newQueryEditor(){Hs+=1;const e=this.activeQueryEditor(),t=Math.min(...Object.values(this.props.databases).map((e=>e.id))),r=(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE)?"":(0,h.t)("-- Note: Unless you save your query, these tabs will NOT persist if you clear your cookies or change browsers.\n\n"),n={title:(0,h.t)("Untitled Query %s",Hs),dbId:e&&e.dbId?e.dbId:this.props.defaultDbId||t,schema:e?e.schema:null,autorun:!1,sql:`${r}SELECT ...`,queryLimit:this.props.defaultQueryLimit};this.props.actions.addQueryEditor(n)}handleSelect(e){const t=this.props.tabHistory[this.props.tabHistory.length-1];if(e!==t){const t=this.props.queryEditors.find((t=>t.id===e));this.props.actions.switchQueryEditor(t,this.props.displayLimit)}}handleEdit(e,t){if("remove"===t){const t=this.props.queryEditors.find((t=>t.id===e));this.removeQueryEditor(t)}"add"===t&&this.newQueryEditor()}removeQueryEditor(e){this.props.actions.removeQueryEditor(e)}removeAllOtherQueryEditors(e){this.props.queryEditors.forEach((t=>t!==e&&this.removeQueryEditor(t)))}duplicateQueryEditor(e){this.props.actions.cloneQueryToNewTab(e,!1)}toggleLeftBar(e){this.props.actions.toggleLeftBar(e)}render(){const e=this.props.queryEditors.map((e=>{let t,r;e.latestQueryId&&(t=this.props.queries[e.latestQueryId]),e.dbId&&(r=this.props.databases[e.dbId]);const n=t?t.state:"",a=(0,ur.tZ)(pr.v2,{style:{width:176}},(0,ur.tZ)(pr.v2.Item,{className:"close-btn",key:"1",onClick:()=>this.removeQueryEditor(e)},(0,ur.tZ)("div",{className:"icon-container"},(0,ur.tZ)("i",{className:"fa fa-close"})),(0,h.t)("Close tab")),(0,ur.tZ)(pr.v2.Item,{key:"2",onClick:()=>this.renameTab(e)},(0,ur.tZ)("div",{className:"icon-container"},(0,ur.tZ)("i",{className:"fa fa-i-cursor"})),(0,h.t)("Rename tab")),(0,ur.tZ)(pr.v2.Item,{key:"3",onClick:()=>this.toggleLeftBar(e)},(0,ur.tZ)("div",{className:"icon-container"},(0,ur.tZ)("i",{className:"fa fa-cogs"})),e.hideLeftBar?(0,h.t)("Expand tool bar"):(0,h.t)("Hide tool bar")),(0,ur.tZ)(pr.v2.Item,{key:"4",onClick:()=>this.removeAllOtherQueryEditors(e)},(0,ur.tZ)("div",{className:"icon-container"},(0,ur.tZ)("i",{className:"fa fa-times-circle-o"})),(0,h.t)("Close all other tabs")),(0,ur.tZ)(pr.v2.Item,{key:"5",onClick:()=>this.duplicateQueryEditor(e)},(0,ur.tZ)("div",{className:"icon-container"},(0,ur.tZ)("i",{className:"fa fa-files-o"})),(0,h.t)("Duplicate tab"))),s=(0,ur.tZ)(Ks,null,(0,ur.tZ)("div",null,(0,ur.tZ)(hr,{overlay:a,trigger:["click"]})),(0,ur.tZ)(Vs,null,e.title)," ",(0,ur.tZ)(Ys,{tabState:n})," ");return(0,ur.tZ)(fr.Xv.TabPane,{key:e.id,tab:s,"data-key":e.id},(0,ur.tZ)(Fs,{tables:this.props.tables.filter((t=>t.queryEditorId===e.id)),queryEditorId:e.id,editorQueries:this.state.queriesArray,dataPreviewQueries:this.state.dataPreviewQueries,latestQuery:t,database:r,actions:this.props.actions,hideLeftBar:e.hideLeftBar,defaultQueryLimit:this.props.defaultQueryLimit,maxRow:this.props.maxRow,displayLimit:this.props.displayLimit,saveQueryWarning:this.props.saveQueryWarning,scheduleQueryWarning:this.props.scheduleQueryWarning}))}));return(0,ur.tZ)(fr.Xv,{activeKey:this.props.tabHistory[this.props.tabHistory.length-1],id:"a11y-query-editor-tabs",className:"SqlEditorTabs",onChange:this.handleSelect,fullWidth:!1,hideAdd:this.props.offline,onEdit:this.handleEdit,addIcon:(0,ur.tZ)(yr.u,{id:"add-tab",placement:"bottom",title:"Windows"===Gs?(0,h.t)("New tab (Ctrl + q)"):(0,h.t)("New tab (Ctrl + t)")},(0,ur.tZ)("i",{className:"fa fa-plus-circle"}))},e)}}Js.propTypes=zs,Js.defaultProps={queryEditors:[],offline:!1,requestedQuery:null,saveQueryWarning:null,scheduleQueryWarning:null};const Xs=(0,o.$j)((function({sqlLab:e,common:t,requestedQuery:r}){return{databases:e.databases,queryEditors:e.queryEditors,queries:e.queries,tabHistory:e.tabHistory,tables:e.tables,defaultDbId:e.defaultDbId,displayLimit:t.conf.DISPLAY_MAX_ROW,offline:e.offline,defaultQueryLimit:t.conf.DEFAULT_SQLLAB_LIMIT,maxRow:t.conf.SQL_MAX_ROW,saveQueryWarning:t.conf.SQLLAB_SAVE_WARNING_MESSAGE,scheduleQueryWarning:t.conf.SQLLAB_SCHEDULE_WARNING_MESSAGE,requestedQuery:r}}),(function(e){return{actions:(0,i.DE)(n,e)}}))(Js);class ei extends a.PureComponent{constructor(e){super(e),this.state={offline:e.offline}}UNSAFE_componentWillMount(){this.startTimer()}componentDidUpdate(e){e.offline!==this.state.offline&&this.props.actions.setUserOffline(this.state.offline)}componentWillUnmount(){this.stopTimer()}shouldCheckForQueries(){const{queries:e}=this.props,t=(new Date).getTime();return Object.values(e).some((e=>(e=>["running","started","pending","fetching"].indexOf(e.state)>=0)(e)&&t-e.startDttm<216e5))}startTimer(){this.timer||(this.timer=setInterval(this.stopwatch.bind(this),2e3))}stopTimer(){clearInterval(this.timer),this.timer=null}stopwatch(){this.shouldCheckForQueries()?T.Z.get({endpoint:"/superset/queries/"+(this.props.queriesLastUpdate-5e3),timeout:1e4}).then((({json:e})=>{Object.keys(e).length>0&&this.props.actions.refreshQueries(e),this.setState({offline:!1})})).catch((()=>{this.setState({offline:!0})})):this.setState({offline:!1})}render(){return null}}ei.propTypes={offline:er().bool.isRequired,queries:er().object.isRequired,actions:er().object.isRequired,queriesLastUpdate:er().number.isRequired};const ti=(0,o.$j)((function({sqlLab:e}){return{offline:e.offline,queries:e.queries,queriesLastUpdate:e.queriesLastUpdate}}),(function(e){return{actions:(0,i.DE)(n,e)}}))(ei);var ri=r(79676);const ni={dataEndpoint:er().string.isRequired,onChange:er().func.isRequired,mutator:er().func.isRequired,onAsyncError:er().func,value:er().oneOfType([er().number,er().arrayOf(er().number)]),valueRenderer:er().func,placeholder:er().string,autoSelect:er().bool},ai={placeholder:(0,h.t)("Select ..."),onAsyncError:()=>{}};class si extends a.PureComponent{constructor(e){super(e),this.state={isLoading:!1,options:[]},this.onChange=this.onChange.bind(this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return T.Z.get({endpoint:t}).then((({json:t})=>{const r=e?e(t):t;this.setState({options:r,isLoading:!1}),!this.props.value&&this.props.autoSelect&&r.length>0&&this.onChange(r[0])})).catch((e=>(0,A.O)(e).then((e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))))}render(){return(0,ur.tZ)(ri.Ph,or()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}si.propTypes=ni,si.defaultProps=ai;const ii=si,oi=tr.iK.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  height: 100%;
`,li=tr.iK.div`
  table {
    background-color: ${({theme:e})=>e.colors.grayscale.light4};
  }

  .table > thead > tr > th {
    border-bottom: ${({theme:e})=>e.gridUnit/2}px solid
      ${({theme:e})=>e.colors.grayscale.light2};
    background: ${({theme:e})=>e.colors.grayscale.light4};
  }
`,ui=tr.iK.div`
  overflow: auto;
`,di=function({actions:e,displayLimit:t}){const[r,n]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[u,d]=(0,a.useState)("28 days ago"),[c,f]=(0,a.useState)("now"),[p,m]=(0,a.useState)("success"),[b,y]=(0,a.useState)([]),[g,v]=(0,a.useState)(!0),_=e=>{switch(e){case"now":return(0,x.zO)();case"1 hour ago":return(0,x.xG)(1);case"1 day ago":return(0,x.x_)(1);case"7 days ago":return(0,x.x_)(7);case"28 days ago":return(0,x.x_)(28);case"90 days ago":return(0,x.x_)(90);case"1 year ago":return(0,x.pu)(1);default:return null}},E=(e,t)=>`${e}?${t.filter((function(e){return""!==e})).join("&")}`,w=async()=>{v(!0);const t=[s&&`user_id=${s}`,r&&`database_id=${r}`,o&&`search_text=${o}`,p&&`status=${p}`,u&&`from=${_(u)}`,c&&`to=${_(c)}`];try{const e=await T.Z.get({endpoint:E("/superset/search_queries",t)}),r=Object.values(e.json);y(r)}catch(t){e.addDangerToast((0,h.t)("An error occurred when refreshing queries"))}finally{v(!1)}};return(0,a.useEffect)((()=>{w()}),[]),(0,ur.tZ)(oi,null,(0,ur.tZ)("div",{id:"search-header",className:"row space-1"},(0,ur.tZ)("div",{className:"col-sm-2"},(0,ur.tZ)(ii,{dataEndpoint:"api/v1/query/related/user",mutator:({result:e})=>e.map((({value:e,text:t})=>({label:t,value:e}))),value:s,onChange:e=>i(null==e?void 0:e.value),placeholder:(0,h.t)("Filter by user")})),(0,ur.tZ)("div",{className:"col-sm-2"},(0,ur.tZ)(ii,{onChange:e=>n(null==e?void 0:e.value),dataEndpoint:"/api/v1/database/?q=(filters:!((col:expose_in_sqllab,opr:eq,value:!t)))",value:r,mutator:({result:t})=>{const r=t.map((({id:e,database_name:t})=>({value:e,label:t})));return e.setDatabases(t),0===t.length&&e.addDangerToast((0,h.t)("It seems you don't have access to any database")),r},placeholder:(0,h.t)("Filter by database")})),(0,ur.tZ)("div",{className:"col-sm-4"},(0,ur.tZ)("input",{type:"text",onChange:e=>{e.persist();const t=Tr()((e=>{l(e.target.value)}),200);t(e)},onKeyDown:e=>{13===e.keyCode&&w()},className:"form-control input-sm",placeholder:(0,h.t)("Query search string")})),(0,ur.tZ)("div",{className:"col-sm-4 search-date-filter-container"},(0,ur.tZ)(ri.ZP,{name:"select-from",placeholder:(0,h.t)("[From]-"),options:sr.v3.slice(1,sr.v3.length).map((e=>({value:e,label:e}))),value:u,autosize:!1,onChange:e=>d(null==e?void 0:e.value)}),(0,ur.tZ)(ri.ZP,{name:"select-to",placeholder:(0,h.t)("[To]-"),options:sr.v3.map((e=>({value:e,label:e}))),value:c,autosize:!1,onChange:e=>f(null==e?void 0:e.value)}),(0,ur.tZ)(ri.ZP,{name:"select-status",placeholder:(0,h.t)("Filter by status"),options:Object.keys(sr.Em).map((e=>({value:e,label:e}))),value:p,isLoading:!1,autosize:!1,onChange:e=>m(null==e?void 0:e.value)}),(0,ur.tZ)(Rr.Z,{buttonSize:"small",buttonStyle:"success",onClick:w},(0,h.t)("Search")))),(0,ur.tZ)(ui,null,g?(0,ur.tZ)(tn.Z,null):(0,ur.tZ)(li,null,(0,ur.tZ)(Ea,{columns:["state","db","user","time","progress","rows","sql","querylink"],onUserClicked:e=>{i(e),w()},onDbClicked:e=>{n(e),w()},queries:b,actions:e,displayLimit:t}))))};class ci extends a.PureComponent{constructor(e){super(e),this.state={hash:window.location.hash},this.showLocalStorageUsageWarning=nr()(this.showLocalStorageUsageWarning,sr.N2,{trailing:!1})}componentDidMount(){window.addEventListener("hashchange",this.onHashChanged.bind(this)),document.body.style.overscrollBehaviorX="none"}componentDidUpdate(){this.props.localStorageUsageInKilobytes>=sr.rD*sr.b$&&this.showLocalStorageUsageWarning(this.props.localStorageUsageInKilobytes)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChanged.bind(this)),document.body.style.overscrollBehaviorX="auto"}onHashChanged(){this.setState({hash:window.location.hash})}showLocalStorageUsageWarning(e){this.props.actions.addDangerToast((0,h.t)("SQL Lab uses your browser's local storage to store queries and results.\nCurrently, you are using %(currentUsage)s KB out of %(maxStorage)d KB storage space.\nTo keep SQL Lab from crashing, please delete some query tabs.\nYou can re-access these queries by using the Save feature before you delete the tab.\nNote that you will need to close other SQL Lab windows before you do this.",{currentUsage:e.toFixed(2),maxStorage:sr.b$}))}render(){let e;if(this.state.hash&&"#search"===this.state.hash){if((0,d.cr)(c.T.ENABLE_REACT_CRUD_VIEWS))return window.location.replace("/superset/sqllab/history/");e=(0,ur.tZ)(di,{actions:this.props.actions,displayLimit:this.props.common.conf.DISPLAY_MAX_ROW})}else e=(0,ur.tZ)(a.Fragment,null,(0,ur.tZ)(ti,null),(0,ur.tZ)(Xs,null));return(0,ur.tZ)(u.a,{theme:tr.K6},(0,ur.tZ)("div",{className:"App SqlLab"},e,(0,ur.tZ)(ar.Z,null)))}}ci.propTypes={actions:er().object,common:er().object,localStorageUsageInKilobytes:er().number.isRequired};const hi=(0,o.$j)((function(e){const{common:t,localStorageUsageInKilobytes:r}=e;return{common:t,localStorageUsageInKilobytes:r}}),(function(e){return{actions:(0,i.DE)(n,e)}}))(ci),fi=new Set(["remoteId","autorun","dbId","height","id","latestQueryId","northPercent","queryLimit","schema","selectedText","southPercent","sql","templateParams","title","hideLeftBar"]);var pi=r(65286),mi=r(26009);(0,pi.Z)();const bi=document.getElementById("app"),yi=JSON.parse(bi.getAttribute("data-bootstrap"));(0,d.fG)(yi.common.feature_flags);const gi=b(yi),vi={paths:["sqlLab"],config:{slicer:e=>t=>{var r;const n={};e.forEach((e=>{var r,a;delete t[e].common,"sqlLab"===e&&(n[e]={...t[e],queries:(a=t[e].queries,Object.keys(a).reduce(((e,t)=>{const{startDttm:r,results:n}=a[t];return{...e,[t]:{...a[t],results:Date.now()-r>sr.U$?{}:n}}}),{})),queryEditors:(r=t[e].queryEditors,r.map((e=>Object.keys(e).filter((e=>fi.has(e))).reduce(((t,r)=>({...t,[r]:e[r]})),{}))))})})),null!=(r=n.sqlLab)&&r.user&&delete n.sqlLab.user;const a=JSON.stringify(n),s=Math.round(a.length*sr.TU/sr.Yo*100)/100;return t.localStorageUsageInKilobytes!==s&&(t.localStorageUsageInKilobytes=s),n},merge:(e,t={})=>{const r={...e,...t};return r.sqlLab.user=e.sqlLab.user,r}}},_i=(0,i.MT)(Jt,gi,(0,i.qC)((0,i.md)(l.Z),(0,Gt.hU)(!(0,d.cr)(c.T.SQLLAB_BACKEND_PERSISTENCE),vi))),Ei=document.querySelectorAll(".nav.navbar-nav li.dropdown"),Ti=Array.prototype.slice.apply(Ei).find((e=>"SQL Lab"===e.innerText.trim()));if(Ti){const e=Ti.getAttribute("class");-1===e.indexOf("active")&&Ti.setAttribute("class",`${e} active`)}s.render((0,ur.tZ)((()=>(0,ur.tZ)(o.zt,{store:_i},(0,ur.tZ)(u.a,{theme:mi.r},(0,ur.tZ)(hi,null)))),null),document.getElementById("app"))}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return s[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=s,o.amdD=function(){throw new Error("define cannot be used indirect")},e=[],o.O=(t,r,n,a)=>{if(!r){var s=1/0;for(d=0;d<e.length;d++){for(var[r,n,a]=e[d],i=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var s={};t=t||[null,r({}),r([]),r(r)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=r(i))Object.getOwnPropertyNames(i).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(a,s),a},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>({57:"3eef258f00447ab2ba56",112:"881dd2510f19ed31e172",158:"488593bc94ab7caa58e0",177:"4b03c272091be7836683",183:"3f0101a74920ebdf5721",215:"abe0f2a4a3f69594f00c",310:"77d6d4c65a4250a67f54",312:"ba5d653bdbc1bcc11798",336:"f4bdd4f606d6d7592f7e",363:"210381fc4c2bbae6d099",440:"515662946aea2cdc4413",597:"20b87c137727ff9aaf87",600:"044558ce92babe1fa2db",826:"0e2f19bbb57b5a8aff83",992:"d71578d87db841083c93",999:"ce189cf323818358d600",1075:"2572ea51a4adfc4ff9a4",1174:"1033573182d374214540",1185:"63e33afadbeb6e51d8dd",1256:"035f322d4ce964f73de1",1258:"6381160c0229525565fd",1263:"cfe95e8e20298feb874e",1293:"14b3a7ee4cc17de5c441",1351:"2eb1a9ba1648eb7a8193",1398:"0c371615e0996614785c",1493:"0c0664678b66d74ba38f",1568:"b2bb81324e29ed5bce61",1605:"d6a140bf5e3bef201212",1899:"e1eb313fc03e90fa0d70",2079:"579cd7268aa39862c290",2089:"13db7039a066b543f45a",2105:"02df5ff9f97c181f9de4",2264:"5a90b87bf6c82cddd60f",2267:"58a5465f711b4c6b0f0c",2403:"ff967bce10197be4d6e0",2439:"92ff10820007284a3594",2646:"3dcaf7b2edc6b26550ba",2698:"e7b7a6eeb3966de7d0c1",2713:"a68c27cd1e12e64ffed4",2797:"5db241c8af5a71f0f30d",2983:"8afbd45ac5fc6d8b4b6d",3141:"494a0ca0a1bb39f625bd",3240:"e7218edd46dedf7e1dda",3265:"1671e36958a7bf6f4cfc",3325:"9295baeedc623870f610",3544:"0fb4e4d961165cd76e18",3558:"e2f6e711a397fa768c21",3567:"d77d0432d12254aeeded",3606:"0b65905a659b39cd6909",3749:"9d45482bb7e08b4be181",3871:"b94982d813b3a1874fe0",3955:"afc2c2846692569a5718",3985:"f293395f2172b1317b51",4139:"285945130a72bfc46e1d",4266:"5b30930400b0988390e0",4273:"7ddbd55189a7899df93c",4458:"4309988c3c4fa37de107",4474:"b598fc6c061ecd9e6b0d",4579:"16ca3c26d224ec2bea51",4625:"51252df40a568e9858e9",4662:"b32dd6447e5fae270c83",4667:"48c3843ffce6d71edad4",4732:"40416b4ab4e61de326ae",4757:"93d740911bd493adf140",4758:"139bfe0e5a3d55b967f5",4794:"604a01412367c61f28d1",4797:"ec310aed295dd6ac6d3e",4810:"c9e88f8bb26309aea9a3",4817:"c6d5f79ba80cd01dc865",4832:"ef14aea5648058059b49",4851:"ddfa921c0ae9aa3cc18b",4972:"c5b4433dc989f0536983",4981:"a591e398113e3a68af10",5201:"3ec18a3a291224aa9108",5224:"c47e9d538010833596c1",5226:"6827078f00442327de34",5249:"666b274dce41432ba44f",5281:"bee09c165592668d3f89",5330:"599272faeb108b72e7f9",5335:"8aa0878ebf5d4ad6ce59",5350:"074a558227a6662abcb5",5359:"2b8c50de5d5c4b38aca0",5367:"21ae5e3e001039f857b3",5507:"f70d497b4e7632b6cc22",5580:"24915749e40e9d761a9c",5592:"e87311d9b096af643f33",5641:"38809faee0024a508b21",5707:"147d8ca4332836cd578d",5771:"1052f585ff4ae106bee8",5777:"554d568382eb31588d65",5802:"6cc12bb8302843f1d8f2",5816:"280673beea0b5f2fd1e1",5832:"0c735281dd62de64b370",5838:"dbba442e12c14d0a2a2e",5962:"72dc9794359fb77a60d2",5972:"19c7fc52abf01d211d54",5998:"1ee3b4651923335492d5",6061:"55bf4311a87981b3e733",6126:"91fa0738674c868ec8cc",6150:"dc68c567fc3c38729c6e",6167:"d6258818427262c45fa8",6207:"6910f3c4f0be2cfcd7f9",6254:"fb638befd53ef04822fc",6303:"ad52f9efd303183abf5e",6371:"83c9e45ceb3fbb5ac155",6420:"c893ff2534f9ec304fc8",6447:"ae65f54f868cf08677c1",6507:"45af87d3e964f08e8a6b",6668:"55647a5d1bc9e3c671d6",6682:"9becee958a13c31f4d51",6758:"6fcf8c53e0a66334e5b5",6819:"e5d97b6c04bdd4635620",6883:"520bd0ef8bbe299a89fd",6977:"d2b3c9ce6ad0030f20e0",6981:"a398d4d79a48e5730885",7183:"5a6c8f84f8386ea3c3ed",7249:"4073992e83966234ebec",7405:"108895750399ba59f40d",7460:"6a739700fefd3a4fbac2",7584:"f1a7f6c3be667fceb4de",7610:"fe88065240ff7a6e5504",7654:"1cc0055d2d390c30d171",7716:"26ccebd94ddb1fb178f8",7760:"df6139586bc8db9f4686",7803:"fa5606e48db6b49a7a94",7832:"741031b8b31f62237cd5",7850:"daed96c9f6d33ebc1f7c",7922:"5d8ea477355f17a5b790",8312:"65a7d4d9a4760d7a5210",8349:"7aa90fbe18ad73a1b95a",8398:"602f4d50559d187c1db8",8425:"d4ab2b8d82b74d62566e",8463:"44ea1565bba7d3f2c8f7",8616:"dee76665d36ed3374636",8682:"689daa7df9dd2c6fa4fd",8695:"01d9bc6edddbf539b1b7",8750:"dc92e0e945b83ec1e05f",8883:"a09378804d20733f3763",8970:"cc02d84919fe9ecd9cde",9013:"a4b833b1258c7c9a94fd",9052:"02f43b9abb68bfc5f39c",9109:"276f36aed8996da1df63",9305:"34d5c67b5c79995f8a60",9325:"1defe50332e08632f07f",9393:"442f478da05ba19070c4",9510:"c5c3e89e58541aa7825b",9558:"d2eaa19757d176a93ab7",9767:"ad438ca70361b5e69126",9794:"c13a738c3f6b2ba76ca9",9811:"21a7c18f6923c4c737b9"}[e]+".chunk.js"),o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="superset:",o.l=(e,t,r,s)=>{if(n[e])n[e].push(t);else{var i,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==a+r){i=c;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",a+r),i.src=e),n[e]=[t];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(f);var a=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/static/assets/",(()=>{var e={6856:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,a)=>n=e[t]=[r,a]));r.push(n[2]=a);var s=o.p+o.u(t),i=new Error;o.l(s,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,n[1](i)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[s,i,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(l)var d=l(o)}for(t&&t(r);u<s.length;u++)a=s[u],o.o(e,a)&&e[a]&&e[a][0](),e[s[u]]=0;return o.O(d)},r=globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),o.O(void 0,[1216,2441,7550,4998,1514,8075,2357,2717,5379,995,9670,323,4485,6962,9083,7843,93,2825,489],(()=>o(26009)));var l=o.O(void 0,[1216,2441,7550,4998,1514,8075,2357,2717,5379,995,9670,323,4485,6962,9083,7843,93,2825,489],(()=>o(59039)));l=o.O(l)})();