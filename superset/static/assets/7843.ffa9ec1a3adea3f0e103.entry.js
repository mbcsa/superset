"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[7843],{12515:(e,t,r)=>{r.d(t,{Jp:()=>N,xW:()=>I,sW:()=>f,vp:()=>h,Cl:()=>y,kN:()=>O,H6:()=>g,kP:()=>R,u:()=>U,pd:()=>D,Md:()=>b,pe:()=>v,AH:()=>w,bX:()=>G,CB:()=>H});var n=r(57557),a=r.n(n),o=(r(15306),r(67294)),i=r(54998),s=r.n(i),l=r(11064),c=r(19427),_=r(61654),u=r(55786),d=r(86374),p=r(9679),E=r(27600),m=r(69856),T=r(80621),S=r(54076);function N(e){const{slice:t}=e;return t?t.slice_id:0}let A=0;function L(e=!1){let t=0;return e&&(t=A%d.X.length,A+=1,0===t&&(t+=1,A+=1)),d.X[t]}function I(e,t,r,n){if(null==e)return null;const a=r?"annotation_json":"slice_json";return s()(window.location.search).pathname(`/superset/${a}/${e}`).search({form_data:(0,p.o)(t,((e,t)=>null===t?void 0:t)),force:n}).toString()}function f(e="base"){return["full","json","csv","query","results","samples"].includes(e)?"/superset/explore_json/":"/superset/explore/"}function h(e,t,r=!0,n={},a=!1){if(!e.datasource)return null;const o=new(s())("/"),i=f(t),l=o.search(!0);Object.keys(n).forEach((e=>{l[e]=n[e]})),l.form_data=(0,p.o)(e),t===E.KD.standalone.name&&(a&&(l.force="1"),l.standalone=T._B.HIDE_NAV);const c=o.directory(i).search(l).toString();return!r&&c.length>8e3?h({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null},a):c}function y(e){return h(a()(e,["dataMask","url_params","label_colors"]),null,!1)}function O({path:e,qs:t,allowDomainSharding:r=!1}){let n=new(s())({protocol:window.location.protocol.slice(0,-1),hostname:L(r),port:window.location.port?window.location.port:"",path:e});return t&&(n=n.search(t)),n}function g({formData:e,endpointType:t="base",force:r=!1,curUrl:n=null,requestParams:a={},allowDomainSharding:o=!1,method:i="POST"}){if(!e.datasource)return null;delete e.label_colors;let l=O({path:"/",allowDomainSharding:o});n&&(l=s()(s()(n).search()));const c=f(t),_=l.search(!0),{slice_id:u,extra_filters:d,adhoc_filters:m,viz_type:T}=e;if(u){const e={slice_id:u};"GET"===i&&(e.viz_type=T,d&&d.length&&(e.extra_filters=d),m&&m.length&&(e.adhoc_filters=m)),_.form_data=(0,p.o)(e)}r&&(_.force="true"),"csv"===t&&(_.csv="true"),t===E.KD.standalone.name&&(_.standalone="1"),"query"===t&&(_.query="true"),"results"===t&&(_.results="true"),"samples"===t&&(_.samples="true");const S=Object.keys(a);return S.length&&S.forEach((e=>{a.hasOwnProperty(e)&&(_[e]=a[e])})),l.search(_).directory(c).toString()}const R=e=>{const t=(0,l.Z)().get(e.viz_type);return!!t&&t.useLegacyApi},U=({formData:e,force:t,resultFormat:r,resultType:n,setDataMask:a,ownState:o})=>{var i;return(null!=(i=(0,c.Z)().get(e.viz_type))?i:e=>(0,_.Z)(e,(e=>[{...e}])))({...e,force:t,result_format:r,result_type:n},{ownState:o,hooks:{setDataMask:a}})},D=({resultType:e,resultFormat:t})=>"csv"===t?t:e;function b(e,t,r="_blank"){if(!e)return;const n=document.createElement("form");n.action=e,n.method="POST",n.target=r;const a=document.createElement("input");a.type="hidden",a.name="csrf_token",a.value=(document.getElementById("csrf_token")||{}).value,n.appendChild(a);const o=document.createElement("input");o.type="hidden",o.name="form_data",o.value=(0,p.o)(t),n.appendChild(o),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}const v=({formData:e,resultFormat:t="json",resultType:r="full",force:n=!1,ownState:a={}})=>{let o,i;R(e)?(o=g({formData:e,endpointType:D({resultFormat:t,resultType:r}),allowDomainSharding:!1}),i=e):(o="/api/v1/chart/data",i=U({formData:e,force:n,resultFormat:t,resultType:r,ownState:a})),b(o,i)},w=e=>{b(g({formData:e,endpointType:"base",allowDomainSharding:!1}),e)},G=(e,t,r)=>{const n=(0,o.useCallback)(e,r);(0,o.useEffect)((()=>{const e=setTimeout((()=>{n()}),t);return()=>{clearTimeout(e)}}),[n,t])},H=(e,t,r)=>{const n=[...m.qK].map((e=>m.LT[e].operation)).indexOf(t)>=0;let a=null!=e?e:"";if(e&&t){a+=` ${t}`;const e=n&&Array.isArray(r)?r[0]:r,o=(0,u.Z)(r),i=void 0!==e&&Number.isNaN(Number(e)),s=i?"'":"",[l,c]=n?["(",")"]:["",""],_=o.map((e=>(0,S.lo)(e))).map((e=>`${s}${i?String(e).replace("'","''"):e}${s}`));o.length>0&&(a+=` ${l}${_.join(", ")}${c}`)}return a}},86374:(e,t,r)=>{r.d(t,{X:()=>s,_:()=>l});var n=r(94435),a=r.n(n),o=r(91877),i=r(93185);const s=function(){var e;const t=document.getElementById("app");if(!t)return[];const r=new Set([window.location.hostname]);if("1"===new(a())(window.location.search).get("disableDomainSharding"))return Array.from(r);const n=JSON.parse(t.getAttribute("data-bootstrap"));return(0,o.fG)(null==n||null==(e=n.common)?void 0:e.feature_flags),(0,o.cr)(i.T.ALLOW_DASHBOARD_DOMAIN_SHARDING)&&n&&n.common&&n.common.conf&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS&&n.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach((e=>{r.add(e)})),Array.from(r)}(),l=s.length>1},87183:(e,t,r)=>{r.d(t,{Y:()=>s});var n=r(51995),a=r(47933);const o=(0,n.iK)(a.ZP)`
  .ant-radio-inner {
    top: -1px;
    left: 2px;
    width: ${({theme:e})=>4*e.gridUnit}px;
    height: ${({theme:e})=>4*e.gridUnit}px;
    border-width: 2px;
    border-color: ${({theme:e})=>e.colors.grayscale.light2};
  }

  .ant-radio.ant-radio-checked {
    .ant-radio-inner {
      border-width: ${({theme:e})=>e.gridUnit+1}px;
      border-color: ${({theme:e})=>e.colors.primary.base};
    }

    .ant-radio-inner::after {
      background-color: ${({theme:e})=>e.colors.grayscale.light5};
      top: 0;
      left: 0;
      width: ${({theme:e})=>e.gridUnit+2}px;
      height: ${({theme:e})=>e.gridUnit+2}px;
    }
  }

  .ant-radio:hover,
  .ant-radio:focus {
    .ant-radio-inner {
      border-color: ${({theme:e})=>e.colors.primary.dark1};
    }
  }
`,i=(0,n.iK)(a.ZP.Group)`
  font-size: inherit;
`,s=Object.assign(o,{Group:i})},27600:(e,t,r)=>{r.d(t,{v2:()=>n,n2:()=>a,Ly:()=>o,gz:()=>i,KD:()=>s,oP:()=>l,M$:()=>c});const n="YYYY-MM-DD HH:mm:ssZ",a="HH:mm:ss.SSS",o="True",i="False",s={migrationState:{name:"migration_state",type:"string"},standalone:{name:"standalone",type:"number"},uiConfig:{name:"uiConfig",type:"number"},preselectFilters:{name:"preselect_filters",type:"object"},nativeFilters:{name:"native_filters",type:"rison"},nativeFiltersKey:{name:"native_filters_key",type:"string"},filterSet:{name:"filter_set",type:"string"},showFilters:{name:"show_filters",type:"boolean"}},l=250,c=500},69856:(e,t,r)=>{r.d(t,{YY:()=>a,Ps:()=>o,d:()=>i,LT:()=>s,GS:()=>l,QB:()=>c,fV:()=>_,Ak:()=>u,qK:()=>d,qB:()=>p,yi:()=>E,Q_:()=>m,m_:()=>T,ft:()=>S,cM:()=>N,i2:()=>A,X5:()=>L,vM:()=>I,Qi:()=>f,Yd:()=>h,H7:()=>y,kc:()=>O});var n=r(61988);const a={AVG:"AVG",COUNT:"COUNT",COUNT_DISTINCT:"COUNT_DISTINCT",MAX:"MAX",MIN:"MIN",SUM:"SUM"},o=Object.values(a);var i;!function(e){e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.LESS_THAN="LESS_THAN",e.GREATER_THAN="GREATER_THAN",e.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",e.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",e.IN="IN",e.NOT_IN="NOT_IN",e.ILIKE="ILIKE",e.LIKE="LIKE",e.REGEX="REGEX",e.IS_NOT_NULL="IS_NOT_NULL",e.IS_NULL="IS_NULL",e.LATEST_PARTITION="LATEST_PARTITION",e.IS_TRUE="IS_TRUE",e.IS_FALSE="IS_FALSE"}(i||(i={}));const s={[i.EQUALS]:{display:"equals",operation:"=="},[i.NOT_EQUALS]:{display:"not equals",operation:"!="},[i.GREATER_THAN]:{display:">",operation:">"},[i.LESS_THAN]:{display:"<",operation:"<"},[i.GREATER_THAN_OR_EQUAL]:{display:">=",operation:">="},[i.LESS_THAN_OR_EQUAL]:{display:"<=",operation:"<="},[i.IN]:{display:"IN",operation:"IN"},[i.NOT_IN]:{display:"NOT IN",operation:"NOT IN"},[i.LIKE]:{display:"LIKE",operation:"LIKE"},[i.ILIKE]:{display:"LIKE (case insensitive)",operation:"ILIKE"},[i.REGEX]:{display:"REGEX",operation:"REGEX"},[i.IS_NOT_NULL]:{display:"IS NOT NULL",operation:"IS NOT NULL"},[i.IS_NULL]:{display:"IS NULL",operation:"IS NULL"},[i.LATEST_PARTITION]:{display:"use latest_partition template",operation:"LATEST PARTITION"},[i.IS_TRUE]:{display:"IS TRUE",operation:"=="},[i.IS_FALSE]:{display:"IS FALSE",operation:"=="}},l=Object.values(i),c=[i.LIKE,i.ILIKE],_=[i.REGEX],u=[i.EQUALS,i.NOT_EQUALS,i.GREATER_THAN,i.LESS_THAN,i.GREATER_THAN_OR_EQUAL,i.LESS_THAN_OR_EQUAL],d=new Set([i.IN,i.NOT_IN]),p=new Set([i.LATEST_PARTITION]),E=[i.IS_NOT_NULL,i.IS_NULL,i.LATEST_PARTITION,i.IS_TRUE,i.IS_FALSE],m=/^(LONG|DOUBLE|FLOAT)?(SUM|AVG|MAX|MIN|COUNT)\([A-Z0-9_."]*\)$/i,T={time_range:(0,n.t)("Time range"),granularity_sqla:(0,n.t)("Time column"),time_grain_sqla:(0,n.t)("Time grain"),druid_time_origin:(0,n.t)("Origin"),granularity:(0,n.t)("Time granularity")},S={CLEARABLE:"clearable",DEFAULT_VALUE:"defaultValue",MULTIPLE:"multiple",SEARCH_ALL_OPTIONS:"searchAllOptions",SORT_ASCENDING:"asc",SORT_METRIC:"metric"},N=1e3,A={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},L="No filter",I="No filter";var f;!function(e){e.CONVERTED="CONVERTED",e.NOOP="NOOP",e.REVIEWING="REVIEWING",e.SNOOZED="SNOOZED",e.UNDECIDED="UNDECIDED"}(f||(f={}));const h=864e5,y=240,O=320},9679:(e,t,r)=>{function n(e){const t=new Set;return JSON.stringify(e,((e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))try{return JSON.parse(JSON.stringify(r))}catch(e){return}t.add(r)}return r}))}r.d(t,{o:()=>n})}}]);